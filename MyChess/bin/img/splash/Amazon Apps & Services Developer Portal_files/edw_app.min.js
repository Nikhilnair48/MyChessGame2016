(function(h){h.module("CommonModule","ngAnimate ngCookies ngSanitize ui.codemirror ui.router ExternalLibrariesModule".split(" "))})(window.angular);define("Common/CommonModule",function(){});
(function(h){h.module("CommonModule").factory("CommonAjax",["Utils","$http","$cookies","$q","ASK_AppEditingConfig",function(a,c,b,g,f){function e(){return{"x-amz-csrf":b.get("session-id")}}function k(a){return Object.assign(a,{"Content-Type":"application/x-www-form-urlencoded"})}function d(a){if("string"===typeof a)return a;if(a.exception)return q.exception=a,!1;q.exception=null;return!0}function l(a){q.exception=0!==a?{exception:!0,sessionExpired:!0}:{exception:!0,message:f.AJAX_ERRORS.UNKNOWN_ERROR_WITH_STATUS+
a}}var q={};return{properties:q,sendGetRequestAsync:function(a){return g(function(b,f){q.exception=null;c.get(a,{headers:e()}).then(function(a){!1===d(a.data)?f(q.exception):b(a.data)},function(a){l(a.status);f(q.exception)})})},sendPostRequestAsync:function(a,b){var d=encodeURIComponent(JSON.stringify(b));return g(function(b,f){c.post(a,d,{headers:k(e())}).then(function(a){(a=a.data)?(a=h.fromJson(decodeURIComponent(a)),a.exception?(q.exception=a,a=!1):q.exception=null):a=!0;!1===a?f(q.exception):
b(a)},function(a){l(a.status);f(q.exception)})})},sendMultipartFilePostRequestAsync:function(a){return g(function(b,e){c.post(a.uploadUrl,a.file,{}).then(function(a){!1===d(a.data)?e(q.exception):b(a.data)},function(a){l(a.status);e(q.exception)})})},sendChunkedFilePostRequestAsync:function(b){return g(function(c,d){var e=1,k=b.uploadUrl+"&setupMultipartUpload",l=b.uploadUrl+"&completeMultipartUpload",g=b.uploadUrl+"&part=",q=new XMLHttpRequest;q.onreadystatechange=function(){4===q.readyState&&-1===
[200,201,202].indexOf(q.status)&&d(f.AJAX_ERRORS.INVALID_FILE+q.responseText)};q.open("POST",k,!1);q.send();a.parseFile(b.file,function(a){a.error?d(f.AJAX_ERRORS.INVALID_FILE+a.error):null===a.result||a.finished?a.finished&&(q.open("POST",l,!1),q.send(),c(a)):(q.open("POST",g+e++,!1),q.send(a.result))})})},keepAlive:function(){c.get("/edw/ajax/keepAlive",{headers:e()})},uploadImageAsync:function(a,b){return g(function(c,d){var e=new XMLHttpRequest;e.open("POST",a.uploadURL,!0);e.onreadystatechange=
function(){4===e.readyState&&(200===e.status||201===e.status?c(e.responseText):-1!==e.responseText.search("InvalidFileSize")?d(f.AJAX_ERRORS.INVALID_IMAGE_SIZE_CONSTRAINT+b.sizeLimit):d(f.AJAX_ERRORS.INVALID_IMAGE_DIMENSION_LIMIT(b.dimensionLimit)))};e.send(a.file)})}}}])})(window.angular);define("Common/CommonAjax",function(){});
(function(h){h.module("CommonModule").factory("CommonService",["CommonAjax","$anchorScroll","$location","$timeout","$rootScope",function(a,c,b,g,f){function e(a,d,e){void 0===d||Array.isArray(d)?k.status.message=d:k.status.message=[d];k.status.type=a;k.status.stackTrace=e;g(function(){var a=b.hash();b.hash("EDW_Status");c();b.hash(a)})}var k={loadingMessage:"",status:{}},d={success:"success",error:"error",warning:"warning",sessionExpired:"sessionExpired"},l=null,q="",n=!1,m=[],r="",h="",p=[],u="";
f.$on("$stateChangeError",function(a,b,c,f,k,l){0===l.status&&e(d.sessionExpired)});return{properties:k,statusType:d,encodeApplicationId:function(a){return a?encodeURIComponent(a):void 0},decodeApplicationId:function(a){return a?decodeURIComponent(a):void 0},setLoadingMessage:function(a){k.loadingMessage=a},clearLoadingMessage:function(){k.loadingMessage=null},setStatus:e,clearStatus:function(){k.status.type=null},isMessageBoxVisible:function(){return n},getMessageBoxText:function(){return q},getMessageBoxButtons:function(){return m},
getMessageBoxSelectOptions:function(){return p},getMessageBoxLastOption:function(){return p?p[p.length-1]:void 0},getMessageBoxTitle:function(){return l},getMessageBoxSelectOption:function(){return r},setMessageBoxSelectOption:function(a){r=a},getMessageBoxSelectOptionType:function(){return h},setMessageBoxSelectOptionType:function(a){h=a},getMessageBoxClass:function(){return u},setMessageBoxClass:function(a){u=a},handleMessageBoxButtonClicked:function(a){n=!1;u="";a.eventHandler&&a.eventHandler()},
showMessageBox:function(a){showConfirmationBox(null,a,[{optionName:"OK"}])},showConfirmationBox:function(a,b,c,d){if(n)throw"messagebox already shown!";l=a;n=!0;q=b;m=c;p=d},recordMetrics:function(b,c,d){var e={};e.metricProperties=b;e.timingMetrics=c;e.counterMetrics=d;a.sendPostRequestAsync("/edw/ajax/recordMetrics",e)},cleanJSON:function(a){return a.replace(RegExp("\u00a0","g")," ")},showError:function(a){k.loadingMessage=null;a.exception?e(a.sessionExpired?d.sessionExpired:d.error,"Error: "+a.message,
a.stackTrace):e(d.error,"Error: "+a)}}}]).directive("edwEnter",function(){return{res:!0,link:function(a,c,b){c.bind("handle enter key press",function(c){13===c.which&&(a.$apply(function(){a.$eval(b.edwEnter)}),c.preventDefault())})}}})})(window.angular);define("Common/CommonService",function(){});
(function(h){h.module("CommonModule").controller("CommonController",["$scope","CommonService","ASK_AppEditingConfig",function(a,c,b){a.getLoadingMessage=function(){return c.properties.loadingMessage};a.getStatus=function(){return c.properties.status};a.feedbackType={};a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.TEST_SKILL]="TestSkill";a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.MORE_FEATURES]="MoreFeatures";a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.DISCOVERED_ISSUE]="DiscoveredIssue";a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.NOT_RECEIVED_CERTIFICTION_FEEDBACK]=
"NotReceivedCertificationFeedback";a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.NOT_INTEND_TO_PUBLISH]="NotIntendToPublish";a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.OTHER]="Other";a.onMessageBoxSelectionChanged=function(b){c.setMessageBoxSelectOption(b);c.setMessageBoxSelectOptionType(a.feedbackType[b])};a.onCustomTextChanged=function(g){c.setMessageBoxSelectOption(g);c.setMessageBoxSelectOptionType(a.feedbackType[b.WITHDRAW_MESSAGE_BOX_SELECT.OTHER])};a.disableButton=function(a,b,c){return a?
a!==c||b?!1:!0:!0};a.isMessageBoxVisible=c.isMessageBoxVisible;a.getMessageBoxText=c.getMessageBoxText;a.getMessageBoxTitle=c.getMessageBoxTitle;a.getMessageBoxButtons=c.getMessageBoxButtons;a.getMessageBoxSelectOptions=c.getMessageBoxSelectOptions;a.getMessageBoxLastOption=c.getMessageBoxLastOption;a.getMessageBoxClass=c.getMessageBoxClass;a.handleMessageBoxButtonClicked=c.handleMessageBoxButtonClicked;a.$watch(function(){return a.getLoadingMessage()||a.getStatus().type||a.isMessageBoxVisible()},
function(b){a.fullHeightDisabled=!1!==b});Array.prototype.findIndex||(Array.prototype.findIndex=function(a,b){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!==typeof a)throw new TypeError("predicate must be a function");for(var c=Object(this),k=c.length>>>0,d,l=0;l<k;l++)if(d=c[l],a.call(b,d,l,c))return l;return-1})}])})(window.angular);define("Common/CommonController",function(){});
(function(h){h.module("CommonModule").factory("audioService",["$document","$rootScope","CommonService","CommonAjax","ASK_AppEditingConfig",function(a,c,b,g,f){function e(){this.audioElement=a[0].createElement("audio");this.audioElement.preload=!1;this.audioElement.autoplay=!1;this.lastAudioBlob=null;this.audioElement.addEventListener("playing",function(){c.$apply()});this.audioElement.addEventListener("pause",function(){c.$apply()});this.audioElement.addEventListener("error",function(a){var c;switch(a.target.error.code){case a.target.error.MEDIA_ERR_ABORTED:c=
"The audio playback was aborted.";break;case a.target.error.MEDIA_ERR_NETWORK:c="A network error caused the audio download to fail.";break;case a.target.error.MEDIA_ERR_DECODE:c="The audio playback was aborted due to a corruption problem or because the audio uses features your browser does not support.";break;case a.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:c="The audio could not be loaded, either because the server or network failed or because the format is not supported.";break;default:c="An unknown media error occurred."}b.setStatus(b.statusType.error,
"Error: "+c,a.stackTrace)})}function k(a,b,c){b=b||"";c=c||512;a=CryptoJS.enc.Latin1.stringify(CryptoJS.enc.Base64.parse(a));for(var d=[],e=0;e<a.length;e+=c){for(var f=a.slice(e,e+c),k=Array(f.length),g=0;g<f.length;g++)k[g]=f.charCodeAt(g);f=new Uint8Array(k);d.push(f)}return new Blob(d,{type:b})}function d(a,b,c){var d={},e=window.navigator.userAgent.toLowerCase(),k=-1<e.indexOf("msie ")||-1<e.indexOf("trident/"),e=-1<e.indexOf("safari")&&-1==e.indexOf("chrome");d.audioFormat=k||e?"MP3":"OGG";
d.contentType=b;d.text=CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(a));d.voiceName=c||f.VOICE_NAME.en_US;return d}e.prototype.playTts=function(a,c,e,f,r){var h=this.audioElement;a=d(a,c,e);var p=this.lastAudioBlob;f&&f();g.sendPostRequestAsync("/edw/ajax/getTTS",a).then(function(a){p&&window.URL.revokeObjectURL(p);var c=1,d=a.audioFiles,e=function(){c<d.length?(window.URL.revokeObjectURL(p),p=k(d[c],a.contentType,512),h.src=window.URL.createObjectURL(p),c+=1,h.play()):(window.URL.revokeObjectURL(p),
h.removeEventListener("ended",e,!1))};p=k(d[0],a.contentType,512);h.addEventListener("ended",e);h.src=window.URL.createObjectURL(p);h.play();b.clearStatus();r&&r()},function(a){r&&r();a.exception?b.setStatus(a.sessionExpired?b.statusType.sessionExpired:b.statusType.error,"Error: "+a.message,a.stackTrace):b.setStatus(b.statusType.error,"Error: "+a)})};e.prototype.pause=function(){this.audioElement.pause()};e.prototype.isPlaying=function(){return!this.audioElement.paused&&0<this.audioElement.duration};
return{createAudioPlayer:function(){return new e},getVoiceInputType:function(a){return-1==a.indexOf("<speak>")?"PlainText":"SSML"}}}])})(window.angular);define("Common/AudioService",function(){});
(function(h){h.module("CommonModule").factory("CodeMirrorExtensions",["$timeout",function(a){return{enforceMaxLength:function(a,b){var g=a.getOption("maxLength");if(g&&b.update){var f=b.text.join("\n"),e=f.length-(a.indexFromPos(b.to)-a.indexFromPos(b.from));if(0>=e)return!0;e=a.getValue().length+e-g;0<e&&(f=f.substr(0,f.length-e),b.update(b.from,b.to,f.split("\n")))}return!0},formatJavascript:function(c){var b=c.getDoc(),g;a(function(){g=((b.children||[])[0].lines||[])[0].text;b.setValue(window.jsBeautify(g,
{indent_size:4}))})}}}])})(window.angular);define("Common/CodeMirrorExtensions",function(){});(function(h){h.module("CommonModule").directive("compile",["$compile",function(a){return function(c,b,g){c.$watch(function(a){return a.$eval(g.compile)},function(f){b.html(f);a(b.contents())(c)})}}])})(window.angular);define("Common/Compile",function(){});(function(h){h.module("CommonModule").constant("EDW_CONFIG",window.EDW_CONFIG)})(window.angular);define("Common/Config",function(){});
(function(h){h.module("CommonModule").filter("orderObjectBy",function(){return function(a,c,b){function g(a){return!isNaN(parseFloat(a))&&isFinite(a)}function f(a,b){return a[b]}var e=[];h.forEach(a,function(a,b){a.key=b;e.push(a)});e.sort(function(a,b){var e=c.split(".").reduce(f,a),h=c.split(".").reduce(f,b);g(e)&&g(h)&&(e=Number(e),h=Number(h));return e===h?0:e>h?1:-1});b&&e.reverse();return e}})})(window.angular);define("Common/Filters",function(){});
(function(h){h.module("CommonModule").factory("ImageMaskingService",["$document",function(a){function c(b,c){var f=a[0].createElement("canvas");f.height=b;f.width=c;return f}return{getMaskedImageFile:function(b){var g=b.originalImage,f=b.emptyMaskImage,e=b.imageWidth,k=b.imageHeight,d=b.compressedImageWidth,l=b.compressedImageHeight,h=b.xOffset,n=b.yOffset,m=d/2;b=c(k,e);var r=b.getContext("2d"),t=a[0].createElement("canvas");t.height=k;t.width=e;var p=t.getContext("2d");p.rect(0,0,e,k);p.fillStyle=
"white";p.fill();p.drawImage(g,0,0);g=r;g.beginPath();g.moveTo(h+m,n);g.lineTo(h+d-m,n);g.quadraticCurveTo(h+d,n,h+d,n+m);g.lineTo(h+d,n+l-m);g.quadraticCurveTo(h+d,n+l,h+d-m,n+l);g.lineTo(h+m,n+l);g.quadraticCurveTo(h,n+l,h,n+l-m);g.lineTo(h,n+m);g.quadraticCurveTo(h,n,h+m,n);g.closePath();g.clip();g.drawImage(t,h,n,d,l);d=c(k,e);d.getContext("2d").drawImage(f,0,0);f=c(k,e);e=f.getContext("2d");e.drawImage(b,0,0);e.globalCompositeOperation="source-over";e.drawImage(d,0,0);f=f.toDataURL("image/png",
1);b=0<=f.split(",")[0].indexOf("base64")?atob(f.split(",")[1]):unescape(f.split(",")[1]);f=f.split(",")[0].split(":")[1].split(";")[0];e=new Uint8Array(b.length);for(k=0;k<b.length;k++)e[k]=b.charCodeAt(k);return new Blob([e],{type:f})}}}])})(window.angular);define("Common/ImageMaskingService",function(){});
(function(){"function"!==typeof Object.assign&&(Object.assign=function(h,a){if(null===h)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(h),b=1;b<arguments.length;b++){var g=arguments[b];if(null!==g)for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}return c})})();define("Common/Polyfills",function(){});
(function(h){h.module("CommonModule").factory("RecursionHelper",["$compile",function(a){return{compile:function(c,b){h.isFunction(b)&&(b={post:b});var g=c.contents().remove(),f;return{pre:b&&b.pre?b.pre:null,post:function(c,k){f||(f=a(g));f(c,function(a){k.append(a)});b&&b.post&&b.post.apply(null,arguments)}}}}}])})(window.angular);define("Common/RecursionHelper",function(){});
(function(h){h.module("CommonModule").factory("Utils",["ASK_AppEditingConfig",function(a){return{set:function(a,b,g){var f,e;"string"===typeof b&&(b=b.split("."));f=0;for(e=b.length-1;f<e;f++){if("undefined"===typeof a[b[f]]||null===a[b[f]])a[b[f]]={};a=a[b[f]]}a[b[e]]=g;return a},get:function(a,b,g){function f(a,c,d){b.splice(0,1,c,parseInt(d,10))}g&&b.match(/^\[(\d+)\]/)&&(b="a"+b,a={a:a});for(b=b.split(".");a&&0<b.length;){for(;g&&String(b[0]).match(/.*\[\d+\]$/);)String(b[0]).replace(/(.*)\[(\d+)\]$/,
f);a=a[b.splice(0,1)]}return 0===b.length?a:void 0},combineSkillData:function(a){return a.reduce(function(a,c){var f=c.skillInfo.skillId,e=c.skillInfo.stage;a[f]=a[f]||{};a[f][e]=c;return a},{})},chocolateSelectDataFromObjectProperties:function(a,b,g){return Object.keys(a).filter(function(b){return a.hasOwnProperty(b)}).map(function(f,e,k){return{value:g?g(f,e,k):f,text:b?b(f,e,k):a[f]}})},convertArrayToChocolateSelect:function(a){return a.map(function(a){return{value:a,text:a}})},parseFile:function(c,
b){function g(a,b,c){var d=new FileReader;a=c.slice(a,b+a);d.onload=f;d.readAsText(a)}function f(a){if(a.target.error)return b({error:a.target.error});k+=d;k<e&&g(k,d,c);return b({result:a.target.result,finished:k>=e})}var e=c.size,k=0,d=a.MIN_FILE_SIZE_FOR_CHUNKS;g(k,d,c)},isValidJSON:function(a){try{JSON.parse(a)}catch(b){return!1}return!0},removeSpace:function(a){return"string"===typeof a?a.replace(/\s/g,""):a}}}])})(window.angular);define("Common/Utils",function(){});
(function(h){h.module("CommonModule").constant("NoImage","/edw/res/images/no-icon.png").directive("edwUserInput",["$interval","audioService","ASK_AppEditingConfig","AlexaAppManagementStorage",function(a,c,b,g){function f(e,f,d){e.handleEdwInputChange=function(){a(e.edwChange,0,1)};e.AppEditingConfig=b;e.handleAddEdwItem=function(){e.edwDisabled||(e.edwModel||(e.edwModel=[]),e.edwMaxSize&&e.edwModel.length<e.edwMaxSize&&(e.edwModel.push(""),e.edwChange()))};e.handleRemoveEdwItem=function(a){-1!==a&&
(e.edwModel.splice(a,1),e.edwChange())};e.toggleSelection=function(a){var b=e.edwModel.indexOf(a);-1<b?e.edwModel.splice(b,1):e.edwModel.push(a)};e.selectAll=function(){for(var a=Object.keys(e.edwOptions),b=0;b<a.length;b++)if(0>e.edwModel.indexOf(e.edwOptions[a[b]])){for(;b<a.length;b++)e.edwModel.push(e.edwOptions[a[b]]);return}e.edwModel=[]};e.areAllSelected=function(){if(!e.edwOptions)return!1;for(var a=Object.keys(e.edwOptions),b=0;b<a.length;b++)if(0>e.edwModel.indexOf(e.edwOptions[a[b]]))return!1;
return!0};e.uploadImage="/edw/res/images/upload_image.png";e.getDisplayImage=function(){return e.edwModel&&"/edw/res/images/no-icon.png"!==e.edwModel?e.edwModel:e.edwDisabled?"/edw/res/images/no-icon.png":"/edw/res/images/upload_image.png"};e.showEdwRemoveImage=function(){return e.edwImageAllowRemove&&e.edwModel&&"/edw/res/images/no-icon.png"!==e.edwModel&&!e.edwDisabled};e.getPlaceholder=function(){return e.edwPlaceholder||""};e.bubbleVisible=[];e.handleEdwFocus=function(a){e.edwBubbleDisabled||
(e.bubbleVisible[a]=!0)};e.handleEdwBlur=function(a){e.edwBubbleDisabled||(e.bubbleVisible[a]=!1)};if("voice-input"===d.type){var g=!1;e.audioPlayer=c.createAudioPlayer();e.audioPlayOrPause=function(a){var b=e.edwVoiceName,d=c.getVoiceInputType(a);a&&!e.audioPlayer.isPlaying()?e.audioPlayer.playTts(a,d,b,function(){g=!0},function(){g=!1}):e.audioPlayer.pause()};e.isAudioPlayerLoading=function(){return g};e.getVoiceButtonText=function(){return e.audioPlayer.isPlaying()?e.AppEditingConfig.TESTING_TAB.SIMULATOR.VOICE.STOP:
e.AppEditingConfig.TESTING_TAB.SIMULATOR.VOICE.LISTEN};e.clearVoiceTesterUserInput=function(){e.edwModel=""}}}return{restrict:"E",templateUrl:"/edw/res/js/Views/Common/Controls/EdwUserInput.view",scope:{type:"@",edwDataSourceType:"@",edwName:"=",edwHtmlName:"=",edwDescription:"=",edwYesLabel:"=",edwNoLabel:"=",edwHtmlDescription:"=",edwV2:"=",edwMandatory:"=",edwModel:"=",edwInit:"=",edwDisabled:"=",edwGlobal:"=",edwInactive:"=",edwInactiveMessage:"=",edwVerticalRadioButtons:"=",edwChange:"&",edwImageSelected:"&",
edwOptions:"=",edwDefaultOption:"@",edwRows:"@",edwCols:"@",edwMaxLength:"@",edwErrorCondition:"=",edwErrorMessage:"@",edwMaxSize:"=",edwEnableSubControl:"=",edwRequired:"=",edwAddButtonText:"@",edwRemoveItemClick:"&",edwAddItemClick:"&",edwHideSeparator:"=",edwContent:"=",edwSecondary:"=",edwSubItem:"=",edwImageAllowRemove:"=",edwImageRemoved:"&",edwProvideDefault:"=",edwPlaceholder:"=",edwSelectionDisabled:"=",edwRadioItems:"=",edwFocus:"&",edwBlur:"&",edwStyle:"=",edwBubble:"=",edwBubbleDisabled:"=",
edwExtra:"=",edwVoiceName:"=",edwEpValidatorShow:"=",edwEpValidator:"=",edwEpValidatorWarningDisplay:"="},transclude:!0,compile:function(a,c){c.type||(c.type=g.edwInputTypes.text);"undefined"===typeof c.edwDefaultOption&&(c.edwDefaultOption=b.USER_INPUT_COMPONENT.DEFAULT_OPTION);"undefined"===typeof c.edwAddButtonText&&(c.edwAddButtonText=b.USER_INPUT_COMPONENT.ADD_BUTTON_TEXT);"undefined"===typeof c.edwMaxLength&&(c.edwMaxLength=b.USER_INPUT_COMPONENT.MAX_LENGTH);return f}}}])})(window.angular);
define("Common/Controls/EdwUserInput",function(){});
(function(h){h=h.module("CommonModule");h.constant("NoImage","/edw/res/images/no-icon.png");h.directive("edwTwoUserInput",["$interval","audioService","ASK_AppEditingConfig",function(a,c,b){function g(f,e,k){f.handleEdwInputChange=function(){a(f.edwChange,0,1)};f.AppEditingConfig=b;f.handleAddEdwItem=function(){f.$parent.edwModel||(f.$parent.edwModel=[]);if(f.edwMaxSize||f.edwModel.length<f.edwMaxSize)f.edwModel.push(""),f.edwChange()};f.handleRemoveEdwItem=function(a){-1!=a&&(f.edwModel.splice(a,
1),f.edwChange())};f.uploadImage="/edw/res/images/upload_image.png";f.getDisplayImage=function(){return f.edwModel&&"/edw/res/images/no-icon.png"!==f.edwModel?f.edwModel:f.edwDisabled?"/edw/res/images/no-icon.png":"/edw/res/images/upload_image.png"};f.showEdwRemoveImage=function(){return f.edwImageAllowRemove&&f.edwModel&&"/edw/res/images/no-icon.png"!==f.edwModel&&!f.edwDisabled};f.getPlaceholder=function(){return f.edwPlaceholder?edwPlaceholder:""};f.bubbleVisible=[];f.handleEdwFocus=function(a){f.edwBubbleDisabled||
(f.bubbleVisible[a]=!0)};f.handleEdwBlur=function(a){f.edwBubbleDisabled||(f.bubbleVisible[a]=!1)};if("voice-input"===k.type){var d=!1;f.audioPlayer=c.createAudioPlayer();f.audioPlayOrPause=function(a){var b=c.getVoiceInputType(a);a&&!f.audioPlayer.isPlaying()?f.audioPlayer.playTts(a,b,function(){d=!0},function(){d=!1}):f.audioPlayer.pause()};f.isAudioPlayerLoading=function(){return d};f.getVoiceButtonText=function(){return f.audioPlayer.isPlaying()?f.AppEditingConfig.TESTING_TAB.SIMULATOR.VOICE.STOP:
f.AppEditingConfig.TESTING_TAB.SIMULATOR.VOICE.LISTEN};f.clearVoiceTesterUserInput=function(){f.edwModel=""}}}return{restrict:"E",templateUrl:"/edw/res/js/Views/Common/Controls/EdwV2/EdwUserInputV2.view",scope:{type:"@",edwDataSourceType:"@",edwName:"=",edwHtmlName:"=",edwDescription:"=",edwYesLabel:"=",edwNoLabel:"=",edwHtmlDescription:"=",edwMandatory:"=",edwModel:"=",edwDisabled:"=",edwInactive:"=",edwInactiveMessage:"=",edwVerticalRadioButtons:"=",edwChange:"&",edwImageSelected:"&",edwOptions:"=",
edwDefaultOption:"@",edwRows:"@",edwCols:"@",edwMaxLength:"@",edwErrorCondition:"=",edwErrorMessage:"@",edwMaxSize:"=",edwEnableSubControl:"=",edwRequired:"=",edwAddButtonText:"@",edwRemoveItemClick:"&",edwAddItemClick:"&",edwHideSeparator:"=",edwContent:"=",edwSecondary:"=",edwSubItem:"=",edwImageAllowRemove:"=",edwImageRemoved:"&",edwProvideDefault:"=",edwPlaceholder:"=",edwSelectionDisabled:"=",edwRadioItems:"=",edwFocus:"&",edwBlur:"&",edwStyle:"=",edwBubble:"=",edwBubbleDisabled:"="},transclude:!0,
compile:function(a,b){b.type||(b.type="text");void 0===b.edwDefaultOption&&(b.edwDefaultOption=" Please select ");void 0===b.edwAddButtonText&&(b.edwAddButtonText="Add item");void 0===b.edwMaxLength&&(b.edwMaxLength=524288);return g}}}])})(window.angular);define("Common/Controls/EdwV2/EdwUserInputV2",function(){});
(function(h){h.module("CommonModule").directive("edwBubbleV2",["ASK_AppEditingConfig",function(a){return{replace:!0,restrict:"E",scope:{bubbleInfo:"=",index:"="},templateUrl:"/edw/res/js/Views/Common/Controls/EdwV2/EdwBubbleV2.view",link:function(c){c.appEditingConfig=a}}}])})(window.angular);define("Common/Controls/EdwV2/EdwBubbleV2",function(){});
(function(h){h.module("CommonModule").directive("edwHtmlDescriptionCompile",["$compile",function(a){return function(c,b,g){c.$watch(function(a){return a.$eval(g.compile)},function(f){b.html(c.edwHtmlDescription);a(b.contents())(c)})}}])})(window.angular);define("Common/Controls/EdwV2/EdwHtmlDescriptionCompile",function(){});
(function(h){h.module("CommonModule").directive("edwTwoToolTip",["ASK_AppEditingConfig",function(a){return{restrict:"E",scope:{content:"="},templateUrl:"/edw/res/js/Views/Common/Controls/EdwV2/ToolTip/EdwToolTipV2.view",link:function(c){var b=c.content.toLowerCase().replace(/[.,!&;:_`~]/g,""),g=a.PRESENTATION_TAB.EXAMPLE_PHRASES_101_TOOLTIP,f=["alexa"],e=["ask","tell","launch","start","talk"],k=["open"],d=["daily horoscopes"],l=["for","about","if","whether"],h=["to","that"],n=["the horoscope for taurus",
"give me the horoscope for taurus","i want my taurus horoscope for today"];c.getToolTipText=function(){var a=c.content;-1<f.indexOf(b)?a=g.WAKE_WORD:-1<e.indexOf(b)?a=g.INVOKE_SKILL:-1<k.indexOf(b)?a=g.INVOKE_SKILL_OTHER_OPTIONS:-1<d.indexOf(b)?a=g.INVOCATION_NAME:-1<l.indexOf(b)?a=g.CONNECTING_WORD_ASK:-1<h.indexOf(b)?a=g.CONNECT_WORD_TELL:-1<n.indexOf(b)&&(a=g.SAMPLE_UTTERANCE);return a}}}}])})(window.angular);define("Common/Controls/EdwV2/ToolTip/EdwToolTipV2",function(){});
(function(h){h.module("CommonModule").directive("edwFileUpload",function(){return{scope:{edwFileSelected:"&"},res:!0,link:function(a,c,b){c.bind("change",function(b){var c={};c.file=b.target.files[0];a.edwFileSelected({arg:c})})}}})})(window.angular);define("Common/Controls/EdwFileUpload",function(){});
(function(h){h.module("CommonModule").directive("edwFileInput",["$parse",function(a){return{replace:!0,restrict:"E",template:'<input type="file" />',link:function(c,b,g){var f=a(g.fileModel).assign;b.bind("change",function(){c.$apply(function(){f(c,b[0].files[0])})})}}}])})(window.angular);define("Common/Controls/EdwFileInput",function(){});
(function(h){h.module("ExternalLibrariesModule",["isteven-multi-select","ui.bootstrap"]).directive("edwChart",function(){return window.EDW_CONFIG.isMetricsV2Enabled?{scope:{config:"=",noDataMessage:"=",chartTitle:"=",chartTooltip:"=",onZoomClick:"&",zoomExpandTooltip:"="},replace:!0,templateUrl:"/edw/res/js/Views/Common/ExternalLibraries/EdwChart.view",link:function(a,c,b){var g;a.expandEnabled=!0;var f=function(){if(a.config.chart)a.config.chart.renderTo=c[0].lastElementChild,g=new Highcharts.Chart(a.config);
else{var b=h.extend({chart:{renderTo:c[0].lastElementChild}},a.config);g=new Highcharts.Chart(b)}a.noDataMessage&&g.series&&0===g.series.length&&(g.showLoading(a.noDataMessage),a.expandEnabled=!1)};a.openZoomModal=function(){a.onZoomClick({chart:g,title:a.chartTitle})};f();a.$watch("config.series",function(){f()},!0)}}:{scope:{config:"=",noDataMessage:"="},replace:!0,template:'<div class="highcharts-wrapper"></div>',link:function(a,c,b){var g;a.expandEnabled=!0;var f=function(){if(a.config.chart)a.config.chart.renderTo=
c[0],g=new Highcharts.Chart(a.config);else{var b=h.extend({chart:{renderTo:c[0]}},a.config);g=new Highcharts.Chart(b)}a.noDataMessage&&g.series&&0===g.series.length&&(g.showLoading(a.noDataMessage),a.expandEnabled=!1)};f();a.$watch("config.series",function(){f()},!0)}}}).directive("edwDateRangePicker",function(){var a=require("jquery").noConflict(!0);return{restrict:"A",scope:{edwDateRangePickerProperties:"=",edwDateRangePickerOnSelectionChange:"="},link:function(c,b,g){a(b).daterangepicker(c.edwDateRangePickerProperties).on("apply.daterangepicker",
function(a,b){c.edwDateRangePickerOnSelectionChange(b.startDate,b.endDate)})}}}).factory("MomentService",function(){return require("moment")}).factory("InlineService",function(){return require("alexaInlineValidator")})})(window.angular);define("Common/ExternalLibraries/ExternalLibrariesModule",function(){});
(function(h){h.module("CommonModule").directive("adwBanner",["AlexaAppManagementAjax","ASK_AppEditingConfig","AlexaAppManagementStorage","$window",function(a,c,b,g){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/Components/AdwBanner/AdwBanner.view",link:function(c,e,k){e=document.getElementsByClassName("goto-adw-button")[0];k=function(d){a.setDeveloperPreferencesAsync({skillId:c.skillId,preferences:{alexaCreator:!0}}).then(function(a){c.skill.setDeveloperPreferences(a)},console.error);
g.location.href=b.getCreatorRedirectionPath(c.skillId,c.selectedLocale)}.bind(c);e.addEventListener("click",k)}}}])})(window.angular);define("Components/AdwBanner/AdwBanner",function(){});(function(h){h.module("CommonModule").directive("askHeaderBar",function(){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/Components/AskHeaderBar/AskHeaderBar.view"}})})(window.angular);define("Components/AskHeaderBar/AskHeaderBar",function(){});
(function(h){h.module("CommonModule").directive("avsHeaderBar",function(){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/Components/AvsHeaderBar/AvsHeaderBar.view"}})})(window.angular);define("Components/AvsHeaderBar/AvsHeaderBar",function(){});
(function(h){h.module("CommonModule").directive("askCountrySelector",["$timeout",function(a){return{replace:!0,restrict:"E",scope:{edwAppEditingConfig:"=",edwAvailableWorldwide:"=",edwChange:"&",edwCountries:"=",edwDisabled:"=",edwOptions:"="},templateUrl:"/edw/res/js/Views/Components/CountrySelector/CountrySelector.view",transclude:!1,link:function(c){c.edwCountries=c.edwCountries||[];c.edwOptionsValues=Object.keys(c.edwOptions||[]).map(function(a){return c.edwOptions[a]});c.toggleSelection=function(a){var g=
c.edwCountries.indexOf(a);-1<g?c.edwCountries.splice(g,1):c.edwCountries.push(a)};c.selectAll=function(){c.edwCountries=c.areAllCountriesSelected()?[]:c.edwOptionsValues};c.areAllCountriesSelected=function(){if(!c.edwCountries)return!1;var a=c.edwCountries.length===c.edwOptionsValues.length;c.selectAllLabel=a?c.edwAppEditingConfig.COUNTRY_SELECTOR.DESELECT_ALL_COUNTRIES:c.edwAppEditingConfig.COUNTRY_SELECTOR.SELECT_ALL_COUNTRIES;return a};c.handleInputChange=function(){c.edwAvailableWorldwide&&(c.edwCountries=
[]);a(c.edwChange)};c.$evalAsync()}}}])})(window.angular);define("Components/CountrySelector/CountrySelector",function(){});
(function(h){h.module("CommonModule").directive("customSlotTypes",["ASK_AppEditingConfig","AlexaAppManagementStorage","CommonService","CodeMirrorExtensions","EDW_CONFIG",function(a,c,b,g,f){return{replace:!0,restrict:"E",scope:!0,templateUrl:"/edw/res/js/Views/Components/CustomSlotTypes/CustomSlotTypes.view",link:function(e){function k(a){e.vm.jsonCustomSlots=null;if(a||!e.hasExistingCatalog)e.interactionModelVM.setIsCatalogDirty(!1),e.showEntityResolution=null,l(),u&&e.fileUploadObj.setCustomSlotMode(null)}
function d(a){a=a||{};"undefined"!==typeof a.ignoreCatalog&&!0===a.ignoreCatalog||e.interactionModelVM.setIsCatalogDirty(!1);if(a.isDelete||a.isCancel&&!e.hasExistingCatalog)e.showEntityResolution=null,u&&(e.fileUploadObj.setCustomSlotMode(null),l());e.vm.plainText.showForm=a.showForm||!1;a.ignoreCatalog||(e.vm.plainText.type=a.type||null,e.vm.plainText.values=a.values||null);e.vm.plainText.currentIndex=a.currentIndex||null;e.vm.plainText.editMode=!0===a.ignoreCatalog}function l(){e.skill.setCatalogs([],
e.selectedLocale);u&&(e.skill.deleteCatalogType(e.selectedLocale),e.skill.deleteCatalogSupplyMethod(e.selectedLocale))}function q(){e.catalogSaveButtonText=e.vm.plainText.editMode?a.CATALOG_TAB.UPDATE_CATALOG_ITEM_BUTTON:a.CATALOG_TAB.ADD_CATALOG_ITEM_BUTTON}var n=e.skill.getCatalogs(e.selectedLocale),m=e.skill.getCatalogType(e.selectedLocale),r,t,p=!0,u=f.isFileUploadEnabled;e.vm={};e.AppEditingConfig=a;e.customSlotInputMethods=c.customSlotInputMethods;e.showEntityResolution=f.isEREnabled?m&&(m===
c.customSlotInputTypes.entityResolution?c.customSlotInputMethods.json:c.customSlotInputMethods.plainText)||null:c.customSlotInputMethods.plainText;e.codeMirrorRefresh=!1;e.hasExistingCatalog="string"===typeof n||Array.isArray(n)&&0<n.length;e.catalogButtonText=e.skill.skillInfo.stage===e.skill.appStages.dev?a.CATALOG_TAB.EDIT_BUTTON:a.CATALOG_TAB.VIEW_BUTTON;e.$watch("showEntityResolution",function(a){a&&u&&(e.fileUploadObj.setShowCancelButton(!1),e.skill.setCatalogSupplyMethod(c.customSlotModes.typeIn,
e.selectedLocale));f.isEREnabled&&a===e.customSlotInputMethods.json?(r=JSON.stringify(n),e.vm.jsonCustomSlots=e.hasExistingCatalog?JSON.stringify(e.skill.modelDef[e.selectedLocale].catalogs):c.entitityResolutionTemplate,e.skill.setCatalogType(c.customSlotInputTypes.entityResolution,e.selectedLocale)):a===e.customSlotInputMethods.plainText&&(r={},t=e.skill.modelDef[e.selectedLocale].catalogs||[],e.vm.plainText={},e.hasExistingCatalog||d({showForm:!0}),e.skill.setCatalogType(c.customSlotInputTypes.catalog,
e.selectedLocale),q())});f.isEREnabled&&(e.customSlotTypeSelector=[{value:c.customSlotInputMethods.json,text:a.INTERACTION_MODEL_TAB.CUSTOM_SLOT_TYPES.FORMAT_CHOOSER.JSON,tooltip:a.INTERACTION_MODEL_TAB.CUSTOM_SLOT_TYPES.FORMAT_CHOOSER.JSON_TOOLTIP},{value:c.customSlotInputMethods.plainText,text:a.INTERACTION_MODEL_TAB.CUSTOM_SLOT_TYPES.FORMAT_CHOOSER.PLAIN_TEXT,tooltip:a.INTERACTION_MODEL_TAB.CUSTOM_SLOT_TYPES.FORMAT_CHOOSER.PLAIN_TEXT_TOOLTIP}],e.slotTypeJsonEditorHasErrors=!1,e.jsonCustomSlotsSaveButtonEnabled=
!1,e.$on("globalSaveButton",function(){e.showEntityResolution===e.customSlotInputMethods.json&&e.jsonCustomSlotsOnSave(!0)}),e.slotTypePlaceholderOptions={gutters:["CodeMirror-lint-markers"],lineNumbers:!0,lineNumberFormatter:function(){return""},readOnly:"nocursor"},e.onSlotTypePlaceholderLoad=function(a){var b=a.getDoc();a.setSize("100%",200);b.markClean()},e.slotTypeJsonEditorOptions={mode:"application/json",lint:{getAnnotations:CodeMirror.lint.json,onUpdateLinting:function(a){e.slotTypeJsonEditorHasErrors=
0<a.length;e.vm.jsonCustomSlots&&e.isJsonCustomSlotsSaveButtonEnabled()}},gutters:["CodeMirror-lint-markers"],lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,highlightSelectionMatches:!0,styleActiveLine:!0},e.onSlotTypeJsonEditorLoad=function(a){var b=a.getDoc();g.formatJavascript(a);a.setSize("100%",200);a.setOption("maxLength",6E5);a.setOption("readOnly",e.readOnlyMode);a.on("beforeChange",g.enforceMaxLength);b.markClean()},e.jsonCustomSlotsOnChange=function(){e.interactionModelVM.setIsCatalogDirty(!(p||
h.equals(e.vm.jsonCustomSlots,r)));p=!1},e.jsonCustomSlotsOnCancel=function(){k();e.skillTab.clearMessage()},e.jsonCustomSlotsOnDelete=function(){b.showConfirmationBox(a.CATALOG_TAB.CONFIRMATION_MESSAGE_BOX.TITLE,a.CATALOG_TAB.CONFIRMATION_MESSAGE_BOX.MESSAGE,[{optionName:a.CATALOG_TAB.MESSAGE_BOX_BUTTONS.DELETE,eventHandler:function(){e.hasExistingCatalog=!1;k(!0);e.handleInputChange()}},{optionName:a.MESSAGE_BOX_BUTTONS.CANCEL}])},e.jsonCustomSlotsOnSave=function(a){var b=JSON.parse(e.vm.jsonCustomSlots);
e.skill.modelDef[e.selectedLocale].catalogs=b;e.skill.modelDef[e.selectedLocale].catalogs||(e.skill.modelDef[e.selectedLocale].catalogs=[]);e.hasExistingCatalog=!0;e.interactionModelVM.setIsCatalogDirty(!1);a||e.saveApplicationChanges();e.isJsonCustomSlotsSaveButtonEnabled(!1)},e.isJsonCustomSlotsSaveButtonEnabled=function(){e.jsonCustomSlotsSaveButtonEnabled=0<(e.vm.jsonCustomSlots&&e.vm.jsonCustomSlots.length)&&e.interactionModelVM.getIsCatalogDirty()&&!e.slotTypeJsonEditorHasErrors;e.$evalAsync()});
e.slotTypePlainTextEditorOptions={lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,highlightSelectionMatches:!0,styleActiveLine:!0,maxHighlightLength:0};e.onSlotTypePlainTextEditorLoad=function(a){var b=a.getDoc();a.setSize("100%",200);a.setOption("maxLength",6E5);a.setOption("readOnly",e.readOnlyMode);a.on("beforeChange",g.enforceMaxLength);b.markClean()};e.plainTextCustomSlotsAddButton=function(){e.vm.plainText.showForm=!0;e.vm.plainText.editMode=!1;q()};e.plainTextCustomSlotsEditButton=
function(a){e.vm.plainText.showForm=!0;e.vm.plainText.editMode=!0;e.vm.plainText.currentIndex=a;e.vm.plainText.type=t[a].name;e.vm.plainText.values=e.convertCatalogEntitiesToString(t[a].values,"\n");q()};e.plainTextCustomSlotsDeleteButton=function(c){b.showConfirmationBox(a.CATALOG_TAB.CONFIRMATION_MESSAGE_BOX.TITLE,a.CATALOG_TAB.CONFIRMATION_MESSAGE_BOX.MESSAGE,[{optionName:a.CATALOG_TAB.MESSAGE_BOX_BUTTONS.DELETE,eventHandler:function(){t.splice(c,1);e.skill.modelDef[e.selectedLocale].catalogs=
t;e.skill.modelDef[e.selectedLocale].catalogs&&1>e.skill.modelDef[e.selectedLocale].catalogs.length&&(e.hasExistingCatalog=!1,e.showEntityResolution=null,d({isDelete:!0}));e.handleInputChange()}},{optionName:e.AppEditingConfig.MESSAGE_BOX_BUTTONS.CANCEL}])};e.plainTextCustomSlotsOnChange=function(){e.skill.modelDef[e.selectedLocale]||(e.skill.modelDef[e.selectedLocale]={});e.skill.modelDef[e.selectedLocale].catalogs||(e.skill.modelDef[e.selectedLocale].catalogs=[]);e.interactionModelVM.setIsCatalogDirty(!0)};
e.plainTextCustomSlotsOnCancel=function(){d({isCancel:!0,ignoreCatalog:e.vm.plainText.editMode});e.skillTab.clearMessage()};e.plainTextCustomSlotsOnSave=function(){"undefined"!==typeof e.vm.plainText.currentIndex&&t[e.vm.plainText.currentIndex]?(t[e.vm.plainText.currentIndex].name=e.vm.plainText.type,t[e.vm.plainText.currentIndex].values=e.convertStringToCatalogEntities(e.vm.plainText.values)):t.push({name:e.vm.plainText.type,values:e.convertStringToCatalogEntities(e.vm.plainText.values)});e.skill.modelDef[e.selectedLocale].catalogs?
h.merge(e.skill.modelDef[e.selectedLocale].catalogs,t):e.skill.modelDef[e.selectedLocale].catalogs=t;e.skill.modelDef[e.selectedLocale].catalogs||(e.skill.modelDef[e.selectedLocale].catalogs=[]);e.hasExistingCatalog=!0;e.interactionModelVM.setIsCatalogDirty(!1);d();e.handleInputChange()}}}}])})(window.angular);define("Components/CustomSlotTypes/CustomSlotTypes",function(){});
(function(h){h.module("CommonModule").directive("endpointInput",["ASK_AppEditingConfig",function(a){return{replace:!0,restrict:"E",scope:{edwConfig:"=",edwDisabled:"=",edwDefaultEndpointOptions:"=",edwEndpoint:"=",edwEndpointChange:"&",edwSkill:"=",edwSkillTypes:"="},templateUrl:"/edw/res/js/Views/Components/EndpointInput/EndpointInput.view",link:function(c){c.$evalAsync();c.AppEditingConfig=a;c.edwGlobal=!0;c.selectedRegions=[];var b=c.$watch("edwSkill",function(a){a.isInitializing||(c.edwFixedType=
a.containsSmartHomeType()||a.containsMusicType(),b())});c.$watch("edwEndpoint",function(a){Object.keys(a).forEach(function(a){"defaultRegion"!==a&&"type"!==a&&0>c.selectedRegions.indexOf(a)&&c.selectedRegions.push(a)});c.showDefaultSelection=c.selectedRegions&&1<c.selectedRegions.length},!0);c.getDefaultEndpointClass=function(a){return c.edwEndpoint.defaultRegion===a?"regional-endpoint-default":"regional-endpoint-make-default"};c.getDefaultEndpointText=function(a){return c.edwEndpoint.defaultRegion===
a?c.AppEditingConfig.APP_INFO_TAB.APP_ENDPOINT.OPTION_IS_DEFAULT:c.AppEditingConfig.APP_INFO_TAB.APP_ENDPOINT.OPTION_MAKE_DEFAULT};c.setDefault=function(a,b){b&&b.preventDefault();c.edwEndpoint.defaultRegion=a;c.edwEndpointChange()};c.handleRegionSelection=function(a){var b=c.selectedRegions.indexOf(a);-1!==b?(c.selectedRegions.splice(b,1),delete c.edwEndpoint[a],0<c.selectedRegions.length&&c.setDefault(c.selectedRegions[0])):(c.selectedRegions.push(a),c.edwEndpoint[a]||(c.edwEndpoint[a]={region:a}),
1===c.selectedRegions.length&&c.setDefault(a));c.showDefaultSelection=c.selectedRegions&&1<c.selectedRegions.length;c.edwEndpointChange()};c.getEndpointTitle=function(){return c.edwSkill.containsSmartHomeType()?c.AppEditingConfig.APP_INFO_TAB.SMARTHOME_ENDPOINT.TEXT:c.edwSkill.containsMusicType()?c.AppEditingConfig.APP_INFO_TAB.MUSIC_ENDPOINT.TEXT:c.AppEditingConfig.APP_INFO_TAB.APP_ENDPOINT.TEXT};c.getEndpointHelpText=function(){return c.edwSkill.containsSmartHomeType()?c.AppEditingConfig.APP_INFO_TAB.SMARTHOME_ENDPOINT.HELP:
c.edwSkill.containsMusicType()?c.AppEditingConfig.APP_INFO_TAB.MUSIC_ENDPOINT.HELP:c.AppEditingConfig.APP_INFO_TAB.APP_ENDPOINT.HELP}}}}])})(window.angular);define("Components/EndpointInput/EndpointInput",function(){});
(function(h){h.module("CommonModule").directive("examplePhraseBuilder",["ASK_AppEditingConfig","AlexaAppManagementStorage","Utils",function(a,c,b){return{replace:!0,restrict:"E",scope:{containsInvocationPhrase:"=",convertPhraseToParts:"=",handleExamplePhraseChange:"=",locale:"=",phrase101ModalVisible:"=",selectExamplePhraseText:"=",selectedSampleUtterances:"=",showModal:"=",skill:"="},templateUrl:"/edw/res/js/Views/Components/ExamplePhraseBuilder/ExamplePhraseBuilder.view",link:function(g){function f(a){var b=
a.length,c,d;0===(g.selectedSampleUtterances||[]).length&&b<=r?(b!==r&&b++,c=e(b),c[b-1]={wakeWord:g.AppEditingConfig.WAKE_WORDS[0],invocationName:g.skill.getInvocationName(g.locale),conversational:!1,placeholder:!0}):c=e(b);g.examplePhrasesSchema&&h.merge(c,g.examplePhrasesSchema);b&&a.forEach(function(a,b){if(g.hasInvokePhrase&&0===b)d=g.convertPhraseToParts(a),"undefined"!==typeof c[b].invokePhrase?h.merge(c[b],g.examplePhrasesSchema[b]):(c[b]=d,c[b].wakeWord&&c[b].launchWord&&c[b].invocationName||
(c[b]={wakeWord:g.AppEditingConfig.WAKE_WORDS[0],invocationName:g.skill.getInvocationName(g.locale)}),c[b].invokePhrase=!0),c[b].conversational&&delete c[b].conversational;else{if("undefined"!==typeof a.lineNumber)c[b].converted||(c[b]={wakeWord:g.AppEditingConfig.WAKE_WORDS[0],invocationName:g.skill.getInvocationName(g.locale),sampleUtterance:{selectedPhraseLineNum:a.lineNumber,template:a.lineText},conversational:!1});else{d=g.convertPhraseToParts(a);var e=!(d.wakeWord||d.launchWord||d.invocationName)&&
d.sampleUtterance&&d.sampleUtterance.template;d.wakeWord||d.launchWord||d.invocationName||d.sampleUtterance&&d.sampleUtterance.template?(c[b]=d,e&&(c[b].conversational=!0)):(c[b].existingExamplePhrase=a,c[b].conversational&&delete c[b].conversational)}c[b].invokePhrase&&delete c[b].invokePhrase}c[b].placeholder&&delete c[b].placeholder});return c}function e(a){for(var b=[],c=(g.AppEditingConfig.EXAMPLE_PHRASE_FORMAT(g.locale)||g.AppEditingConfig.EXAMPLE_PHRASE_FORMAT()).reduce(function(a,b){a[b]=
null;return a},{}),d=0;d<(a||1);d++)b.push(h.copy(c));return b}function k(a){var b=g.examplePhrasesSchema[a],c=!!(b.wakeWord&&b.launchWord&&b.invocationName),e=!(!b.sampleUtterance||!b.sampleUtterance.value||b.sampleUtterance.value===m[a].lineText);(b.conversational||c)&&(b.invokePhrase||e)&&(b.placeholder&&delete b.placeholder,g.phrases[a]=d(g.examplePhrasesSchema[a]),g.handleExamplePhraseChange(g.phrases))}function d(a){var b=(g.AppEditingConfig.EXAMPLE_PHRASE_FORMAT(g.locale)||g.AppEditingConfig.EXAMPLE_PHRASE_FORMAT()).map(function(b){return b===
c.examplePhraseParts.sampleUtterance?a.invokePhrase?"":a[b]&&a[b].value:a[b]&&!a.conversational?a[b]:""}).filter(String);a.converted=!0;return b.join(" ")}function l(a,b){m.splice(b,1);g.phrases.splice(b,1);g.examplePhrasesSchema.splice(b,1);g.$emit("examplePhraseRemoved",a);g.handleExamplePhraseChange(g.phrases)}function q(){g.hasInvokePhrase?(m.unshift(""),g.phrases.unshift(""),g.examplePhrasesSchema.unshift({}),g.examplePhrasesSchema=f(m)):g.examplePhrasesSchema[0]&&g.examplePhrasesSchema[0].invokePhrase&&
(l(g.examplePhrasesSchema[0],0),g.examplePhrasesSchema.forEach(function(a,b){a.conversational&&l(a,b)}))}var n,m,r=a.ALLOWED_EXAMPLE_PHRASES;(function(){m=g.phrases=n=g.skill.getExamplePhrases(g.locale)||[];g.AppEditingConfig=a;g.hasInvokePhrase=g.containsInvocationPhrase(n[0]);g.wakeWords=b.convertArrayToChocolateSelect(g.AppEditingConfig.WAKE_WORDS);g.invocationWords=b.convertArrayToChocolateSelect(g.AppEditingConfig.INVOCATION_VERBS);g.launchWords=b.convertArrayToChocolateSelect(g.AppEditingConfig.LAUNCH_VERBS);
g.handlePhrasePartChange=k;g.handleConversationalToggle=q;g.closeModal=function(){g.showModal()};g.$watch("selectedSampleUtterances",function(a){"undefined"!==typeof a&&(m=n.concat(a));g.hasInvokePhrase&&m<r&&m.unshift("");g.examplePhrasesSchema=f(m)},!0);g.$watch("examplePhrasesSchema",function(a){g.firstInstanceOfNewPhrase=a.findIndex(function(a){return!a.existingExamplePhrase&&!a.invokePhrase})},!0);g.$on("sampleUtteranceUnchecked",function(a,b){var c;c=g.examplePhrasesSchema.findIndex(function(a){return(a.sampleUtterance||
{}).template===b.sampleUtteranceInfo.text});l(g.examplePhrasesSchema[c],c)})})();g.removeExamplePhrase=l}}}])})(window.angular);define("Components/ExamplePhraseBuilder/ExamplePhraseBuilder",function(){});
(function(h){h.module("CommonModule").directive("examplePhrases",["ASK_AppEditingConfig","AlexaAppManagementStorage",function(a,c){return{replace:!0,restrict:"E",scope:{locale:"=",skill:"="},templateUrl:"/edw/res/js/Views/Components/ExamplePhrases/ExamplePhrases.view",link:function(b){b.EXAMPLE_PHRASES_101=a.PRESENTATION_TAB.EXAMPLE_PHRASES_101_INSTRUCTION;b.edwConfig=window.EDW_CONFIG;b.isEnLocale=b.locale===c.locales.en_US||b.locale===c.locales.en_GB||b.locale===c.locales.en_IN;b.showUpdatedEP101=
b.isEnLocale&&b.edwConfig.isEPValidationInlineWithButtonEnabled;b.showMusicExamplePhrases=b.skill.containsMusicType();b.showSmartHomeExamplePhrases=b.skill.containsSmartHomeType()}}}])})(window.angular);define("Components/ExamplePhrases/ExamplePhrases",function(){});
(function(h){h.module("CommonModule").directive("fileUploadSelector",["$timeout","AlexaAppManagementStorage","Utils","CommonService",function(a,c,b,g){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/Components/FileUploadSelector/FileUploadSelector.view",scope:!0,link:function(a){var b=a.fileUploadObj,k=a.skill.getCatalogSupplyMethod(a.selectedLocale),d=a.skill.getCatalogs(a.selectedLocale)&&0<a.skill.getCatalogs(a.selectedLocale).length;a.handleFileButtonClick=function(a){a=h.element(a.target).parent();
b.$input=a.find("input");b.$input[0].click()};a.handleTypeInButtonClick=function(d){d.preventDefault();a.isTypeInButtonEnabled=!1;a.isFileButtonEnabled=!1;b.setShowCancelButton(!0);b.setCustomSlotMode(c.customSlotModes.typeIn)};a.handleFileDeleteClick=function(c){c.preventDefault();g.showConfirmationBox(a.AppEditingConfig.INTERACTION_MODEL_TAB.CATALOG_INPUT.UPLOAD_FILE.DELETE_CONFIRM.TITLE,a.AppEditingConfig.INTERACTION_MODEL_TAB.CATALOG_INPUT.UPLOAD_FILE.DELETE_CONFIRM.MESSAGE,[{optionName:a.AppEditingConfig.INTERACTION_MODEL_TAB.CATALOG_INPUT.UPLOAD_FILE.DELETE,
eventHandler:function(){b.reset()}},{optionName:a.AppEditingConfig.MESSAGE_BOX_BUTTONS.CANCEL}])};a.hasFile=function(){return b.hasFileSelected||b.hasFileUploaded};Object.assign(a.fileUploadObj,{getFileInformation:function(a){return a?this.fileInformation[a]||null:this.fileInformation||{}},setFileInformation:function(a){this.fileInformation=a},setFileUploadButtonText:function(){a.fileUploadButtonText=a.hasFile()?a.AppEditingConfig.INTERACTION_MODEL_TAB.CATALOG_INPUT.UPLOAD_FILE.REPLACE_BUTTON:a.AppEditingConfig.INTERACTION_MODEL_TAB.CATALOG_INPUT.UPLOAD_FILE.CHOOSE_BUTTON},
resetSelectionButtonState:function(){a.isFileButtonEnabled=!0;a.isTypeInButtonEnabled=!0},setHasFileSelected:function(a){this.hasFileSelected=a},setHasFileUploaded:function(a){this.hasFileUploaded=a}});a.$watch("vm.customSlotFileModel",function(d){d&&d.name&&(b.setCustomSlotMode(c.customSlotModes.fileUpload),a.isFileButtonEnabled=!0,a.isTypeInButtonEnabled=!1,b.setFileInformation(d),a.skill.setCatalogSupplyMethod(c.customSlotModes.fileUpload,a.selectedLocale),a.skill.setCatalogFileName(d.name,a.selectedLocale),
a.skill.setCatalogs([],a.selectedLocale),b.setShowCancelButton(!1),b.setHasFileSelected(!0),b.setHasFileUploaded(!1),b.setFileUploadButtonText(),a.handleInputChange())});a.isFileButtonEnabled=!0;a.isTypeInButtonEnabled=!0;b.setHasFileSelected(!1);b.setHasFileUploaded(!1);b.setFileUploadButtonText();if(k===c.customSlotModes.typeIn)b.setCustomSlotMode(c.customSlotModes.typeIn),a.isTypeInButtonEnabled=!1,a.isFileButtonEnabled=!1,d||b.setShowCancelButton(!0);else if(k===c.customSlotModes.fileUpload||
k===c.customSlotModes.stored)b.setHasFileUploaded(!0),b.setFileInformation({name:a.skill.getCatalogFileName(a.selectedLocale)}),a.isFileButtonEnabled=!0,a.isTypeInButtonEnabled=!1,b.setShowCancelButton(!1),b.setFileUploadButtonText()}}}])})(window.angular);define("Components/FileUploadSelector/FileUploadSelector",function(){});
(function(h){h.module("CommonModule").directive("multiSelect",["$document",function(a){return{replace:!0,restrict:"E",scope:{items:"=",ngModel:"=",multipleSelectedTextCallback:"&",itemAllSelected:"=",itemNoneSelected:"="},templateUrl:"/edw/res/js/Views/Components/MultiSelect/MultiSelect.view",transclude:!1,link:function(c,b,g){function f(a){return a in l?null!==l[a]:"undefined"!==typeof c[a]}function e(){var a=c.model.filter(function(a){return a.selected}),b=a.length;if(f("itemAllSelected")&&b===
c.model.length){if(c.ngModel=c.itemAllSelected.value,1!==b){c.label=c.itemAllSelected.text;return}}else{if(f("itemNoneSelected")&&0===b){c.ngModel=c.itemNoneSelected.value;c.label=c.itemNoneSelected.text;return}c.ngModel=a.map(function(a){return a.value})}1===b?c.label=a[0].text:f("multipleSelectedTextCallback")&&(c.label=c.multipleSelectedTextCallback({num:b}))}function k(a){a=a.target.className;a.indexOf&&-1!==a.indexOf("multi-select-element")||c.$apply(function(){c.toggleDropdown()})}var d=!0;
c.expanded=!1;c.focusIndex=-1;var l={defaultSelectAll:null,restoreDefaultSelectionsWhenItemsChange:null};h.forEach(l,function(a,b){b in g&&(l[b]=g[b])});c.toggleDropdown=function(){c.expanded=!c.expanded;if(c.expanded)a.on("click",k);else a.off("click",k)};c.toggleSelection=function(a){c.model[a].selected=!c.model[a].selected;e()};c.$watchCollection("items",function(){c.model=(c.items||[]).map(function(a){f("defaultSelectAll")?a.selected=!0:f("ngModel")&&!f("restoreDefaultSelectionsWhenItemsChange")?
a.selected=-1!==c.ngModel.indexOf(a.value):a.selected=!1;return a});!d&&f("restoreDefaultSelectionsWhenItemsChange")&&e()});d=!1}}}])})(window.angular);define("Components/MultiSelect/MultiSelect",function(){});
(function(h){h.module("CommonModule").directive("selectedUtterance",["$compile",function(a){return{replace:!0,restrict:"E",scope:{interactionModel:"=",phraseChange:"&",selectedUtteranceInstance:"=",model:"=ngModel"},link:function(c,b){function g(a){var b=/(\{\w*})/g,d=a.template,d=function(){var a={};c.interactionModel&&(a=JSON.parse(c.interactionModel));(a.intents||[]).map(function(a){return a.intent}).forEach(function(a){d=d.replace(a+" "||a,"")});return d}(),d=function(){return d.split(b).filter(String).map(function(a,
b){var c=-1<a.indexOf("{"),d={type:c?"slot":"string"};c||(d.value=a,e.push(d.value));c&&(c=JSON.stringify({debounce:{"default":500,blur:0},updateOn:"default blur"}).replace(/"/g,"'"),d.template='<awsui-textfield class="awsui-textfield-wrapper" placeholder="'+a+'" ng-model="sampleUtterance.parts['+b+'].value" ng-model-options="'+c+'"></awsui-textfield>',d.slotName=a,e.push(d.template));return d})}();a.parts=d;return a}function f(a){var b,c=0;b=a.parts.map(function(a){return a.value?(c++,a.value):""});
return c===a.parts.length?(k=!0,b.join("")):!1}var e=[],k=!1,d;c.$watch("model.value",function(a){a&&k&&c.phraseChange({$index:c.selectedUtteranceInstance})});c.$watch("model",function(k){k&&(d=k,c.sampleUtterance=g(k),b.html(e.join("")),a(b.contents())(c),e=[])});c.$watch("sampleUtterance",function(a){a&&(a=f(a))&&(d.value=a,c.model=d)},!0)}}}])})(window.angular);define("Components/SelectedUtterance/SelectedUtterance",function(){});
(function(h){h.module("CommonModule").directive("sideNav",["ASK_AppEditingConfig","EDW_CONFIG",function(a,c){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/Components/SideNav/SideNav.view",link:function(b){var g={validTab:"/edw/res/images/check_green.png",invalidTab:"/edw/res/images/check_gray.png",pendingTab:"/edw/res/images/ajax-loader.gif",failedTab:"/edw/res/images/alertIcon.svg"},f=b.skill.getDeveloperPreferences(),f=c.isOptInCreatorEnabled&&f.alexaCreator;b.navigationTabs=[{text:a.APP_INFO_TAB.TEXT,
menuStep:b.menuSteps.applicationInfo},{text:a.INTERACTION_MODEL_TAB.TEXT,menuStep:b.menuSteps.intentSchema,optInAlexaCreator:f,betaText:f?a.CREATOR.BETA_STEP_TEXT:""},{text:a.CONFIGURATION_TAB.TEXT,menuStep:b.menuSteps.configuration},{text:a.SSL_CERTIFICATE_TAB.TEXT,menuStep:b.menuSteps.updateSSLCert,hide:!b.showSSLCert},{text:a.TESTING_TAB.TEXT,menuStep:b.menuSteps.testing,hide:b.readOnlyMode},{text:a.ALEXA_APPSTORE_INFO_TAB.TEXT,menuStep:b.menuSteps.publishingInfo},{text:a.PRIVACY_COMPLIANCE_TAB.TEXT,
menuStep:b.menuSteps.privacyCompliance}];b.shouldHide=function(a){return a===b.menuSteps.updateSSLCert?!1===b.showSSLCert:a===b.menuSteps.testing?b.readOnlyMode:!1};b.getStatusClasses=function(a){return a?b.stateClasses[a]:b.stateClasses[b.stateEnum.NOT_VALID]};b.getStatusIcon=function(a){return a?g[a]:g[b.stateEnum.NOT_VALID]};b.getTabClasses=function(a){var c=["sidenav-"+a+"-tab"];b.showActionSucceededConfirmation()||b.selectedMenuStep!==a&&(a!==b.menuSteps.applicationInfo||b.selectedMenuStep!==
b.menuSteps.createApplication)?b.enableNavigation||c.push("disabled-view"):c.push("active-view");var d=b.navigationTabs.findIndex(function(a){return a.menuStep===b.menuSteps.intentSchema});b.navigationTabs[d].optInAlexaCreator&&a===b.menuSteps.intentSchema&&c.push("beta-step");return c}}}}])})(window.angular);define("Components/SideNav/SideNav",function(){});
(function(h){h.module("CommonModule").directive("testMate",["ASK_AppEditingConfig","AlexaAppManagementStorage","$http","$window",function(a,c,b,g){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/Components/TestMate/TestMate.view",link:function(f){function e(){var a=n[f.testMateStatus];a&&(f.testMateStatus=a.status,f.redirectUrlMsg=a.UrlMsg,f.statusClass=a.statusClass,f.showToolTipMsg=a.showToolTip);f.showLoader=!1}function k(){f.testMateStatus=h.LOADING;e();f.showLoader=!0;b({url:l+
"/tm/ajax/getTestStatus.json?tenantTestObjectId="+f.skillId,method:"GET",headers:{Accept:"application/vnd+amazon.uitoolkit+json;ns=1"}}).success(function(a){a:{var b;for(b=0;b<a.length;b++)if("data"===a[b].block&&"undefined"!==typeof a[b].contents){a=a[b].contents[0].contents;break a}a=null}f.testMateStatus=null!==a?a:h.NOT_ELIGIBLE;e()}).error(function(a){f.testMateStatus=h.NOT_ELIGIBLE;e()})}function d(){var a;a:{a=f.tabStatus;var b=f.skill.getAssignedLocales(),c,d;for(c=0;c<b.length;c++)for(d=
0;d<m.length;d++)if("validTab"!==a[b[c]][m[d]]){a=!1;break a}a=!0}a?k():(f.testMateStatus=h.NOT_ELIGIBLE,e())}f.showTestMateComponent=!1;var l="",h={LOADING:"LOADING",NOT_ELIGIBLE:"NOT_ELIGIBLE",NOT_STARTED:"NOT_STARTED",RUNNING:"RUNNING",COMPLETED:"COMPLETED"},n={LOADING:{status:"",UrlMsg:"",statusClass:"",showToolTip:!1},NOT_ELIGIBLE:{status:a.TESTMATE_COMPONENT.STATES.NOT_ELIGIBLE.TEXT,UrlMsg:"",statusClass:"incompleteTest",showToolTip:!0},NOT_STARTED:{status:a.TESTMATE_COMPONENT.STATES.NOT_STARTED.TEXT,
UrlMsg:a.TESTMATE_COMPONENT.STATES.NOT_STARTED.URL_MSG,statusClass:"incompleteTest",showToolTip:!1},RUNNING:{status:a.TESTMATE_COMPONENT.STATES.RUNNING.TEXT,UrlMsg:a.TESTMATE_COMPONENT.STATES.RUNNING.URL_MSG,statusClass:"successfulTest",showToolTip:!1},COMPLETED:{status:a.TESTMATE_COMPONENT.STATES.COMPLETED.TEXT,UrlMsg:a.TESTMATE_COMPONENT.STATES.COMPLETED.URL_MSG,statusClass:"completedTest",showToolTip:!1}},m=[f.menuSteps.applicationInfo,f.menuSteps.intentSchema,f.menuSteps.configuration];f.generateTestMateLink=
function(a){g.open(l+"/tm/alexa/dashboard.html?itemId="+a)};f.$watch("tabStatus",function(a,b){a!==b&&(l="true"===f.configurations.isTestMateSupportReverseProxy?"":f.configurations.testMateWebsiteEndpoint,d())},!0);"undefined"!==typeof f.skillId&&(f.showTestMateComponent=f.skill.skillInfo.stage===c.appStages.dev,l="true"===f.configurations.isTestMateSupportReverseProxy?"":f.configurations.testMateWebsiteEndpoint,d())}}}])})(window.angular);define("Components/TestMate/TestMate",function(){});
(function(h){h.module("CommonModule").directive("askSkillListItem",function(){return{replace:!0,restrict:"E",scope:{visibleListItems:"="},templateUrl:"/edw/res/js/Views/Components/SkillListItem/SkillListItem.view"}})})(window.angular);define("Components/SkillListItem/SkillListItem",function(){});
(function(h){h.module("CommonModule").directive("sslCertificate",["ASK_AppEditingConfig",function(a){return{replace:!0,restrict:"E",scope:{edwCertificateTypes:"=",edwChange:"&",edwConfig:"=",edwDisabled:"=",edwEndpoints:"=",edwTypesModel:"=",edwTextModel:"="},templateUrl:"/edw/res/js/Views/Components/SSLCertificate/SSLCertificate.view",transclude:!1,link:function(c){c.$evalAsync();c.AppEditingConfig=a;c.certificateTypesMap=Object.keys(c.edwCertificateTypes).map(function(a){var g={};g.key=a;g.value=
c.edwCertificateTypes[a];return g});c.$watch("edwEndpoints",function(){c.endpointsMap=Object.keys(c.edwEndpoints)},!0);c.getEndpointTitle=function(a){return a?c.AppEditingConfig.SSL_CERTIFICATE_TAB.ENDPOINT_TITLE.replace("{region}",a):""}}}}])})(window.angular);define("Components/SSLCertificate/SSLCertificate",function(){});
(function(h){h.module("AlexaHomeModule",["CommonModule","AlexaSkillModule","AVSModule"]).config(["$stateProvider",function(a){a.state("home",{url:"/",templateUrl:"/edw/res/js/Views/Home/AlexaHome.view",controller:"AlexaHomeController"})}])})(window.angular);define("Home/AlexaHomeModule",function(){});
(function(h){h.module("AlexaHomeModule").controller("AlexaHomeController",["$scope","$state","Home_Config","ASK_ROUTE_STATE","AVS_ROUTE_STATE","CommonService",function(a,c,b,g,f,e){-1!==window.location.href.indexOf("?fragment=")?window.location=window.location.href.replace("?fragment=","#").slice(0,-2):(document.getElementById("EdwMainContent").style.display="block",document.getElementById("EdwMainLoadingGif").style.display="none");a.Config=b;a.gotoASK=function(){c.go(g.Home)};a.gotoAVS=function(){window.EDW_CONFIG.isRedirectToAVS?
window.location.href="/avs/home.html":c.go(f.Home)};e.clearLoadingMessage();e.clearStatus()}])})(window.angular);define("Home/AlexaHomeController",function(){});
(function(h){h.module("AlexaHomeModule").constant("Home_Config",{HEADER:"Get started with Alexa",INTRODUCTION:"Add new voice-enabled capabilities using the Alexa Skills Kit, or add voice-powered experiences to your connected devices with the Alexa Voice Service.",ASK_TITLE:"Alexa Skills Kit",ASK_DESCRIPTION:"Easily add new skills to Alexa",ASK_GOTOHOME:"Get Started >",AVS_TITLE:"Alexa Voice Service",AVS_DESCRIPTION:"Bring voice capabilities to<br> your connected device",AVS_GOTOHOME:"Get Started >"})})(window.angular);
define("Home/AlexaHomeConstants",function(){});
(function(h){var a={Home:"skills",CreateSkill:"createSkill",EditSkill:"editSkill",LiveSkill:"liveSkill",CertSkill:"certSkill",Tabs:{createApplication:"create",applicationInfo:"info",intentSchema:"intentSchema",updateSSLCert:"updateSSLCert",configuration:"configuration",testing:"testing",publishingInfo:"publishingInfo",privacyCompliance:"privacy"}};window.EDW_CONFIG.isMetricsV2Enabled?(a.ListLegacy="list",a.Analytics="analytics"):a.HomeTabs={list:"list",analytics:"analytics"};a.Tabs.lastTab=a.Tabs.privacyCompliance;
h.module("AlexaSkillModule",["CommonModule"]).config(["$stateProvider",function(c){var b,g,f,e,k,d;function l(a){var b={stage:function(){return a&&a.stage?a.stage:"Development"},readOnly:function(){return a?a.readOnly:!1}};a&&a.rootState&&(b.rootState=function(){return a.rootState});return b}function h(a){return a.toLowerCase().replace(/[^\s]+/g,function(a){return a.charAt(0).toUpperCase()+a.substring(1)})}function n(b,d,e,k){var f="back"+b;c.state(b,{url:d+"/:appId/:locale",templateUrl:"/edw/res/js/Views/AlexaSkill/AlexaSkill.view",
controller:"AlexaSkillController",redirectTo:b+".info",resolve:e}).state(b+".create",{url:"/create",templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/CreateLanguage.view",controller:"AlexaSkillCreateLanguageController"}).state(b+"."+a.Tabs.applicationInfo,{url:"/"+a.Tabs.applicationInfo,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/SkillInfo.view",controller:"AlexaSkillInfoController"}).state(b+"."+a.Tabs.intentSchema,{url:"/"+a.Tabs.intentSchema,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/InteractionModel/InteractionModel.view",
controller:"AlexaSkillInteractionModelController"}).state(b+"."+a.Tabs.testing,{url:"/"+a.Tabs.testing,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/Test/SkillTest.view",controller:"AlexaSkillTestController"}).state(b+"."+a.Tabs.publishingInfo,{url:"/"+a.Tabs.publishingInfo,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/SkillPublishingInfo.view",controller:"AlexaSkillPublishingInfoController"}).state(b+"."+a.Tabs.updateSSLCert,{url:"/"+a.Tabs.updateSSLCert,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/SkillSSLCert.view",
controller:"AlexaSkillSSLCertController"}).state(b+"."+a.Tabs.configuration,{url:"/"+a.Tabs.configuration,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/Configuration/SkillConfiguration.view",controller:"AlexaSkillConfigurationController"}).state(b+"."+a.Tabs.privacyCompliance,{url:"/"+a.Tabs.privacyCompliance,templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/SkillPrivacyCompliance.view",controller:"AlexaSkillPrivacyComplianceController"}).state(f,{url:k+"/:appId",redirectTo:b}).state(f+".applicationInfo",
{url:"/applicationInfo",redirectTo:b+"."+a.Tabs.info}).state(f+"."+a.Tabs.intentSchema,{url:"/"+a.Tabs.intentSchema,redirectTo:b+"."+a.Tabs.intentSchema}).state(f+"."+a.Tabs.testing,{url:"/"+a.Tabs.testing,redirectTo:b+"."+a.Tabs.testing}).state(f+"."+a.Tabs.publishingInfo,{url:"/"+a.Tabs.publishingInfo,redirectTo:b+"."+a.Tabs.publishingInfo}).state(f+"."+a.Tabs.updateSSLCert,{url:"/"+a.Tabs.updateSSLCert,redirectTo:b+"."+a.Tabs.updateSSLCert})}window.EDW_CONFIG.isMetricsV2Enabled?(b="AlexaSkillAnalyticsController",
g="/edw/res/js/Views/AlexaSkill/Analytics/AlexaSkillAnalytics.view",f="AlexaSkillListController",e="/edw/res/js/Views/AlexaSkill/List/AlexaSkillList.view",d="/edw/res/js/Views/AlexaSkill/AlexaSkillHome.view",k=void 0):(b="AlexaSkillAnalyticsControllerV1",g="/edw/res/js/Views/AlexaSkill/Analytics/metricsv1/AlexaSkillAnalytics.view",f="AlexaSkillListControllerV1",e="/edw/res/js/Views/AlexaSkill/List/metricsv1/AlexaSkillList.view",k="AlexaSkillHomeControllerV1",d="/edw/res/js/Views/AlexaSkill/metricsv1/AlexaSkillHome.view");
window.EDW_CONFIG.isMetricsV2Enabled?c.state(a.Home,{url:"/skills",templateUrl:e,controller:f}).state(a.Home+"."+a.ListLegacy,{url:"/list",redirectTo:a.Home}).state(a.Analytics,{url:"/analytics/:skillId/{stageName:(?:development|live)}/:tabName",templateUrl:g,controller:b,params:{stageName:{value:"development",squash:!0},tabName:{value:"overview",squash:!0}},resolve:{skillId:["$stateParams",function(a){return a.skillId.toLowerCase()}],stageName:["$stateParams",function(a){return h(a.stageName)}],
tabName:["$stateParams",function(a){return h(a.tabName)}]}}):c.state(a.Home,{url:"/skills",templateUrl:d,controller:k,redirectTo:a.Home+"."+a.HomeTabs.list}).state(a.Home+"."+a.HomeTabs.list,{url:"/list",templateUrl:e,controller:f}).state(a.Home+"."+a.HomeTabs.analytics,{url:"/analytics",templateUrl:g,controller:b});c.state(a.CreateSkill,{url:"/skill/create",templateUrl:"/edw/res/js/Views/AlexaSkill/AlexaSkill.view",controller:"AlexaSkillController",redirectTo:"createSkill.newSkill",resolve:l({rootState:a.CreateSkill})}).state(a.CreateSkill+
".newSkill",{url:"/",templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/CreateSkill.view",controller:"AlexaSkillCreateController",data:{selectedMenuStep:a.Tabs.createApplication}});n(a.EditSkill,"/skill",l({rootState:a.EditSkill}),"/app");n(a.LiveSkill,"/skill/live",l({stage:"Live",readOnly:!0,rootState:a.LiveSkill}),"/app/live");n(a.CertSkill,"/skill/cert",l({stage:"Certification",readOnly:!0,rootState:a.CertSkill}),"/app/cert")}]).constant("ASK_ROUTE_STATE",a)})(window.angular);
define("AlexaSkill/AlexaSkillModule",function(){});
(function(h,a){var c=h.module("AlexaSkillModule"),b={Custom:["en_US","en_GB","de_DE"],SmartHome:["en_US","en_GB","de_DE"],Content:["en_US","en_GB","de_DE"],Music:["en_US","en_GB","de_DE"]},g={en_US:"English (U.S.)",en_GB:"English (U.K.)",de_DE:"German"},f={TEXT:"Alexa",TOOLTIP:"The default wake word for Alexa."},e={TEXT:"Open",TOOLTIP:"One of the words users can say to invoke a skill. Other options include <strong>Launch, Start, Talk To,</strong> and others."},k={TEXT:"Ask",TOOLTIP:"One of the words users can say to invoke a skill."},
d={TEXT:"Daily Horoscopes",TOOLTIP:"Your skill's invocation name, written in title case."},l={TEXT:"For",TOOLTIP:'Connecting word between the invocation name and the sample utterance. This can make the phrase flow more naturally. Connecting words you can use with an "ask" phrase are: <strong>to, about, for, if, whether.</strong> Alternatively, you can leave out the connecting word, but use a sample utterance that begins with a question word such as "what" or "how": "Ask Daily Horoscopes what\'s the horoscope for Taurus."'},
q={TEXT:"To",TOOLTIP:'Connecting word between the invocation name and the sample utterance. This can make the phrase flow more naturally. Connecting words you can use with a "tell" phrase are: <strong>to, that.</strong>'},n={TEXT:"The horoscope for taurus",TOOLTIP:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."},m={TEXT:"Give me the horoscope for taurus",TOOLTIP:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."},
r={TEXT:"I want my Taurus horoscope for today",TOOLTIP:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."},t={TEXT:"Alexa",TOOLTIP:"The default wake word for Alexa."},p={TEXT:"t\u00e4gliche Horoskope",TOOLTIP:"Your skill's invocation name, written in title case."},u="Alexa, turn on <em>name</em>;Alexa, turn off <em>name</em>;Alexa, set <em>name</em> to <em>x</em> percent;Alexa, brighten <em>name</em>;Alexa, dim <em>name</em>;Alexa, dim <em>name</em> by <em>x</em> percent;Alexa, brighten <em>name</em> by <em>x</em> percent;Alexa, set <em>name</em> to <em>x</em> degrees;Alexa, decrease <em>name</em> by <em>x</em> degrees;Alexa, increase <em>name</em> by <em>x</em> degrees;Alexa, decrease <em>name</em>".split(";"),
y=["A device name such as <strong>garage door</strong>, <strong>thermostat</strong>, <strong>sprinkler</strong> or <strong>hallway light</strong>","A group name such as <strong>kitchen</strong> or <strong>family room</strong>","A scene name such as <strong>bedtime</strong> or <strong>movie</strong>"],D="Alexa, Play <em>provider</em>;Alexa, Play <em>artist</em> from <em>provider</em>;Alexa, Play songs by <em>artist</em> on <em>provider</em>;Alexa, Play <em>track</em> on <em>provider</em>;Alexa, Listen to <em>album</em> on <em>provider</em>;Alexa, Play <em>album</em> by <em>artist</em> from <em>provider</em>;Alexa, Play <em>track</em> by <em>artist</em> on <em>provider</em>;Alexa, Listen to <em>genre</em> from <em>provider</em>;Alexa, Play a <em>genre</em> station on <em>provider</em>;Alexa, Play <em>program/podcast</em> on <em>provider</em>;Alexa, Listen to the playlist <em>playlist</em> on <em>provider</em>;Alexa, Start the <em>playlist</em> playlist from <em>provider</em>;Alexa, Play <em>station name</em> on <em>provider</em>;Alexa, Listen to channel <em>station number</em> on <em>provider</em>;Alexa, Play <em>station call sign</em> on <em>provider</em>;Alexa, Listen to <em>frequency</em> on <em>provider</em>;Alexa, Stop;Alexa, Resume;Alexa, Next;Alexa, Next song;Alexa, Previous;Alexa, Previous song;Alexa, What's playing".split(";"),
v=["Alexa, Play <strong>iHeartRadio</strong>","Alexa, Play <strong>The Coffee House</strong> on <strong>Sirius XM</strong>","Alexa, Start the <strong>Discover Weekly</strong> playlist on <strong>Spotify</strong>"],x={LIST_PAGE_HEADER:"Building Alexa Skills with the Alexa Skills Kit",ADD_NEW_APP_BUTTON_TEXT:"Add a New Skill",GETTING_STARTED_TEXT:'To learn more about building Alexa skills, see <a id="edw-integ-test-landing-page-getting-started-link" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/getting-started-guide" target="_blank" class="tocLinks">Getting Started with the Alexa Skills Kit.</a>. To start building an Alexa skill for free using AWS Lambda, see <a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/developing-an-alexa-skill-as-a-lambda-function" target="_blank" class="tocLinks">Creating an AWS Lambda Function for a Custom Skill.</a>',
GETTING_STARTED_WEB_SERVICE_TEXT:"To start building an Alexa skill using your own web service, see ",GETTING_STARTED_WEB_SERVICE_LINK_TEXT:"Web Services Guide.",GETTING_STARTED_FORUM_TEXT:'We encourage you to visit the <a href="https://forums.developer.amazon.com/spaces/165/index.html" target="_blank" class="tocLinks">Alexa Developer Forum</a> to collaborate with Alexa team members and fellow Alexa developers.',APP_LIST_HEADER:"Alexa Skills",TABLE_APP_NAME_ROW_TITLE:"Name",TABLE_APP_LOCALE_ROW_TITLE:"Language",
TABLE_SPOKEN_NAME_ROW_TITLE:"Invocation Name",TABLE_VERSION_ROW_TITLE:"Version",TABLE_MODIFIED_ROW_TITLE:"Modified",TABLE_APP_STATUS_ROW_TITLE:"Status",TABLE_ACTIONS_ROW_TITLE:"Actions",TABLE_SKILL_TYPES_ROW_TITLE:"Type",TABLE_LANGUAGE_TITLE:"Language",EDIT_BUTTON_TEXT:"Edit",VIEW_BUTTON_TEXT:"View",DELETE_BUTTON_TEXT:"Delete",VIEW_METRICS_BUTTON_TEXT:"Metrics",DEV_STAGE_TOOLTIP:"This skill is under development and available for editing.",CERT_STAGE_TOOLTIP:"This skill is currently under review. If it is certified, it will be made available to Alexa end users to enable and use immediately. If this skill fails certification, you will receive an email containing further information.",
LIVE_STAGE_TOOLTIP:"This skill is live for all Alexa end users to enable on their devices.",LOADING_TEXT:"Refreshing...",LIST_TAB_TEXT:"Your skills",METRICS_TAB_TEXT:"Skill Metrics",CONFIRMATION_MESSAGE_BOX:{TITLE:"Delete Skill",MESSAGE:function(a){return"This will permanently delete the skill "+a+". Do you want to proceed?"}},MESSAGE_BOX_BUTTONS:{DELETE:"Delete",CANCEL:"Cancel"},LOCALE_MAP:g,DELETING_TEXT:"Deleting..."},f={ALLOWED_EXAMPLE_PHRASES:9,ALLOWED_CUSTOM_EXAMPLE_PHRASES:3,INTENT_SCHEMA_MAX_LENGTH:1E5,
SAMPLE_UTTERANCE_MAX_LENGTH:2E5,SELECT_ALL:"SELECT ALL",FIELD_DISABLE_MESSAGE:"This field is inactive for this API",BACK_TO_APPS_LINK_TEXT:"< Back to All Skills",FIELDS_REQUIRED_TEXT:"Fields required for certification",GETTING_STARTED_LINK_TEXT:"Getting Started",CREATE_NEW_APP_TEXT:"Create a New Alexa Skill",ADD_NEW_LANGUAGE_TEXT:"Add a New Language",SAVE_BUTTON_TEXT:"Save",NEXT_BUTTON_TEXT:"Next",OPTIONAL_TEXT:"(Optional)",CERTIFICATION_BUTTON:{TEXT:"Submit for Certification",DISABLED_TOOLTIP:"This skill cannot be submitted for certification until all the required fields on each page are completed."},
WITHDRAW_CERTIFICATION_BUTTON:{TEXT:"Withdraw from Certification",TOOLTIP:"By withdrawing this skill from certification, we will stop reviewing it and you will be able to edit it for a submission for certification again"},MIGRATION_STAGE:"Migration",VALID_JSON:"Please enter a valid JSON input.",START_DEV_BUTTON_TEXT:"Start Development",BACK_TO_APP_LIST_BUTTON:"Back to the List of Skills",GOTO_DEVELOPMENT_STAGE_BUTTON:"Go to development",CREATE_NEW_VERSION_BUTTON:"Create new version",GOTO_CERTIFICATION_STAGE_BUTTON:"Go to certification",
ENDPOINT_TYPE:{HTTPS:"HTTPS",LAMBDA:"LAMBDA",GLOBAL:"GLOBAL",REGIONAL:"REGIONAL"},LOCALE_MAP:g,LOCALES_BY_SKILL_TYPE:b,WAKE_WORDS:["Alexa","Amazon","Echo"],INVOCATION_VERBS:"Begin;Launch;Load;Open;Run;Start;Talk to".split(";"),LAUNCH_VERBS:"Ask;Begin;Do;Launch;Load;Open;Play;Play the game;Resume;Run;Start;Start playing;Start playing the game;Talk to;Tell;Use".split(";"),AJAX_ERRORS:{UNKNOWN_ERROR_WITH_STATUS:"Unknown error, status = ",INVALID_FILE:"Invalid file: ",INVALID_IMAGE_SIZE_CONSTRAINT:"Invalid image. Please upload an image of size less than ",
INVALID_IMAGE_DIMENSION_LIMIT:function(a){return"Invalid image. Please upload a "+a+" pixels image."}},EXAMPLE_PHRASE_FORMAT:function(){return["wakeWord","launchWord","invocationName","sampleUtterance"]},CREATE_LANGUAGE_TAB:{FLASH_BRIEFING:{SAMPLE_EXAMPLE_PHRASES:{WHATS_MY_FLASH_BRIEFING:"Alexa, what's my Flash Briefing?",WHATS_IN_THE_NEWS:"Alexa, what's in the news?"}}},APP_INFO_TAB:{TEXT:"Skill Information",LANGUAGE:{TEXT:"Language",HELP:"Language of your skill"},ID:{TEXT:"Application Id",HELP:"The ID for this skill"},
SKILL_TYPES:{TEXT:"Skill Type",HELP:'Define a custom interaction model or use one of the predefined skill APIs. <a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/understanding-the-different-types-of-skills" target="_blank" class="tocLinks">Learn more</a>'},NAME:{TEXT:"Name",HELP:"Name of the skill that is displayed to customers in the Alexa app. Must be between 2-50 characters."},SPOKEN_NAME:{TEXT:"Invocation Name",HELP:'The name customers use to activate the skill. For example, "Alexa ask Tide Pooler...".<br><a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/choosing-the-invocation-name-for-an-alexa-skill" target="_blank" class="tocLinks">Invocation Name Guidelines</a>'},
APP_VERSION:{TEXT:"Version",HELP:"The serial number of the skill e.g. 1.0, 1.1"},APP_ENDPOINT:{TEXT:"Endpoint",HELP:"AWS Lambda is a server-less compute service that runs your code in response to events and automatically manages the underlying compute resources for you.",OPTION_HTTPS:"HTTPS",OPTION_LAMBDA:"AWS Lambda ARN (Amazon Resource Name)",OPTION_IS_DEFAULT:"Default",OPTION_MAKE_DEFAULT:"Make Default",DEFAULT_ENDPOINT_TOOLTIP:"Select default endpoint for Skill",OPTION_LAMBDA_TOOLTIP:"Amazon Resource Names (ARNs) uniquely identify AWS resources. We require an ARN when you need to specify a resource unambiguously across all of AWS, such as in IAM policies, Amazon Relational Database Service (Amazon RDS) tags, and API calls.",
RECOMMENDED:"Recommended",SERVICE_ENDPOINT_TYPE:"Service Endpoint Type:",PICK_REGION:"Pick a geographical region that is closest to your target customers:",PICK_REGION_TOOLTIP:{HTTPS:"You will want each HTTPS URL to be hosted close to the geograpical region selected to ensure the best end-customer experience.",LAMBDA:"You will want each ARN to be hosted close to the geograpical region selected to ensure the best end-customer experience."}},SMARTHOME_ENDPOINT:{TEXT:"Endpoint",HELP:"Lambda ARN url for Smart Home Adapter."},
MUSIC_ENDPOINT:{TEXT:"Endpoint",HELP:"Lambda ARN url for Music Adapter."},LAMBDA:{MORE_INFO_LINK:'<a href="https://aws.amazon.com/lambda/" target="_blank" class="tocLinks">More info about AWS Lambda</a>',INTEGRATE_LINK:'<a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/developing-an-alexa-skill-as-a-lambda-function" target="_blank" class="tocLinks">How to integrate AWS Lambda with Alexa</a>'},VENDOR_SKU:{TEXT:"Vendor Specified SKU",HELP:"A unique ID for your app that is not visible to customers."}},
REGIONS:{NA:"North America",EU:"Europe"},INTERACTION_MODEL_TAB:{NOTIFICATION_TITLE:{SMART_HOME:"Your skill uses Smart Home Skill API",MUSIC:{en_US:"Your skill uses Music Skill API",en_GB:"Your skill uses Music Skill API",de_DE:"Your skill uses Music Skill API"},CONTENT_SKILL:"Your skill uses Flash Briefing Skill API"},TEXT:"Interaction Model",EXCEEDED_MAX_LENGTH:function(a,b){return"The maximum length of "+b+" characters has been exceeded. Please reduce by "+b-a+" characters."},INTENT_SCHEMA_INPUT:{TITLE:"Intent Schema",
DESCRIPTION:'The schema of user intents in JSON format. For more information, see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/defining-the-voice-interface#The Intent Schema">Intent Schema.</a><br> Also see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/alexa-skills-kit-interaction-model-reference#Slot%20Types">built-in slots</a> and <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/implementing-the-built-in-intents#Available%20Built-in%20Intents"> built-in intents.</a>'},
SAMPLE_UTTERANCES:{TITLE:"Sample Utterances",DESCRIPTION:function(a){return'These are what people say to interact with your skill. Type or paste in all the ways that people can invoke the intents. <a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/defining-the-voice-interface#The Sample Utterances File" target="_blank" class="tocLinks">Learn more</a><br><br>Up to '+a+" of these will be used as Example Phrases, which are hints to users."},INTERACTION_QUESTION:"How do people interact with your skill?",
SINGLE:"Single Interaction",CONVERSATIONAL:"Conversational",SELECT_SAMPLE_UTTERANCES:{MIDDLE:function(a){return'Pick up to <strong class="sample-utterance-highlight">'+a+" more</strong> Sample Utterances to use as Example Phrases."},MAX:function(a){return'<strong class="sample-utterance-highlight">You have selected the maximum of '+a+" Sample Utterances for Example Phrases. You must deselect one to add another.</strong>"}},LEARN_MORE:"Learn more"},AUDIO_PLAYER_INTENTS:{REQUIRED:["AMAZON.PauseIntent",
"AMAZON.ResumeIntent"],OPTIONAL:"AMAZON.PreviousIntent AMAZON.NextIntent AMAZON.ShuffleOnIntent AMAZON.ShuffleOffIntent AMAZON.LoopOnIntent AMAZON.LoopOffIntent".split(" ")},AUDIO_INTERFACES:{audioPlayer:{},playbackController:{}},DISPLAY_INTERFACES:{display:{}},AUDIO_PLAYER_MESSAGE:{TITLE:"Built-in intents for playback control",DESCRIPTION:"This skill uses the AudioPlayer directives. Therefore, you must include the following built-in intents in your schema: AMAZON.PauseIntent, AMAZON.ResumeIntent. Optionally additional built-in intents for playback control include: AMAZON.NextIntent, AMAZON.PreviousIntent, AMAZON.LoopOnIntent, AMAZON.LoopOffIntent, AMAZON.ShuffleOnIntent, AMAZON.ShuffleOffIntent.",
BUTTON_TEXT:"Add Pause/Resume intents",SUCCESS_ALERT:"AMAZON.PauseIntent and AMAZON.ResumeIntent have been added to your intent schema",INVALID_INTENT_SCHEMA_JSON:"Your Intent Schema JSON input is not formed correctly. Please review the Alexa Skills Kit Interaction Model Reference document and the Defining the Voice Interface document for help on structuring your input.",INCORRECT_INTENT_SCHEMA:"There was a problem with your request: The given Intent Schema is not in the correct format.",MISSING_INTENTS:"The intent schema is missing the following built-in intents: ",
SAMPLE_UTTERANCE_ERROR:'There was a problem with your request: the built-in intent {{INPUT1}} cannot be extended with sample utterances in a skill that uses the audio player directives. Occurred in sample "{{INPUT2}}" on line {{INPUT3}}.'},CATALOG_INPUT:{TITLE:"Custom Slot Types",DESCRIPTION:'Custom slot types to be referenced by the Intent Schema and Sample Utterances. For general information about custom slots, see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/defining-the-voice-interface#custom-slot-types">Custom Slot Types.</a>',
EXAMPLES:"Example: TOPPINGS - cheese | onions | ham (note: newlines displayed as | for brevity)",TYPE_IN:{BUTTON:"Type In",DESCRIPTION:"Open an editing window to add all of your custom slots and values."},ADD_CATALOG_BUTTON:"Add Slot Type"},DESCRIPTION:{SMART_HOME:'The interaction model is already built into the Smart Home Skill API and you can find the supported utterances <a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/content/smart-home#faqs" target="_blank" class="tocLinks">here</a>. You just have to handle the directives sent by Alexa in your Smart Home adapter (Lambda function)',
MUSIC:"The interaction model is already built into the Music Skill API. You just have to handle the directives sent by Alexa in your music skill adapter (Lambda function)",CONTENT_SKILL:{en_US:'The interaction model for the Flash Briefing Skill API is already defined. Example utterances are:<ul><li class="styled"> What\'s my Flash Briefing?</li><li class="styled"> What\'s in the news?</li></ul>',en_GB:'The interaction model for the Flash Briefing Skill API is already defined. Example utterances are:<ul><li class="styled"> What\'s my Flash Briefing?</li><li class="styled"> What\'s in the news?</li></ul>',
de_DE:'The interaction model for the Flash Briefing Skill API is already defined. Example utterances are:<ul><li class="styled"> Was ist meine t\u00e4gliche Zusammenfassung?</li><li class="styled"> Was sind die Nachrichten?</li></ul>'}},RAW_TEXT_SLOT:'"type": "AMAZON.1315766020"',EXAMPLE_PHRASES_BUILDER:{TITLE:"Example Phrases",DESCRIPTION:"Customers using your skill see Example Phrases when they browse for your skill in the Alexa App. Good Example Phrases must be actual utterances customers can say to get started.",
SELECT_SAMPLE_UTTERANCES:{MIDDLE:function(a){return'Pick up to <strong class="sample-utterance-highlight">'+a+" more</strong> Sample Utterances above to use as Example Phrases."},MAX:function(a){return'<strong class="sample-utterance-highlight">You have selected the maximum of '+a+" Sample Utterances above to use as Example Phrases. You may remove one below to add another.</strong>"}},TOOLTIPS:{WAKE_WORD:{LABEL:"Wake Word",TOOLTIP:"The wake word for Alexa, this will be replaced with customer's configured Wake Word in the store view"},
LAUNCH_WORD:{LABEL:"Launch Word",TOOLTIP:"One of the words users can say to invoke a skill"},INVOCATION_NAME:{LABEL:"Invocation Name",TOOLTIP:"Your skill's invocation name"},SELECTED_UTTERANCE_SLOT:{LABEL:"Selected Sample Utterances & Slot Values",TOOLTIP:"The selected sample utterance with any slots filled with valid slot values"},INTERACTION_METHOD:"Single Interaction - Skills in which the user invokes the skill with a specific request and gets a response. Interactions include the wake word and invocation name each time. Conversational - Skills in which the user invokes the skill without a specific request, then engages in a back-and-forth conversation. Once the skill is active, the user does not need to say the wake word and invocation name to continue the interaction."},
WAKE_WORD_PLACEHOLDER:"<Wake Word>",LAUNCH_WORD_PLACEHOLDER:"- select a verb -",SAMPLE_UTTERANCE_PLACEHOLDER:"- select a sample utterance -",CONVERSATIONAL_LABEL:"In-skill utterance",PREVIEW_LABEL:"Preview:",EXAMPLE_PHRASES_101:{TITLE:"Example Phrases 101",DESCRIPTION:"Example phrases are key utterances customers can say to access the core functionality of your skill. Example phrases must be included in your sample utterances. The phrases are displayed in the Alexa app.",INTERACTION_METHODS:{DESCRIPTION:"People interact with skills in two ways:",
SINGLE_INTERACTION:{DESCRIPTION:"<strong>Single Interaction</strong> - Skills that do one task and then end the interaction are considered single interaction skills. These skills require the wake word and invocation name for each interaction.",LIST_ITEMS:['First phrase example: "Alexa, ask Daily Horoscopes for the horoscope for Taurus.',"Second phrase example: \"Alexa, ask Daily Horoscopes for tomorrow's horoscope for Taurus."]},CONVERSATIONAL:{DESCRIPTION:"<strong>Conversational</strong> - Skills that ask the user questions and then listen for a response are considered conversational skills. This allows for a back and forth conversation with Alexa. These skills must first be invoked with phrases that include the Alexa wake word and the skill invocation name. Once the skill is active, users can say standalone utterances.",
LIST_ITEMS:['First phrase example: "Alexa, open Recipes.','Second phrase example: "How do I make an omelet?']}},HOW_TO_USE:"To use the Example Phrase builder tool, select the sample utterances you want to use, choose a launch word, and fill in the appropriate slot values. Once the phrase is complete, you will be able to see a preview of how the example phrase will appear for your skill's in the Alexa app."}}},CATALOG_TAB:{ADD_TITLE:"Adding slot type",EDIT_TITLE:"Editing slot type",NAME:"Type",VALUES:"Values",
ENTER_NAME:"Enter Type",ENTER_VALUES:"Enter Values",HELP:"Values must be line-separated",EDIT_BUTTON:"Edit",VIEW_BUTTON:"View",DELETE_CATALOG_BUTTON:"Delete",CANCEL_BUTTON:"Cancel",SAVE_CATALOG_BUTTON:"Save",ADD_CATALOG_ITEM_BUTTON:"Add",UPDATE_CATALOG_ITEM_BUTTON:"Update",SAVE_BUTTON:"Save",NAME_PLACEHOLDER:"TYPE",CONFIRMATION_MESSAGE_BOX:{TITLE:"Delete Custom Slot Type",MESSAGE:"This will permanently delete this custom slot type. Do you want to proceed?"},MESSAGE_BOX_BUTTONS:{DELETE:"Delete",CANCEL:"Cancel"}},
SSL_CERTIFICATE_TAB:{TEXT:"SSL Certificate",LABEL:'To protect your security and the security of end users, we require that you use a certificate while developing an Alexa skill.<br>For more information, see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/registering-and-managing-alexa-skills-in-the-developer-portal#About%20the%20SSL%20Options">Registering and Managing Alexa Skills - About SSL Options</a>.',ENDPOINT_TITLE:"Certificate for {region} Endpoint:",
OPTION_HEADER:"Please select one of the three methods below for the web service:",TRUSTED:"My development endpoint has a certificate from a trusted certificate authority",WILDCARD:"My development endpoint is a sub-domain of a domain that has a wildcard certificate from a certificate authority ",SELFSIGNED:'I will upload a self-signed certificate in X.509 format. <a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/testing-an-alexa-skill#create-a-private-key-and-self-signed-certificate-for-testing" target="_blank" class="tocLinks">Learn how to create a self signed certificate.</a>'},
TESTING_TAB:{TEXT:"Test",ENABLEMENT:{HEADER_READY:"Test this skill",HEADER_NOT_READY:"Please complete the Interaction Model tab to start testing this skill.",TOGGLED_ON:"Enabled",TOGGLED_ON_TRANSITION:"Enabling...",TOGGLED_OFF:"Disabled",TOGGLED_OFF_TRANSITION:"Disabling...",TOGGLED_ON_LABEL:"This skill is enabled for testing on your account.",TOGGLED_OFF_LABEL:"This skill is disabled for testing on your account."},ENTITLEMENT:{HEADER_READY:"Start testing this skill",HEADER_NOT_READY:"Please complete the Configuration tab to start testing this skill.",
TOGGLED_ON:"Yes",TOGGLED_ON_TRANSITION:"Processing...",TOGGLED_OFF:"No",TOGGLED_OFF_TRANSITION:"Processing...",TOGGLED_ON_LABEL:"Show this skill in the Alexa App.",TOGGLED_OFF_LABEL:" Show this skill in the Alexa App."},SUB_TEXT:"Once you have completed testing on your device, please complete the Description and<br>Publishing Information tab, then submit the skill for certification.<br><br>If it passes Amazon's testing and certification process, it will become available to Alexa end users.",HELP_TEXT:"When testing is complete, you can submit the skill for certification. If the skill passes certification, it is made available to other Alexa customers.",
HELP:{START:"The skill is available in \"Skills > Your Skills\" page of the Alexa App when you select 'Yes' above. You can then enable the skill and test its functionality by asking Alexa, ",Custom:{en_US:"ask ",en_GB:"ask ",de_DE:"frage "},Content:{en_US:'"What\'s my flash briefing" or "Alexa, what\'s in the news?"',en_GB:'"What\'s my flash briefing" or "Alexa, what\'s in the news?"',de_DE:'"Was ist meine t\u00e4gliche Zusammenfassung?" or "Alexa, Was sind die Nachrichten?"'},SmartHome:{en_US:"discover my devices.",
en_GB:"discover my devices.",de_DE:"Entdecken Sie meine Ger\u00e4te."},Music:{en_US:"play",en_GB:"play",de_DE:"Spiele"}},SMART_HOME:{SUB_TEXT:"You will be able to see your skill in the Skills tab in Alexa App and you can enable the skill and start testing.<br><br>After completing your testing please submit the skill for certification. If it passes Amazon's testing and certification process, it will become available to Alexa end users"},MUSIC:{SUB_TEXT:"You will be able to see your skill in the Skills tab in Alexa App and you can enable the skill and start testing.<br><br>After completing your testing please submit the skill for certification. If it passes Amazon's testing and certification process, it will become available to Alexa end users"},
ENABLE_TEST_TOOLTIP:"Please note that if there are multiple versions of the skill, you can enable only one at a time.",SIMULATOR:{INSTRUCTION_NOTE:"<b>Note: </b>Service Simulator does not currently support testing audio player directives and customer account linking.",INSTRUCTION:function(a){return"Use Service Simulator to test your "+a+": "},SERVICE:{TITLE:"Service Simulator",TEXT:"Text",JSON:"JSON"},INVALID_NLU_RESPONSE_ERROR:"Unable to generate request for your skill.",VOICE:{TITLE:"Voice Simulator",
AJAX_URL:"/edw/ajax/getTTS",SUB_HEADER:'Hear how Alexa will speak a response entered in plain text or SSML. <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/speech-synthesis-markup-language-ssml-reference">Learn more about supported SSML tags.</a>',SUB_HEADER_EXAMPLE:'For example: Here is a word spelled out: <say-as interpret-as="spell-out">hello</say-as>.',LISTEN:"Listen",STOP:"Stop"},TEXT:{TITLE:"Enter Utterance",ASK_BUTTON:function(a){return"Ask "+
a},RESET_BUTTON:"Reset"},JSON:{TITLE:""},LOADING:'Waiting for Response... <img id="edw-voice-simulator-loading-img" src="/edw/res/images/ajax-loader.gif"/>',LOADING_STATE:{START:!0,STOP:!1},REQUEST:{HTTP_REQUEST:"Service Request",LAMBDA_REQUEST:"Lambda Request"},RESPONSE:{HTTP_RESPONSE:"Service Response",LAMBDA_RESPONSE:"Lambda Response"},EXPERT_INPUT:{TEXT:"Json Request",HELP:'For more information, see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/alexa-skills-kit-interface-reference">Alexa skills kit interface reference.</a>'},
HTTPS_TEXT:"HTTPS endpoint",LAMBDA_TEXT:"lambda function"}},MULTIMEDIA_TAB:{TEXT:"Images & Multimedia",APP_IMAGE_INPUT:{TYPE:"SMALL_ICON",TEXT:"Small Icon",HELP:"108 x 108 pixel PNG (can include transparency) or JPG file that represents this skill. Displays in the Alexa App."},APP_IMAGE_LARGE_INPUT:{TYPE:"LARGE_ICON",TEXT:"Large Icon",HELP:"512 x 512 pixel PNG (can include transparency) or JPG file that represents this skill. Displays in the Alexa App on larger screens."},APP_IMAGE_MASKED:{TYPE:"MASKED_SMALL_ICON",
TEXT:"Small Icon",HELP:"108 x 108px PNG(with transparency) or JPG. This is displayed in the Alexa App."},APP_IMAGE_MASKED_LARGE:{TYPE:"MASKED_LARGE_ICON",TEXT:"Large Icon",HELP:"512 x 512px PNG (with transparency) or JPG. This is used when displaying the skill in the Alexa App on larger screens."},APP_IMAGE_PROMOTION_INPUT:{TYPE:"PROMOTIONAL_IMAGE",TEXT:"Promotional Image",HELP:"1024 x 500px (landscape only) PNG or JPG."},APP_IMAGE_SCREENSHOT_INPUT:{TYPE:"SCREENSHOT",TEXT:"Screenshots",HELP:"Between 3 and 10 PNGs or JPGs 800 x 480px, 1024 x 600px, 1280 x 720px, 1280 x 800px, 1920 x 1080px, 1920 x 1200px, or 2560 x 1600px (portrait or landscape)."}},
VOICE_NAME:{en_US:"en_us_nina",en_GB:"en_gb_abbey",de_DE:"de_de_silke",en_IN:"en_in_raveena",ja_JP:"ja_jp_mizuki"},PRESENTATION_TAB:{TEXT:"Description",NOTE:"<b>Note:</b> You can preview your skill's detail page in the Alexa App during development. In the Alexa App, click Skills, then find your skill in the list.",SUB_SECTIONS:{IMAGES:"Images"},CATEGORY_INPUT:{TEXT:"Category",HELP:"The category that best describes your skill. This helps customers find skills like yours."},SUB_CATEGORY_INPUT:{TEXT:"Sub Category"},
APP_DESCRIPTION_INPUT:{TEXT:"Full Skill Description",HELP:"A description of the skill's purpose and features, and how it works. Should describe any prerequisites like hardware or account requirements and detailed steps for the customer to get started. For Flash Briefing skills, list the feeds offered within the skill.  Use a conversational tone and correct grammar and punctuation. This description displays to customers on the skill detail card in the Alexa app."},APP_SHORT_DESCRIPTION_INPUT:{TEXT:"Short Skill Description",
HELP:"A short description (160 character maximum) that displays in the skill list in the Alexa App."},EXAMPLE_PHRASES_INPUT:{TITLE:"Example Phrases",DESCRIPTION:"Review your sample utterances that will appear on the skill detail card in the Alexa App. These phrases will help users get started and access your skill\u2019s core functionality.<br><br>You can review and create additional example phrases by using the example phrase builder on the <strong>Interaction Model</strong> page.",CUSTOM_DESCRIPTION:"Review your sample utterances that will appear on the skill detail card in the Alexa App. These phrases will help users get started and access your skill\u2019s core functionality.",
CUSTOM_DESCRIPTION_WITH_VALIDATOR:"Example phrases appear on your skill detail page and are the key utterances that customers can say to get started with your skill. Your first example must be the launch phrase that launches your skill and additional examples should exactly match sample utterances from your Interaction Model tab. You can use the <b>Validate Example Phrases</b> button to ensure your phrases elicit desired responses before submitting for certification. The button gets activated once your skill model is built and endpoint is configured.",
FLASH_BRIEFING_DESCRIPTION:"These are the default sample phrases for the API you selected. The phrases are displayed on the detail card in the Alexa App to teach users how to interact with the skill",SMART_HOME_DESCRIPTION:"These appear on the skill detail card in the Alexa App and show users how to interact with their smart devices using Alexa and your skill.<br><br>Copy and paste the sample utterances that apply to your smart home skill or create your own depending on the types of devices your skill applies to, and the directives your skill adapter responds to. If you create your own, you should use the same format as the samples.<br>",
MUSIC_DESCRIPTION:"These appear on the skill detail card in the Alexa App and show users how to interact with your skill.<br><br>Copy and paste the sample utterances that apply to your music skill or create your own.<br>",SEE_ALL:"See all",SEE_LESS:"See less",VALIDATION_BUTTON_TEXT:"Validate Example Phrases",VALIDATION_WARNING_TITLE:"Warning",VALIDATION_WARNING_TEXT:"One or more of your example phrases have errors. You can still go ahead and submit for certification but please correct them before submitting your skill to avoid certification failures.",
VALIDATION_INVALID_LAUNCH_PHRASE_TEXT:"Please enter a valid Launch Phrase including wake word and invocation name. Refer to example phrase 101 guidance below."},EXAMPLE_PHRASES_101_TOOLTIP:{WAKE_WORD:"The default wake word for Alexa.",INVOKE_SKILL:"One of the words users can say to invoke a skill.",INVOKE_SKILL_OTHER_OPTIONS:"One of the words users can say to invoke a skill. Other options include <b>Launch, Start, Talk To,</b> and others.",INVOCATION_NAME:"Your skill's invocation name, written in title case.",
CONNECTING_WORD_ASK:'Connecting word between the invocation name and the sample utterance. This can make the phrase flow more naturally. Connecting words you can use with an "ask" phrase are: <b>to, about, for, if, whether</b>. Alternatively, you can leave out the connecting word, but use a sample utterance that begins with a question word such as "what" or "how": "Ask Daily Horoscopes what\'s the horoscope for Taurus."',CONNECT_WORD_TELL:'Connecting word between the invocation name and the sample utterance. This can make the phrase flow more naturally. Connecting words you can use with a "tell" phrase are:<b>to, that.</b>',
SAMPLE_UTTERANCE:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."},EXAMPLE_PHRASES_101_INSTRUCTION:{TITLE:"Example Phrases 101",SMART_HOME:{INSTRUCTIONS:{LEAD_DESC:"When you copy and paste a sample, replace x with a number and replace name with:",EXAMPLES:{en_US:y,en_GB:y,de_DE:["A device name such as <strong>garagentor</strong>, <strong>thermostat</strong>, <strong>sprinkler</strong> or <strong>flurlicht</strong>","A group name such as <strong>k\u00fcche</strong> or <strong>wohnzimmer</strong>",
"A scene name such as <strong>schlafenszeit</strong> or <strong>filmabend</strong>"],en_IN:y,ja_JP:y}},SAMPLE_UTTERANCES:{TITLE:"Sample Utterances:",EXAMPLES:{en_US:u,en_GB:u,de_DE:"Alexa, schalte <em>name</em> ein;Alexa, schalte <em>name</em> aus;Alexa, stelle <em>name</em> auf <em>x</em> Prozent;Alexa, mache mein <em>name</em> heller;Alexa, dimme der/die/das <em>name</em>;Alexa, dimme der/die/das <em>name</em> auf <em>x</em>;Alexa, setze <em>name</em> auf <em>x</em> grad;Alexa, reduziere <em>name</em>;Alexa, reduziere <em>name</em> um <em>x</em> grad;Alexa, erh\u00f6he <em>name</em>;Alexa, erh\u00f6he <em>name</em> um <em>x</em> grad".split(";"),
en_IN:u,ja_JP:u}}},MUSIC:{INSTRUCTIONS:{LEAD_DESC:"When you copy and paste a sample, replace <em>provider</em> and other keywords with something more appropriate:",EXAMPLES:{en_US:v,en_GB:v,de_DE:["Alexa, Spiele <strong>Spotify</strong>","Alexa, Spiele <strong>NPR Berlin</strong> von <strong>TuneIn</strong>","Alexa, Starte die Playlist <strong>Germany Viral 50</strong> von <strong>Spotify</strong>"],en_IN:v,ja_JP:v}},SAMPLE_UTTERANCES:{TITLE:"Sample Utterances:",EXAMPLES:{en_US:D,en_GB:D,de_DE:"Alexa, Spiele <em>provider</em>;Alexa, Spiele <em>artist</em> auf <em>provider</em>;Alexa, Spiele Songs von <em>artist</em> auf <em>provider</em>;Alexa, Spiele <em>track</em> von <em>provider</em>;Alexa, <em>album</em> von <em>provider</em> h\u00f6ren;Alexa, Spiele <em>album</em> von <em>artist</em> von <em>provider</em>;Alexa, Spiele <em>track</em> von <em>artist</em> auf <em>provider</em>;Alexa, <em>genre</em> von <em>provider</em> h\u00f6ren/spielen;Alexa, Spiele einen <em>genre</em> sender von <em>provider</em>;Alexa, Spiele <em>program/podcast</em> von <em>provider</em>;Alexa, Die Playlist <em>playlist</em> von <em>provider</em> abspielen/h\u00f6ren;Alexa, Starte die Playlist <em>playlist</em> von <em>provider</em>;Alexa, Spiele <em>station name</em> von <em>provider</em>;Alexa, <em>station number</em> auf <em>provider</em> anh\u00f6ren/abspielen;Alexa, Spiele <em>station call sign</em> von <em>provider</em>;Alexa, <em>frequency</em> auf <em>provider</em> einstellen/h\u00f6ren;Alexa, Stop;Alexa, fortsetzen;Alexa, n\u00e4chstes;Alexa, n\u00e4chster Song;Alexa, vorheriges;Alexa, vorheriger Song;Alexa, Was l\u00e4uft gerade?".split(";"),
en_IN:D,ja_JP:D}}},CUSTOM:{INSTRUCTIONS:[{LEAD_DESC:"First Example Phrase let users invoke the skill and must include the Alexa wake word and invocation name. Refer below to specify First Example Phrase.",EXAMPLES:[{INVOKE_TYPE:"Invoking skill with no <strong>specific intent:</strong>",PHRASES:{en_US:[f,e,d],en_GB:[f,e,d],de_DE:[t,{TEXT:"\u00d6ffne",TOOLTIP:"One of the words users can say to invoke a skill."},p]}},{INVOKE_TYPE:"Invoking skill with a <strong>specific intent:</strong>",PHRASES:{en_US:[f,
k,d,l,n],en_GB:[f,k,d,l,n],de_DE:[t,{TEXT:"frage",TOOLTIP:"One of the words users can say to invoke a skill."},p,{TEXT:"nach dem L\u00f6wenhoroskop",TOOLTIP:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."}]}},{INVOKE_TYPE:"Using connector:",PHRASES:{en_US:[f,k,d,q,m],en_GB:[f,k,d,q,m]}},{INVOKE_TYPE:"Without connector:",PHRASES:{en_US:[f,k,d,r],en_GB:[f,k,d,r]}}]},{LEAD_DESC:"Second and Third Example Phrases let users interact with your skill post invocation. For skills which don't keep stream open after launch (i.e. non-conversational skills), follow the same specifications as First Example Phrase above. For skills which leave stream open after launch (i.e. conversational skills), standalone sample utterances as shown below are also acceptable. You can copy and paste these from your utterances to match the verbatim.",
EXAMPLES:[{INVOKE_TYPE:"Open stream conversation example:",PHRASES:{en_US:[m],en_GB:[m],de_DE:[{TEXT:"Sag mir das L\u00f6wenhoroskop",TOOLTIP:"The sample utterance, written exactly as it appears in your interaction model, with any slots filled with valid slot values."}]}}]}]},CUSTOM_WITH_VALIDATOR:{INSTRUCTIONS:[{LEAD_DESC:"Example phrases guide customers how to interact with your skill, depending on whether it is a single interaction or a conversational skill.",INTERACTION_METHODS:{SINGLE_INTERACTION:{HEADER:"<strong>Single Interaction</strong> -",
DESCRIPTION:"Skills that do one task and then end the interaction are considered single interaction skills. These skills require the wake word and invocation name for each interaction.",LIST_ITEMS:['* First phrase example: "Alexa, ask My Horoscopes  for the horoscope for Taurus."','* Additional phrase example: "Alexa, open My Horoscopes and give me the horoscope for Taurus."']},CONVERSATIONAL:{HEADER:"<strong>Conversational</strong> -",DESCRIPTION:"Skills that ask the user questions and then listen for a response are considered conversational skills. This allows for a back and forth conversation with Alexa. These skills must first be invoked with phrases that include the Alexa wake word and the skill invocation name. Once the skill is active, users can say standalone utterances.",
LIST_ITEMS:['* First phrase example: "Alexa, open Allrecipes."','* Additional phrase example: "How do I make an egg sandwich?"']}}}]}},SEARCH_KEYWORDS_INPUT:{TEXT:"Keywords",HELP:"Search terms that you would use to describe your skill. This helps customers find your skill. Use spaces or commas in between terms."},MARKETING_BULLETS_INPUT:{TEXT:"Feature Bullets",HELP:"Three to five concise skill features. These features will appear on the Amazon.com website."},DISTRIBUTION_INPUT:{TEXT:"Distribution",
HELP:"Your skill will be distributed in countries you will select on the list. Countries that are not on the list are hidden under Rest of the world"}},RELEASE_INFO_TAB:{TEXT:"Release Info",RELEASE_DATE_INPUT:{TEXT:"Target Release Date",HELP:""},TESTING_INSTRUCTIONS_INPUT:{TEXT:"Testing Instructions",HELP_PERMISSIONS:"Please detail any special instructions to test your skill. Include any account or hardware requirements. If your skill requests permissions, include ways to test these permissions requests. This information is used by the certification team and is not displayed to customers.",
HELP:"Please detail any special instructions to test your skill. Include any account or hardware requirements. This information is used by the certification team and is not displayed to customers."},NEW_FEATURES_INPUT:{TEXT:"New Features",HELP:"Description of what's new in this version of the skill, such as new features, improvements, and bug fixes."}},PRIVACY_COMPLIANCE_TAB:{TEXT:"Privacy & Compliance"},CONFIGURATION_TAB:{TEXT:"Configuration",CONTENT:{SUB_SECTIONS:{CONTENT_FEED:"Flash Briefing Feed Configuration"},
CUSTOM_ERROR_MESSAGE_INPUT:{TEXT:"Custom Error Message",HELP:{en_US:'Alexa says this to the customer if the skill fails rendering the content. For example, "Skill Name is not available at the moment" (100 character maximum).',en_GB:'Alexa says this to the customer if the skill fails rendering the content. For example, "Skill Name is not available at the moment" (100 character maximum).',de_DE:"Alexa says this to the customer if the skill fails rendering the content. For example, &bdquo;Skill-Name ist momentan nicht verf\u00fcgbar\u201c (100 character maximum)."}},
FEED_INFO_INPUT:{TEXT:"Feed Information",HELP:"Provide a URL and descriptive information for each feed offered with the skill.",ADD_NEW_FEED:{TEXT:"Add new feed"}},FEED_LIST:{NAME:"Name",TYPE:"Content Type",GENRE:"Content Genre",EDIT:"Edit",DEFAULT:"Default",HELP:"This feed will be turned on by default when the skill is enabled",IMAGE_HELP:"Please add image to complete this feed"},FEED_BOX:{CANCEL:"Cancel",DELETE:"Delete",TITLE:"Delete Feed",MSG:"This will permanently delete this feed. Do you want to proceed ?",
DEFAULT_FEED_MSG:"Cannot delete feed: This is a default feed. Change the default feed and try again."},FEED_EDIT:{ADD_TITLE:"Adding Feed",EDIT_TITLE:"Editing Feed",PREAMBLE_INPUT:{TEXT:"Preamble",HELP:{en_US:'A short introduction for the feed that Alexa reads to the customer before the feed contents. Should start with "In" or "From". For example, "In developer news\u2026" (70 char max).',en_GB:'A short introduction for the feed that Alexa reads to the customer before the feed contents. Should start with "In" or "From". For example, "In developer news\u2026" (70 char max).',
de_DE:'A short introduction for the feed that Alexa reads to the customer before the feed contents. Should start with "Im" or "Von" or "In" or "Vom" or "Aus". For example, &bdquo;In den Entwickler-News...\u201c (70 char max).'}},NAME_INPUT:{TEXT:"Name",HELP:{en_US:'Identifies this feed. For example, "Developer news"',en_GB:'Identifies this feed. For example, "Developer news"',de_DE:'Identifies this feed. For example, "Developer news"'}},UPDATE_FREQUENCY_INPUT:{TEXT:"Content update frequency",HELP:"How often the feed has new content."},
CONTENT_TYPE_INPUT:{TEXT:"Content type",HELP:"Format of the feed content."},CONTENT_GENRE_INPUT:{TEXT:"Content genre",HELP:"The type or subject of the content in the feed."},URL_INPUT:{TEXT:"URL",HELP:'Link to the location of the feed. <a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/flash-briefing-skill-api-feed-reference" target="_blank" class="tocLinks">Learn more</a>.'},FEED_ICON:{TEXT:"Feed Icon",HELP:"512 x 512 pixel PNG (can include transparency) or JPG file that represents this feed."},
IMAGE_UPLOAD:{SUCCESS:"Feed icon uploaded successfully."}}}},ALEXA_APPSTORE_INFO_TAB:{TEXT:"Publishing Information",SUB_SECTIONS:{ACCOUNT_LINKING:"Account Linking",AUDIO_PLAYER:"Audio Player",RENDER_TEMPLATE:"Render Template",PRIVACY:"Privacy",COMPLIANCE:"Compliance",PERMISSIONS:"Permissions",VIDEO_PLAYER:"Video Player"},ACCOUNT_LINKING_AUTH_GRANT_LABEL:{YES_LABEL:"Implicit Grant",NO_LABEL:"Auth Code Grant"},ACCOUNT_LINKING_FLAG_INPUT:{TEXT:"Do you allow users to create an account or link to an existing account with you?",
HELP:'<a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/linking-an-alexa-user-with-a-user-in-your-system">Learn more</a>'},ACCOUNT_LINKING_URL_INPUT:{TEXT:"Authorization URL",HELP:"The url where customers will be redirected in the companion app to enter login credentials."},ACCOUNT_LINKING_DOMAINS_LIST_INPUT:{TEXT:"Domain List",HELP:"The list of domains that the authorization URL will fetch content from. You can provide up to 15 domains.",
BUTTON:"Add domain"},ACCOUNT_LINKING_SCOPE_INPUT:{TEXT:"Scope",HELP:"List of permissions to request from the skill user. You can provide up to 15 scopes.",BUTTON:"Add scope"},ACCOUNT_LINKING_CLIENT_ID_INPUT:{TEXT:"Client Id",HELP:"Unique public string used to identify the client requesting for authentication."},ACCOUNT_LINKING_GRANT_TYPE_INPUT:{TEXT:"Authorization Grant Type",HELP:'Specifies the OAuth authorization grant that Alexa uses to obtain an access token from your provider. <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/linking-an-alexa-user-with-a-user-in-your-system"> Learn more.</a>',
ACCESS_TOKEN_URI:"Access Token URI",ACCESS_TOKEN_URI_HELP:"This URI will be used for both access token and token refresh requests.",CLIENT_SECRET:"Client Secret",AUTH_SCHEME:"Client Authentication Scheme"},ACCOUNT_LINKING_CLIENT_AUTH_SCHEMES:[{label:"HTTP Basic (Recommended)",val:!0},{label:"Credentials in request body",val:!1}],ACCOUNT_LINKING_REDIRECT_URL:{TEXT:"Redirect URLs",HELP:'The list of valid HTTPS redirection endpoints that could be requested during authorization to redirect the user back to after the authorization process. <a class="tocLinks" target="_blank" href=" https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/linking-an-alexa-user-with-a-user-in-your-system#redirect-url-values">Learn more</a>.'},
AUDIO_PLAYER_FLAG_INPUT:{TEXT:"Audio Player",HELP:'Does this skill use the audio player directives? <a class="tocLinks" target="_blank" href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/custom-audioplayer-interface-reference">Learn more</a>.',ERROR:"Please indicate whether this skill uses the audio player directives."},VIDEO_PLAYER_FLAG_INPUT:{TEXT:"Video Player",HELP:'Does this skill use the video player directives? <a class="tocLinks" target="_blank" href="#">Learn more</a>.'},
RENDER_TEMPLATE_INPUT:{HELP:'Does this skill use the Render Template directives? <a class="tocLinks" target="_blank" href="#">Learn more</a>.'},EXPORT_COMPLIANCE_INPUT:{TEXT:"Export Compliance",HELP:"",CONTENT:"I certify that this Alexa skill may be imported to and exported from the United States and all other countries and regions in which we operate our program or in which you've authorized sales to end users (without the need for us to obtain any license or clearance or take any other action) and is in full compliance with all applicable laws and regulations governing imports and exports, including those applicable to software that makes use of encryption technology."},
UCI_INPUT:{TEXT:"Does this Alexa skill collect users' personal information?",HELP:"This includes anything that can identify the user such as name, email, password, phone number, birthdate, etc."},CHILDREN_APP_INPUT:{TEXT:"Is this skill directed to or does it target children under the age of 13?",HELP:'Please indicate if this skill is directed to children under the age of 13, as determined under the <a href=" https://www.ftc.gov/tips-advice/business-center/privacy-and-security/children%27s-privacy" target="_blank">Children\'s Online Privacy Protection Act (COPPA)</a>.<br>Not sure? <a ng-click="$parent.$parent.showChildrenAppDialog()">Learn More</a>.',
DIALOG_TITLE:"More about COPPA ..",DIALOG_CONTENT:'<p>Please indicate if this skill is directed to children under the age of 13, as determined under the <a target="_blank" href="https://www.ftc.gov/tips-advice/business-center/privacy-and-security/children%27s-privacy">Children\'s Online Privacy Protection Act (COPPA)</a>.</p><p>Factors to consider in determining if this skill is directed to children include:</p><ul><li>subject matter of the skill</li><li>presence of child-oriented activities and incentives</li><li>type of language used in the skill</li><li>music and other audio content in the skill</li><li>how the skill is described and marketed</li><li>intended audience for the skill</li></ul><p>Please see the <a target="_blank" href="https://www.ftc.gov/tips-advice/business-center/guidance/complying-coppa-frequently-asked-questions">FTC\'s COPPA Guidance and FAQ</a> for more information.</p><p>Failure to provide accurate information about if this skill is child-directed may result in termination of your developer account.</p>'},
PRIVACY_URL_INPUT:{TEXT:"Privacy Policy URL",HELP:"Link to the privacy policy that applies to this skill.",HELP_UNDER_ACCOUNT_LINKING:"Link to the Privacy Policy for this skill. This is mandatory for account linking."},TOU_INPUT:{TEXT:"Terms of Use URL",HELP:"Link to the terms of use document for this skill."},APP_PURCHASE_INPUT:{TEXT:"Does this skill allow users to make purchases or spend real money?"},PERMISSIONS:{TABLE:{LEFT_COLUMN_SUB_HEADER:"Request users to access resources and capabilities",
LEFT_COLUMN_SUB_HEADER_DESCRIPTION:"Please request permissions to resources and capabilities that are absolutely core to the customer experience delivered by the skill."},TYPE:{NOTIFICATIONS:"Notifications",STANDARD_NOTIFICATIONS:"Standard notifications",URGENT_NOTIFICATIONS:"Urgent notifications",DEVICE_ADDRESS:"Device Address",DEVICE_ADDRESS_READ:"Full Address",DEVICE_COUNTRY_AND_POSTAL_CODE_READ:"Country & Postal Code Only",HHO_LIST_READ:"Lists Read",HHO_LIST_WRITE:"Lists Write"},LWA_SCOPE:{STANDARD_NOTIFICATIONS:"write::alexa:devices:all:notifications:standard",
URGENT_NOTIFICATIONS:"write::alexa:devices:all:notifications:urgent",DEVICE_ADDRESS_READ:"read::alexa:device:all:address",DEVICE_COUNTRY_AND_POSTAL_CODE_READ:"read::alexa:device:all:address:country_and_postal_code",HHO_LIST_READ:"read::alexa:household:list",HHO_LIST_WRITE:"write::alexa:household:list"},DESCRIPTION_TOOLTIP:{STANDARD_NOTIFICATIONS:"Notifications are delivered only to customers who subscribe to your skill\u2019s notifications. Customers retrieve notifications by saying, \u201cAlexa, read my notifications.\u201d",
DEVICE_ADDRESS_READ:"Full address is the full street address with city/state/province/county, postal code, and country that customers manually enter for their device during device setup. A customer\u2019s full address can only be retrieved upon customer consent.",DEVICE_COUNTRY_AND_POSTAL_CODE_READ:"Device country and postal code are only the country and postal code associated with the device. A customer\u2019s device country and postal code can only be retrieved upon customer consent.",HHO_LIST_READ:"Provides read access to Alexa household lists.",
HHO_LIST_WRITE:"Provides write access to Alexa household lists."},ALEXA_SKILL_MESSAGING:{TITLE:"Alexa Skill Messaging",TEXT:"Use clientId and clientSecret for skill messaging, enabling out-of-session (non-customer invoked) events to be sent to skill code.",CLIENT_ID:"ClientId:",CLIENT_SECRET:"ClientSecret:",CLIENT_SECRET_HIDDEN_TEXT:"*******************************",SHOW_BUTTON_TEXT:"Show",HIDE_BUTTON_TEXT:"Hide"}}},SAVE_MESSAGE_BOX:{TITLE:"Save changes",TEXT:"Do you want to save changes before leaving the current tab?"},
DISCARD_MESSAGE_BOX:{TITLE:"Discard changes",TEXT:"Do you want to discard changes before leaving the current tab?"},DELETE_MESSAGE_BOX:{TITLE:"Delete Locale",TEXT:function(a){return"This will permanently delete the locale "+a+". Do you want to proceed?"}},SUBMIT_MESSAGE_BOX:{TITLE:"Submit for certification",TEXT:"Are you sure you want to submit this skill for certification? You cannot edit the skill while it is under review."},WITHDRAW_MESSAGE_BOX:{TITLE:"Withdraw skill",TEXT:"Your application will be withdrawn from certification. Please let us know the reason of withdrawal choosing the option below"},
COPY_MESSAGE_BOX:{TITLE:"Create new version",TEXT:"Create a new skill version based on current live version?"},MESSAGE_BOX_BUTTONS:{SAVE:"Save",DISCARD:"Discard",CANCEL:"Cancel",WITHDRAW:"Withdraw",DELETE:"Delete",YES:"Yes",NO:"No",CREATE:"Create"},WITHDRAW_MESSAGE_BOX_SELECT:{TEST_SKILL:"This is a test skill and not meant for certification.",MORE_FEATURES:"I want to add more features to the skill.",DISCOVERED_ISSUE:"I discovered an issue with the skill.",NOT_RECEIVED_CERTIFICTION_FEEDBACK:"I haven't received certification feedback yet.",
NOT_INTEND_TO_PUBLISH:"I do not intend to publish the skill right away.",OTHER:"Other"},GLOBAL_FIELD_TITLE:"Global Fields",GLOBAL_FIELD_HINT:"These fields apply to all languages supported by the skill.",ACTION_MESSAGES:{LOADING:"Please wait while this Alexa skill is updated...",APP_RETRIEVE:{LOADING:"Please wait while details for this skill are retrieved..."},APP_CREATE:{LOADING:"Please wait while the new skill is created..."},APP_INFO_SAVE:{SUCCESS:"Successfully updated the skill."},MODEL_SAVE:{SUCCESS:"Successfully updated the interaction model.",
FAILURE:"Failed building the interaction model.",BUILDING:"Please wait while model is being built..."},CERT_SAVE:{SUCCESS:"Successfully updated the SSL certificate",ERROR_SELF_SIGNED:"You must use a trusted SSL certificate before you can submit for certification!"},RELEASE_INFO_SAVE:{SUCCESS:"Successfully updated the release information."},PRESENTATION_SAVE:{SUCCESS:"Successfully updated the presentation information."},DELETE_LOCALE:{SUCCESS:"Successfully deleted the locale."},APPSTORE_INFO_SAVE:{SUCCESS:"Successfully updated the publishing information."},
APP_ENABLE:{LOADING:"Please wait while this skill is enabled for testing...",SUCCESS:"Alexa skill was successfully enabled."},APP_DISABLE:{LOADING:"Please wait while this skill is disabled for testing...",SUCCESS:"Alexa skill was successfully disabled."},APP_SUBMIT:{LOADING:"Please wait while the submission process for this skill is initiated...",SUCCESS:{TITLE:"Skill submission initiated.",MESSAGE:" The submission process for your skill has been initiated. You will receive a response from the team soon. You cannot edit this skill while waiting for certification."}},
APP_WITHDRAW:{LOADING:"Please wait while this skill is withdrawn from certification...",SUCCESS:{TITLE:"Skill withdrawn from certification.",MESSAGE:"This skill has been withdrawn from certification. You can now edit this skill and submit it for certification again when you are ready."}},APP_COPY:{LOADING:"Please wait while a new version is created...",SUCCESS:{TITLE:"New version of skill created",MESSAGE:"A new version of this skill has been created from the live version. You can now edit this skill and submit it for certification again when you are ready."}}},
PUBLISHING_INFO:{COUNTRIES_AND_REGION:{NAME:"Countries & Region:",DESCRIPTION:'Select "In all countries..." to make your skill available to users worldwide. Select "Selected countries and regions" to limit the skill to the specified countries.<br>Your skill needs to support the primary language for each of the specified countries to be accessible by users in those countries. E.g. customers in Germany can access your skill if it is available in German. <a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/developing-skills-in-multiple-languages#h2-distribution" target="_blank">Learn more</a>',
QUESTION_TITLE:"Where would you like this skill to be available?",ALL_COUNTRIES:"In all countries and regions where Amazon distributes skills",SELECT_COUNTRIES:"Selected countries and regions:"}},COUNTRY_SELECTOR:{SELECT_ALL_COUNTRIES:"Select all countries",DESELECT_ALL_COUNTRIES:"Deselect all countries"},USER_INPUT_COMPONENT:{DEFAULT_OPTION:"Please select",ADD_BUTTON_TEXT:"Add item",MAX_LENGTH:524288},BUBBLE_COMPONENT:{REQUIRED:"Required:",RECOMMENDED:"Recommended:"},TESTMATE_COMPONENT:{TEXT:"Test Verification Tool",
TAG:"New",STATUS_SECTION:{TEXT:"Status: ",STATUS_MESSAGE:{INELIGIBLE_MSG:"Skill Information, Interaction Model, and Configuration steps must be completed to enable a test skill."}},STATES:{NOT_ELIGIBLE:{TEXT:"Not yet eligible",URL_MSG:""},NOT_STARTED:{TEXT:"NOT STARTED",URL_MSG:"Create test skills"},RUNNING:{TEXT:"ACTIVE",URL_MSG:"Manage test skills"},COMPLETED:{TEXT:"COMPLETED",URL_MSG:"Create test skills"}}}};a.isInSmartHomeEnabled&&(b.SmartHome.push("en_IN"),g.en_IN="English (India)");a.isJpSmartHomeEnabled&&
(b.SmartHome.push("ja_JP"),g.ja_JP="Japanese");a.isCustomINEnabled&&(b.Custom.push("en_IN"),g.en_IN="English (India)");a.isCustomJPEnabled&&(b.Custom.push("ja_JP"),g.ja_JP="Japanese");a.isFlashBriefingINEnabled&&(b.Content.push("en_IN"),g.en_IN="English (India)",f.TESTING_TAB.HELP.en_IN='"What\'s my flash briefing" or "Alexa, what\'s in the news?"',f.INTERACTION_MODEL_TAB.DESCRIPTION.CONTENT_SKILL.en_IN='The interaction model for the Flash Briefing Skill API is already defined. Example utterances are:<ul><li class="styled"> What\'s my Flash Briefing?</li><li class="styled"> What\'s in the news?</li></ul>',
f.CONFIGURATION_TAB.CONTENT.CUSTOM_ERROR_MESSAGE_INPUT.HELP.en_IN='Alexa says this to the customer if the skill fails rendering the content. For example, "Skill Name is not available at the moment" (100 character maximum).',f.CONFIGURATION_TAB.CONTENT.FEED_EDIT.PREAMBLE_INPUT.HELP.en_IN='A short introduction for the feed that Alexa reads to the customer before the feed contents. Should start with "In" or "From". For example, "In developer news\u2026" (70 char max).',f.CONFIGURATION_TAB.CONTENT.FEED_EDIT.NAME_INPUT.HELP.en_IN=
'Identifies this feed. For example, "Developer news"');a.isFlashBriefingJPEnabled&&(b.Content.push("ja_JP"),g.ja_JP="Japanese",f.TESTING_TAB.HELP.ja_JP='"\u30a2\u30ec\u30c3\u30af\u30b5\u3001\u30d5\u30e9\u30c3\u30b7\u30e5\u30d6\u30ea\u30fc\u30d5\u30a3\u30f3\u30b0\u306f\u4f55\uff1f" or "\u30a2\u30ec\u30c3\u30af\u30b5\u3001\u30cb\u30e5\u30fc\u30b9\u306f\u4f55\uff1f"',f.INTERACTION_MODEL_TAB.DESCRIPTION.CONTENT_SKILL.ja_JP='The interaction model for the Flash Briefing Skill API is already defined. Example utterances are:<ul><li class="styled"> \u30a2\u30ec\u30c3\u30af\u30b5\u3001\u30d5\u30e9\u30c3\u30b7\u30e5\u30d6\u30ea\u30fc\u30d5\u30a3\u30f3\u30b0\u306f\u4f55\uff1f</li><li class="styled">\u30a2\u30ec\u30c3\u30af\u30b5\u3001\u30cb\u30e5\u30fc\u30b9\u306f\u4f55\uff1f</li></ul>',
f.CONFIGURATION_TAB.CONTENT.CUSTOM_ERROR_MESSAGE_INPUT.HELP.ja_JP='Alexa says this to the customer if the skill fails rendering the content. For example, "\u30b9\u30ad\u30eb\u540d\u306f\u73fe\u5728\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093" (100 character maximum).',f.CONFIGURATION_TAB.CONTENT.FEED_EDIT.PREAMBLE_INPUT.HELP.ja_JP='A short introduction for the feed that Alexa reads to the customer before the feed contents. Should end with "\u304b\u3089". For example, "\u958b\u767a\u8005\u30cb\u30e5\u30fc\u30b9\u304b\u3089" (70 char max).',
f.CONFIGURATION_TAB.CONTENT.FEED_EDIT.NAME_INPUT.HELP.ja_JP='Identifies this feed. For example, "\u958b\u767a\u8005\u30cb\u30e5\u30fc\u30b9"');a.isEREnabled&&(f.INTERACTION_MODEL_TAB.CUSTOM_SLOT_TYPES={TITLE:"Custom Slot Types",ENTITY_RESOLUTION_DESCRIPTION:'Custom slot types to be referenced by Intent Schema. The data for the slots can be simple list of values or in structured JSON format. You can provide data inline for each slot type or upload a file with data for all the slot type.<br><br>For general information about custom slots, see <a class="tocLinks" target="_blank" href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/defining-the-voice-interface#custom-slot-types">Custom Slot Types</a>.',
FORMAT_CHOOSER:{TITLE:"Which format would you prefer to submit your custom slot types and values in?",JSON:"Structured Data (JSON)",JSON_TOOLTIP:"Provide Ids and synonyms along with values for resolving entities",PLAIN_TEXT:"List of Values (Text)",PLAIN_TEXT_TOOLTIP:"Provide simple list of values, Ids for entities are auto-generated"}});a.isFileUploadEnabled&&(f.MIN_FILE_SIZE_FOR_CHUNKS=5*Math.pow(1024,2),f.INTERACTION_MODEL_TAB.CATALOG_INPUT.UPLOAD_FILE={CHOOSE_BUTTON:"Choose File",REPLACE_BUTTON:"Replace",
DESCRIPTION:"Select a single .json file with all of your custom slots.",UPLOAD_ON_SAVE:"(File will be uploaded upon save)",DELETE:"Delete File",DELETE_CONFIRM:{TITLE:"Are you sure you want to delete?",MESSAGE:'Are you sure you want to delete this file? You must click "Save" in order to persist these changes.'}});a.isOptInCreatorEnabled&&(f.CREATOR={BETA_STEP_TEXT:"BETA"});c.constant("ASK_AppListingConfig",x).constant("ASK_AppEditingConfig",f).constant("ASK_LocalesBySkillType",b).constant("ASK_LocaleMap",
g)})(window.angular,window.EDW_CONFIG);define("AlexaSkill/AlexaSkillConstants",function(){});
(function(h){h.module("AlexaSkillModule").constant("ASK_AnalyticsConfig",{ANALYTICS_LOADING_TEXT:"Loading skills metrics data..",ANALYTICS_BACK_TO_APPS_LINK_TEXT:"< Back to All Skills",ANALYTICS_HEADER_TITLE:function(a){return"Metrics for "+a.join(",")},ANALYTICS_HEADER_TEXT:"Skill metrics data is only available for Custom Skills. Skills usage metrics can take up to 1 hour to appear.",ANALYTICS_CHART_SUMMARY_METRIC_TOTAL:function(a){return"Total for "+a},ANALYTICS_CHART_SUMMARY_METRIC_MAX:function(a){return"Maximum per "+
a},ANALYTICS_CHART_SUMMARY_METRIC_AVERAGE:function(a){return"Average per "+a},ANALYTICS_CHART_SUMMARY_DIFF_SUBTEXT:function(a,c){return a&&c?a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY?"("+c+")":"("+(0<=a?"+":"")+a.toLocaleString()+"% "+c+")":" "},ANALYTICS_CHART_SUBTITLE_TEXT:"Click and drag in the plot area to zoom in",ANALYTICS_SKILL_SELECT_LABEL:"Jump to metrics for:",ANALYTICS_SKILL_SELECT_PLACEHOLDER:"Select a skill",ANALYTICS_ZOOM_CHART_TOOLTIP:"Expand chart",ANALYTICS_TIME_INTERVAL_LABEL:"Time Interval (UTC)",
ANALYTICS_MIN_DATE_AVAILABLE:"2017-01-01T00:00:00.000Z",ANALYTICS_TIME_INTERVAL_TOOLTIP:"A day starts at 0:00 and ends 23:59 UTC.",ANALYTICS_TIME_INTERVAL_ZERO_SUMMARY_COMPARISON_TEXT:function(a){return"previous "+(1===a?"day":a+" days")+" had 0"},ANALYTICS_TIME_INTERVALS:[{name:"Today",range:function(a){return{start:a().utc().startOf("day"),end:a().utc().endOf("day")}},SUMMARY_COMPARISON_TEXT:"Day over Day"},{name:"Yesterday",range:function(a){return{start:a().utc().subtract(1,"days").startOf("day"),
end:a().utc().subtract(1,"days").endOf("day")}},SUMMARY_COMPARISON_TEXT:"Day over Day"},{name:"Last 7 Days",range:function(a){return{start:a().utc().subtract(6,"days").startOf("day"),end:a().utc().endOf("day")}},SUMMARY_COMPARISON_TEXT:"Week over Week"},{name:"Last 30 Days",range:function(a){return{start:a().utc().subtract(29,"days").startOf("day"),end:a().utc().endOf("day")}},SUMMARY_COMPARISON_TEXT:"Month over Month"},{name:"Custom Range",custom:!0,SUMMARY_COMPARISON_TEXT:function(a){return"over "+
a+(1===a?" day":" days")}}],ANALYTICS_TIME_INTERVAL_CUSTOM_RANGE_FORMAT:"M/D/YY",ANALYTICS_METRICS_LATENCY_OFFSET:36E5,ANALYTICS_DEFAULT_TIME_INTERVAL:"Last 7 Days",ANALYTICS_AGGREGATION_PERIOD_LABEL:"Aggregation Period",ANALYTICS_AGGREGATION_PERIOD_VALUES:{BY_15:{DROPDOWN_TEXT:"15 Minutes",SUMMARY_TEXT:"15 Minutes",MINUTES_IN_PERIOD:15,SUMMARY_MAX_SUBTEXT:function(a,c){if(!a)return" ";var b=c.utc(a);return"on "+b.format("l")+" at "+b.format("HH:mm")+" UTC"}},BY_HOUR:{DROPDOWN_DEFAULT:!0,DROPDOWN_TEXT:"Hourly",
SUMMARY_TEXT:"Hour",MINUTES_IN_PERIOD:60,SUMMARY_MAX_SUBTEXT:function(a,c){if(!a)return" ";var b=c.utc(a);return"on "+b.format("l")+" at "+b.format("HH:mm")+" UTC"}},BY_DAY:{DROPDOWN_TEXT:"Daily",SUMMARY_TEXT:"Day",MINUTES_IN_PERIOD:1440,SUMMARY_MAX_SUBTEXT:function(a,c){return a?"on "+c.utc(a).format("l")+" UTC":" "}},BY_WEEK:{DROPDOWN_TEXT:"Weekly",SUMMARY_TEXT:"Week",MINUTES_IN_PERIOD:10080,SUMMARY_MAX_SUBTEXT:function(a,c){if(!a)return" ";var b=c.utc(a);return"on "+b.startOf("week").format("l")+
"-"+b.endOf("week").format("l")+" UTC"}}},ANALYTICS_UPDATE_METRICS_BUTTON_TEXT:"Update",ANALYTICS_SKILL_STAGE_LABEL:"Skill Stage",ANALYTICS_SKILL_LOCALE_LABEL:"Language",ANALYTICS_LOCALES_ALL:"All",ANALYTICS_LOCALES_MULTIPLE_SELECTED:function(a){return a+" Selected"},ANALYTICS_SKILL_STAGE_TOOLTIP:'Development can include skills being tested in a beta. Skills must be submitted and certified to be considered "Live".',ANALYTICS_SKILL_STAGE_VALUES:["Live","Development"],ANALYTICS_CHART_TYPES:{LINE:"LINE",
AREA:"AREA",STACKED_AREA:"STACKED_AREA",STACKED_PERCENT_AREA:"STACKED_PERCENT_AREA",STACKED_BAR:"STACKED_BAR",STACKED_PERCENT_BAR:"STACKED_PERCENT_BAR",SUMMARY:"SUMMARY"},ANALYTICS_CHART_COLORS:"#1987CF #00CDC2 #61717F #1A2024 #3182BD #6BAED6 #9ECAE1 #C6DBEF #E6550D #FD8D3C #FDAE6B #FDD0A2 #31A354 #74C476 #A1D99B #C7E9C0 #756BB1 #9E9AC8 #BCBDDC #DADAEB #636363 #969696 #393B79 #5254A3 #6B6ECF #9C9EDE #637939 #8CA252 #B5CF6B #CEDB9C #8C6D31 #BD9E39 #E7BA52 #E7CB94 #843C39 #AD494A #D6616B #E7969C #7B4173 #A55194 #CE6DBD #DE9ED6 #1F77B4 #FF7F0E #2CA02C #D62728 #9467BD #8C564B #E377C2 #7F7F7F #BCBD22 #17BECF #AEC7E8 #FFBB78 #98DF8A #FF9896 #C5B0D5 #C49C94 #F7B6D2 #C7C7C7 #DBDB8D #9EDAE5".split(" "),
ANALYTICS_NO_DATA_MESSAGE:"There is no data for the selected time interval and aggregation period.",ANALYTICS_CHART_DEFAULT_WIDTH:50,ANALYTICS_LOCALE_PLACEHOLDER_TEXT:"Select a Language",ANALYTICS_CUSTOM_SKILL_CLARIFICATION_MESSAGE:"Skill Metrics data is only available for Custom Skills. Smart Home and Flash Briefing Skills will not appear in metrics."})})(window.angular);define("AlexaSkill/Analytics/AlexaSkillAnalyticsConstants",function(){});
(function(h){h.module("AlexaSkillModule").constant("ASK_AnalyticsChartConfig",[{HEADING:"Overview",TEXT:"",CHARTS:[{TYPE:"SUMMARY",WIDTH:100,SERIES:[{REPORT:"UNIQUE_CUSTOMERS",NAME:"Unique Customers",WIDTH:33},{REPORT:"ENDED_SESSIONS",NAME:"Sessions",WIDTH:33},{REPORT:"TOTAL_UTTERANCES",NAME:"Utterances",WIDTH:33}]},{TITLE:"Total Utterances by Intent",TOOLTIP:"Total utterances by intent type.",SHOW_LEGEND:!0,SINGLE_DIMENSION:!0,YAXIS_TITLE:"Number of Utterances",WIDTH:100,SERIES:[{NAME:"Intents",
TYPE:"pie",REPORT:"TOTAL_UTTERANCES_BY_INTENT"}]}]},{HEADING:"Customers",TEXT:"",CHARTS:[{TITLE:"Total Unique Customers",TOOLTIP:"Total number of unique customers using your skill.",SHOW_LEGEND:!1,YAXIS_TITLE:"Number of Customers",WIDTH:100,SERIES:[{NAME:"Customers",TYPE:"line",REPORT:"UNIQUE_CUSTOMERS"}]}]},{HEADING:"Sessions",TEXT:"A session begins when a user invokes your skill. The session ends when the user explicitly exits the skill, stops interacting with the skill, or the skill itself chooses to end the interaction.",
CHARTS:[{TITLE:"Total Sessions",TOOLTIP:"Total number of sessions which ended, which includes sessions ending due to an error.",SHOW_LEGEND:!0,YAXIS_TITLE:"Number of Sessions",TYPE:"STACKED_BAR",SERIES:[{NAME:"Successful",TYPE:"column",REPORT:"SUCCESSFUL_SESSIONS"},{NAME:"Failed",TYPE:"column",REPORT:"FAILED_UTTERANCES_SESSION"},{NAME:"User Did Not Respond",TYPE:"column",REPORT:"USER_DID_NOT_RESPOND"}]},{TITLE:"Successful End Session Types",TOOLTIP:"Successful sessions are either user-ended or skill-ended. User-ended sessions are sessions in which the user explicitly ends the interaction. Skill-ended sessions are sessions in which Alexa ended the interaction.",
SHOW_LEGEND:!0,TYPE:"STACKED_BAR",YAXIS_TITLE:"Number of Sessions",SERIES:[{NAME:"User-ended",TYPE:"column",REPORT:"USER_ENDED_SESSIONS"},{NAME:"Skill-ended",TYPE:"column",REPORT:"SKILL_ENDED_SESSIONS"}]},{TITLE:"Average Sessions per Customer",TOOLTIP:"The average number of sessions per customer.",SHOW_LEGEND:!1,YAXIS_TITLE:"Number of Sessions",HOVER_LABEL_DECIMALS:1,SERIES:[{NAME:"Sessions",REPORT:"AVERAGE_SESSIONS_PER_CUSTOMER"}]},{TITLE:"Percent of Total Sessions",TOOLTIP:"A percentage breakdown of all sessions into one of the three outcomes types: successful session, failed session, and user did not respond.",
SHOW_LEGEND:!0,YAXIS_TITLE:"Percent",TYPE:"STACKED_PERCENT_BAR",SERIES:[{NAME:"Successful",TYPE:"column",REPORT:"SUCCESSFUL_SESSIONS"},{NAME:"Failed",TYPE:"column",REPORT:"FAILED_UTTERANCES_SESSION"},{NAME:"User Did Not Respond",TYPE:"column",REPORT:"USER_DID_NOT_RESPOND"}]}]},{HEADING:"Utterances",TEXT:"An utterance consists of a series of words users say to make (or invoke) those requests. On this page, you can view instances of when utterances occurred.",CHARTS:[{TITLE:"Total Utterances",TOOLTIP:"Total number of utterances which ended during a session, which could include utterances ending due to an error.",
SHOW_LEGEND:!0,TYPE:"STACKED_BAR",YAXIS_TITLE:"Number of Utterances",WIDTH:100,SERIES:[{NAME:"Successful Utterances",REPORT:"SUCCESSFUL_UTTERANCES"},{NAME:"Failed Utterances",REPORT:"FAILED_UTTERANCES_SESSION"}]},{TITLE:"Average Utterances",TOOLTIP:"Average utterances per customer and average utterances per session.",SHOW_LEGEND:!0,YAXIS_TITLE:"Number of Utterances",HOVER_LABEL_DECIMALS:1,SERIES:[{NAME:"Per Customer",TYPE:"line",REPORT:"AVERAGE_UTTERANCES_PER_CUSTOMER"},{NAME:"Per Session",TYPE:"column",
REPORT:"AVERAGE_UTTERANCES_PER_SESSION"}]},{TITLE:"Utterance Responses",TOOLTIP:"Total utterances are made up of utterances in which the user did or did not respond.",SHOW_LEGEND:!0,YAXIS_TITLE:"Number of Utterances",TYPE:"STACKED_BAR",SERIES:[{NAME:"User Responded",TYPE:"column",REPORT:"USER_RESPONDED"},{NAME:"No User Response",TYPE:"column",REPORT:"USER_DID_NOT_RESPOND"}]}]},{HEADING:"Intents",TEXT:"An intent is the main request or action associated with the user\u2019s command for a custom skill. On this page, you can view instances of when intents were used.",
CHARTS:[{TITLE:"Intents by Unique Customers",TOOLTIP:"Number of unique users which used an intent.",SHOW_LEGEND:!0,TYPE:"STACKED_AREA",YAXIS_TITLE:"Number of Customers",WIDTH:100,SORT_KEY:"Intent",SERIES:[{NAME:"Final Intent",REPORT:"CUSTOMERS_BY_INTENT"}]},{TITLE:"Total Utterances Per Intent",TOOLTIP:"Total utterances by intent type.",SHOW_LEGEND:!0,TYPE:"STACKED_AREA",YAXIS_TITLE:"Number of Utterances",SORT_KEY:"Intent",SERIES:[{NAME:"Total Utterances",REPORT:"TOTAL_UTTERANCES_BY_INTENT"}]},{TITLE:"Failed Utterances Per Intent",
TOOLTIP:"Total utterances which failed by intent.",SHOW_LEGEND:!0,TYPE:"STACKED_AREA",YAXIS_TITLE:"Number of Utterances",SORT_KEY:"Intent",SERIES:[{NAME:"Intent Distribution",REPORT:"FAILED_UTTERANCES_BY_INTENT"}]},{TITLE:"Total Intents",TOOLTIP:"Percent distribution of intents over all utterances.",SHOW_LEGEND:!0,TYPE:"STACKED_PERCENT_AREA",YAXIS_TITLE:"Percent of Utterances",SORT_KEY:"Intent",HOVER_LABEL_DECIMALS:1,SERIES:[{NAME:"Intent Distribution",REPORT:"TOTAL_UTTERANCES_BY_INTENT"}]},{TITLE:"Failed Intents",
TOOLTIP:"Percent distribution of intents over all failed utterances.",SHOW_LEGEND:!0,TYPE:"STACKED_PERCENT_AREA",YAXIS_TITLE:"Percent of Utterances",SORT_KEY:"Intent",HOVER_LABEL_DECIMALS:1,SERIES:[{NAME:"Failed Intent Distribution",REPORT:"FAILED_UTTERANCES_BY_INTENT"}]}]}])})(window.angular);define("AlexaSkill/Analytics/AlexaSkillAnalyticsChartConfig",function(){});
(function(h){h.module("AlexaSkillModule").service("AlexaInterfaceService",["ASK_AppEditingConfig","AlexaAppManagementStorage","CommonService",function(a,c,b){function g(a,b,c){var g=[],l=[];d.REQUIRED.forEach(function(a){g.push({intent:a,string:'{"intent":"'+a+'"}'})});d.OPTIONAL.forEach(function(a){l.push({intent:a,string:'{"intent":"'+a+'"}'})});var n=e(b);if(n.error)return n;var m=[{intent:"",string:""}],q;if(n&&n.intents){var A=[];n.intents.forEach(function(a){A.push(JSON.stringify(a).replace(/\s+/g,
"").replace(/'/g,'"'))});m=[];q=[];g.forEach(function(a){-1<A.indexOf(a.string)?q.push(a):m.push(a)});l.forEach(function(a){-1<A.indexOf(a.string)&&q.push(a)});m.forEach(function(a){n.intents.unshift({intent:a.intent})})}else{var B="";d.REQUIRED.forEach(function(a,b){B=B+'        {"intent": "'+a;B+=b<d.REQUIRED.length-1?'"},\n':'"}\n'});n=h.fromJson('{\n    "intents": [\n'+B+"    ]\n}");m=g;q=[]}if(a=f(c,q))return a;var w="";0<m.length&&(w=k.MISSING_INTENTS,m.forEach(function(a,b){w+=a.string;b<m.length-
1&&(w+=", ")}));return{error:!1,message:w,intentSchemaJson:n,missingIntents:m}}function f(a,b){if("string"!==typeof a||0===a.length)return!1;var d;for(d=0;d<b.length;d++)if(-1<a.indexOf(b[d].intent)){var e=a.split(/(\r\n|\n|\r)/gm),f;for(f=0;f<e.length&&!(-1<e[f].indexOf(b[d].intent));f++);return{error:!0,message:c.alexaConstantReplace(k.SAMPLE_UTTERANCE_ERROR,{INPUT1:b[d].intent,INPUT2:e[f],INPUT3:f/2+1}),intentSchemaJson:{},missingIntents:[]}}return!1}function e(a){if(a&&0<a.length)try{return a=
b.cleanJSON(a),CodeMirror.lint.json(a),a=h.fromJson(a)}catch(c){return{error:!0,message:k.INVALID_INTENT_SCHEMA_JSON,intentSchemaJson:{},missingIntents:[]}}return{error:!1,message:"",intentSchemaJson:{},missingIntents:[]}}var k=a.INTERACTION_MODEL_TAB.AUDIO_PLAYER_MESSAGE,d=a.INTERACTION_MODEL_TAB.AUDIO_PLAYER_INTENTS,l=Object.keys(a.INTERACTION_MODEL_TAB.AUDIO_INTERFACES),q=Object.keys(a.INTERACTION_MODEL_TAB.DISPLAY_INTERFACES),n=function(a){if(!a||!a.getCustomInteractionModelInfo()||!a.getCustomInteractionModelInfo().implementedInterfaces)return!1;
var b=a.getCustomInteractionModelInfo();for(a=0;a<l.length;a++)if(!b.implementedInterfaces[l[a]])return!1;return!0},m=function(a,b){if(!n(a))return!0;if(a.modelDef[b]&&a.modelDef[b].models&&a.modelDef[b].testCases&&a.hasValidEndpoint()){var c=g(b,a.modelDef[b].models,a.modelDef[b].testCases);if(!c.error&&0===c.missingIntents.length)return!0}return!1};return{getAudioPlayerStatus:n,hasVideoPlayerInterface:function(a){if(!a||!a.getCustomInteractionModelInfo()||!a.getCustomInteractionModelInfo().implementedInterfaces)return!1;
a=a.getCustomInteractionModelInfo().implementedInterfaces.videoPlayer;return null!==a&&"object"===typeof a},getRenderTemplateStatus:function(a){if(!a||!a.getCustomInteractionModelInfo()||!a.getCustomInteractionModelInfo().implementedInterfaces)return!1;var b=a.getCustomInteractionModelInfo();for(a=0;a<q.length;a++)if(!b.implementedInterfaces[q[a]])return!1;return!0},handleAudioInterfaceChange:function(a,b,c){var d=a.getCustomInteractionModelInfo();b?(d.implementedInterfaces||(a.getCustomInteractionModelInfo().implementedInterfaces=
{}),l.forEach(function(b){a.getCustomInteractionModelInfo().implementedInterfaces[b]={}}),c&&(m(a,c)?a.enableAsync(c):a.disableAsync(c))):d.implementedInterfaces&&l.forEach(function(b){d.implementedInterfaces[b]&&delete a.getCustomInteractionModelInfo().implementedInterfaces[b]});return a},handleVideoInterfaceChange:function(a,b){var c=a.getCustomInteractionModelInfo(),d=c.implementedInterfaces||{};b?d.videoPlayer={}:d&&delete c.implementedInterfaces.videoPlayer;c.implementedInterfaces=d;return a},
handleDisplayInterfaceChange:function(a,b){var c=a.getCustomInteractionModelInfo();b?(c.implementedInterfaces||(a.getCustomInteractionModelInfo().implementedInterfaces={}),q.forEach(function(b){a.getCustomInteractionModelInfo().implementedInterfaces[b]={}})):c.implementedInterfaces&&q.forEach(function(b){c.implementedInterfaces[b]&&delete a.getCustomInteractionModelInfo().implementedInterfaces[b]});return a},validateAudioInterface:g}}])})(window.angular);
define("AlexaSkill/AlexaInterfaceService",function(){});
(function(h){h.module("AlexaSkillModule").factory("AlexaAppManagementAjax",["CommonAjax","ASK_AppEditingConfig","$q",function(a,c,b){function g(a){return Object.keys(a).map(function(b){return{requestReasonAndTestingInstructions:a[b],scope:b}})}function f(a){if(a.skillDefinition&&a.skillDefinition.permissionInfo){var b=a.skillDefinition.permissionInfo,c=a.skillDefinition.permissionInfo.permissions,e={},f,g;for(f=0;f<c.length;f++)g=c[f].scope,e[g]=c[f].requestReasonAndTestingInstructions;b.permissions=
e}return a}function e(a){a.skillDefinition&&a.skillDefinition.permissionInfo&&(a.skillDefinition.permissionInfo.permissions=g(a.skillDefinition.permissionInfo.permissions));return a}return{properties:a.properties,refreshAppInfosAsync:function(){return b(function(b,c){a.sendGetRequestAsync("/edw/ajax/ask/getApps").then(function(a){var c;for(c=0;c<a.length;c++)a[c]=f(a[c]);b(a)},c)})},validatePhrasesAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/validatePhrases",b)},invokeSkillWithTextAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/invokeSkillWithText",
b)},invokeSkillAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/invokeSkillWithJson",b)},createApplicationVersionAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/cloneApplication",b)},withdrawApplicationAsync:function(c){return b(function(b,e){a.sendPostRequestAsync("/edw/ajax/ask/withdrawApplication",c).then(function(a){a.skillInfo=f(a.skillInfo);b(a)},e)})},submitApplicationAsync:function(c){return b(function(b,e){a.sendPostRequestAsync("/edw/ajax/ask/submitApplication",
c).then(function(a){a.skillInfo=f(a.skillInfo);b(a)},e)})},getEnabledAppsAsync:function(){return a.sendGetRequestAsync("/edw/ajax/ask/getEnabledApps")},enableApplicationAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/enableApp",b)},disableApplicationAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/disableApp",b)},createPartnerAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/createPartner",b)},createApplicationAsync:function(c){var d=h.copy(c);d.edwSkillInfo.skillDefinition.permissionInfo=
{permissions:[]};return b(function(b,c){a.sendPostRequestAsync("/edw/ajax/ask/createApplication",d).then(function(a){a=f(a);b(a)},c)})},deleteApplicationAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/deleteApp",b)},getLastSavedModelDefAsync:function(b,c,e){return a.sendGetRequestAsync("/edw/ajax/ask/getLastSavedModelDef?appId="+b+"&stage="+c+"&locale="+e)},getModelBuildStatusAsync:function(b,c){return a.sendGetRequestAsync("/edw/ajax/ask/getModelBuildStatus?appId="+b+"&locale="+c)},
getLastSavedSSLCertificatesAsync:function(b){return a.sendGetRequestAsync("/edw/ajax/ask/getLastSavedSSLCertificate?appId="+b)},getPermissionsClientSecretAsync:function(b,c){return a.sendGetRequestAsync("/edw/ajax/ask/getPermissionsClientSecret?skillId="+b+"&profileId="+c)},fetchAvailableAppCategories:function(){return a.sendGetRequestAsync("/edw/ajax/ask/fetchAvailableAppCategories")},fetchAppConfigurationsAsync:function(){return a.sendGetRequestAsync("/edw/ajax/ask/fetchAppConfigurations")},updateAppAsync:function(c){var d=
h.copy(c);d.skillInfo=e(d.skillInfo);return b(function(b,c){a.sendPostRequestAsync("/edw/ajax/ask/updateApp",d).then(function(a){a.skillInfo=f(a.skillInfo);b(a)},c)})},updateIntentSchemaAsync:function(c){return b(function(b,e){a.sendPostRequestAsync("/edw/ajax/ask/updateApplicationModels",c).then(function(a){a.skillInfo=f(a.skillInfo);b(a)},e)})},updateSSLCertAsync:function(b){b=h.copy(b);b.appInfo=e(b.appInfo);return a.sendPostRequestAsync("/edw/ajax/ask/updateApplicationSSLCertificate",b)},getImageUploadUrlAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/getImageUploadUrl",
b)},getImageRetrievalUrlAsync:function(b,c){return a.sendGetRequestAsync("/edw/ajax/ask/getImageRetrievalUrl?assetId="+b+"&type="+c)},getAllImageRetrivalUrlsAsync:function(b,c){return a.sendGetRequestAsync("/edw/ajax/ask/getAllImageRetrievalUrls?appId="+b+"&stage="+c)},getAllAppIconRetrievalUrlsAsync:function(){return a.sendGetRequestAsync("/edw/ajax/ask/getAllAppIconRetrievalUrls")},uploadImageAsync:function(b,c){return a.uploadImageAsync(b,c)},getFileUploadUrlAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/getFileUploadUrl",
b)},uploadFileAsync:function(b){return b.file&&b.file.size<c.MIN_FILE_SIZE_FOR_CHUNKS?a.sendMultipartFilePostRequestAsync(b):a.sendChunkedFilePostRequestAsync(b)},getAnalyticsDataAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/getAnalyticsData",b)},getAnalyticsDataSingleAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/getAnalyticsDataSingle",b)},getAnalyticsDataV1Async:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/getAnalyticsDataV1",b)},getImageResourceUploadUrlAsync:function(b,
c,e,f){b||(b="");c||(c="");return a.sendGetRequestAsync("/edw/ajax/ask/getImgResUploadUrl?type="+b+"&name="+e+"&size="+f+"&imageId="+c)},getImageResourceRetrievalUrlAsync:function(b){return a.sendGetRequestAsync("/edw/ajax/ask/getImgResRetrievalUrl?id="+b)},batchGetImageResourceRetrievalUrlAsync:function(b){return a.sendGetRequestAsync("/edw/ajax/ask/batchGetImgResRetrievalUrls?ids="+b)},getDeveloperPreferencesAsync:function(b){return a.sendGetRequestAsync("/edw/ajax/ask/getDeveloperPreferences?skillId="+
b)},setDeveloperPreferencesAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/ask/updateDeveloperPreferences",b)}}}])})(window.angular);define("AlexaSkill/AppManagement/AlexaAppManagementAjax",function(){});
(function(h){h.module("AlexaSkillModule").factory("AlexaAppIconCache",["AlexaAppManagementAjax","$q","ASK_AppEditingConfig",function(a,c,b){function g(){m=[]}function f(a,b,c){if(l[a+b]=c)for(var d=0;d<h.length;++d){var e=h[d];e.func.apply(e.target,[a,b,c])}}function e(){d||k.isEmpty()||(d=k.dequeue(),a.getImageRetrievalUrlAsync(d.appId,d.stage,d.locale,n).then(function(a){f(d.appId+d.stage,d.locale,a.retrievalUrl);d=null;e()},function(){d=null;e()}))}var k,d,l={},h=[],n=b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,
m;g.prototype={enqueue:function(a,b){m.push({appId:a.skillInfo.skillId,stage:a.skillInfo.stage,locale:b})},dequeue:function(){return m.shift()},contains:function(a,b){var c,d;for(c=0;c<m.length;++c)if(d=m[c],d.appId===a.skillInfo.skillId&&d.stage===a.skillInfo.stage&&d.locale===b)return!0;return!1},isEmpty:function(){return 0===m.length}};k=new g;return{fetchApplicationIcon:function(a,b){var c=a.getAppKey()+b;"undefined"!==typeof l[c]||k.contains(a,b)||d&&d.appId===a.skillInfo.skillId&&d.stage===
a.skillInfo.stage&&d.locale===b||(k.enqueue(a,b),e())},uploadAppIconAsync:function(d,e,f){return c(function(c,g){var k=d.getAppKey(),h;a.getImageUploadUrlAsync({applicationId:d.skillInfo.skillId,stage:d.skillInfo.stage,locale:f,fileName:e.name,contentSize:e.size,imageType:b.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE}).then(function(b){var c={uploadURL:b.uploadUrl,file:e};h=b.imageAssetId;return a.uploadImageAsync(c,{sizeLimit:"100kb",dimensionLimit:"108 x 108"})}).then(function(){return a.getImageRetrievalUrlAsync(h,
b.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE)}).then(function(a){l[k+f]=a.retrievalUrl;c({url:a.retrievalUrl,newImageAssetId:h})},function(a){g(a)})})},addCacheUpdateEventHandler:function(a,b){h.push({target:a,func:b})},getCachedAppIconUrl:function(a,b){return l[a+b]},updateCache:f}}])})(window.angular);define("AlexaSkill/AppManagement/AlexaAppIconCache",function(){});
(function(h){h.module("AlexaSkillModule").factory("AlexaAppManagementStorage",["AlexaAppManagementAjax","AlexaAppIconCache","ASK_AppEditingConfig","$q","$rootScope","$filter","$interval","NoImage","CommonService","EDW_CONFIG",function(a,c,b,g,f,e,k,d,l,q){function n(a,c,d){var e=this;e.skillInfo=a;e.isAccountLinkingEnabled=!(!e.getAccountLinkingInfo()||!e.getAccountLinkingInfo().partnerId);e.catalogInfo={};e.modelDef={};e._imageUrls={};h.forEach(x,function(a,c){e.catalogInfo[c]={};e.modelDef[c]={};
e.modelDef[c].catalogs=[];e._imageUrls[c]={};e._imageUrls[c][b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE]=y;e._imageUrls[c][b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE]=y;e._imageUrls[c][b.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE]=y;e._imageUrls[c][b.MULTIMEDIA_TAB.APP_IMAGE_MASKED_LARGE.TYPE]=y});e._imageUrls["new"]={};e._imageUrls["new"][b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE]=y;e._imageUrls["new"][b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE]=y;e._imageUrls["new"][b.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE]=y;
e._imageUrls["new"][b.MULTIMEDIA_TAB.APP_IMAGE_MASKED_LARGE.TYPE]=y;c&&(e._isFetched=!0,d?(e._imageUrls=d._imageUrls,e.modelDef=h.copy(d.modelDef),e.sslCerts=h.copy(d.sslCerts)):(e.modelDef={},h.forEach(x,function(a,b){e.modelDef[b]={};e.modelDef[b].catalogs=[]})))}function m(b,c){a.getModelBuildStatusAsync(b.skillInfo.skillId,c).then(function(a){r(b,c,a.modelBuildStatus);a.modelBuildStatus===E.pending&&k(function(){m(b,c)},a.pollingWaitTime,1,!0)},function(){k(function(){m(b,c)},15E3,1,!0)})}function r(a,
b,c){a.skillInfo.stage===w.dev&&c!==K[a.skillInfo.skillId+b]&&(K[a.skillInfo.skillId+b]=c,c===E.pending&&m(a,b),f.$broadcast("AlexaAppManagementStorage.ModelBuildStatusChanged",a))}function t(c){return g(function(d,e){if(c._isFetched)d(c);else{var f=c.skillInfo.skillId,k=c.skillInfo.stage;a.getAllImageRetrivalUrlsAsync(f,k).then(function(d){if(d&&d.iconUrlsByLocale){d=d.iconUrlsByLocale;for(var e in d)d.hasOwnProperty(e)&&(null!==d[e].maskedSmallIconUrl?c.setImageUrl(d[e].maskedSmallIconUrl,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,
e):c.setImageUrl(d[e].smallIconUrl,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,e),null!==d[e].maskedLargeIconUrl?c.setImageUrl(d[e].maskedLargeIconUrl,b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,e):c.setImageUrl(d[e].largeIconUrl,b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,e))}e=[];d=c.getAssignedLocales();var h;for(h=0;h<d.length;h++)e.push(a.getLastSavedModelDefAsync(f,k,d[h]));return g.all(e)},function(){c.setImageUrl(y,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,A);var d=[],e=c.getAssignedLocales(),h;for(h=
0;h<e.length;h++)d.push(a.getLastSavedModelDefAsync(f,k,e[h]));return g.all(d)}).then(function(b){var d;b.forEach(function(a){d=a.locale;c.setCatalogFileName(a.catalogFileName,d);c.setCatalogSupplyMethod(a.catalogSupplyMethod,d);c.setCatalogType(a.catalogType,d);c.modelDef[d]=h.copy(a.modelDef);r(c,d,a.modelBuildStatus)});return c.containsCustomType()?a.getLastSavedSSLCertificatesAsync(f):{}}).then(function(b){c.sslCerts=b;c._isFetched=!0;return a.getDeveloperPreferencesAsync(f)}).then(function(a){c.setDeveloperPreferences(a);
d(c)},function(b){z.exception=a.properties.exception;e(b)})}})}function p(){this._map={};this._list=[];this._sortedList=[]}function u(d){var e=d&&d.forceRefreshing,g=d&&d.skipAppIconRefreshing;z.isRefreshingAppInfos||(d=(new Date).getTime(),!e&&0<N&&N+6E5>d?(z.skills=G.sort(),f.$emit("AlexaAppManagementStorage.refreshAppInfosDone")):(N=(new Date).getTime(),z.isRefreshingAppInfos=!0,a.refreshAppInfosAsync().then(function(d){z.isRefreshingAppInfos=!1;C={};G.clear();var e={},f=[];h.forEach(d,function(a){var d,
k=a.skillId+a.stage;e[k]=!0;if(a.stage!==w.dev||!e[a.skillId+w.cert]){a=new n(a);k=a.getAppKey();C[k]=a;var h=a.getAssignedLocales(),l;for(l=0;l<h.length;l++)(d=c.getCachedAppIconUrl(k+h[l]))&&a.setImageUrl(d,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,h[l]);if(!g)for(l=0;l<h.length;l++)c.fetchApplicationIcon(a,h[l]);f.push(a);G.add(a)}});z.skills=G.sort();return a.getAllAppIconRetrievalUrlsAsync()}).then(function(b){b=b.allSkillsIconRetrievalUrlResponse;var d;for(d=0;d<b.length;d++)c.updateCache(b[d].skillKey,
b[d].locale,b[d].retrievalUrl);return a.getEnabledAppsAsync()}).then(function(a){I={};h.forEach(a,function(a){I[a.applicationId+a.stage]=a.amsVersion});z.isRefreshingAppInfos=!1;f.$emit("AlexaAppManagementStorage.refreshAppInfosDone")},function(){z.exception=a.properties.exception;z.isRefreshingAppInfos=!1;f.$emit("AlexaAppManagementStorage.refreshAppInfosDone")}),f.$evalAsync()))}var y=d,D=e("orderBy"),v={NA:"NA",EU:"EU"},x=function(){var a={};h.forEach(b.LOCALE_MAP,function(b,c){a[c]=c});return a}(),
A=x.en_US,B={Default:"Custom",Custom:"Custom",SmartHome:"SmartHome",Content:"Content",Music:"Music"};e=[{value:B.Custom,label:"Custom Interaction Model"},{value:B.SmartHome,label:"Smart Home Skill API"},{value:B.Content,label:"Flash Briefing Skill API"}];q.isMusicSkillCreationEnabled&&e.push({value:B.Music,label:"Music Skill API"});var w={dev:"Development",cert:"Certification",live:"Live"},E={failed:"Failed",pending:"Pending",succeeded:"Succeeded"},F={submitSucceeded:"submitSucceeded",withdrawSucceeded:"withdrawSucceeded",
createAppVersionSucceeded:"createAppVersionSucceeded"},z={skills:[],isRefreshingAppInfos:!1},C={},I={},L,N=-1,G,K={};n.prototype={appStages:w,skillTypes:B,modelBuildStatusValues:E,containsSkillType:function(a){return this.skillInfo.skillTypes?-1!==this.getSkillTypes().indexOf(a)?!0:!1:a===B.Default},containsCustomType:function(){return this.containsSkillType(B.Custom)},containsFlashBriefingType:function(){return this.containsSkillType(B.Content)},containsSmartHomeType:function(){return this.containsSkillType(B.SmartHome)},
containsMusicType:function(){return this.containsSkillType(B.Music)},getName:function(){var a,b=this.skillInfo.skillDefinition.multinationalPublishingInfo;if(null===b)return"Error Retrieving Name";b.publishingInfoByLocale.hasOwnProperty(A)?a=b.publishingInfoByLocale[A]:(a=Object.keys(b.publishingInfoByLocale)[0],a=b.publishingInfoByLocale[a]);return a.name},getStageText:function(){return this.skillInfo.stage===w.live?w.live:this.skillInfo.stage===w.cert?w.cert:this.isInitializing?"":w.dev},getSkillType:function(a){"number"!==
typeof a&&(a=0);return this.skillInfo.skillTypes[a]},getSkillTypes:function(){return this.skillInfo.skillTypes},getAssignedLocales:function(){var a=[],b=this.skillInfo.skillDefinition.multinationalPublishingInfo,c;if(null===b)return[A];for(c in b.publishingInfoByLocale)b.publishingInfoByLocale.hasOwnProperty(c)&&a.push(c);return a},getUnassignedLocales:function(){var a=b.LOCALES_BY_SKILL_TYPE[this.getSkillType()],c=this.getAssignedLocales(),a=a.filter(function(a){return 0>c.indexOf(a)}),d=[],e;for(e=
0;e<a.length;e++)d.push({val:a[e],label:b.LOCALE_MAP[a[e]]});return d},getLocalizedPublishingInfo:function(a){return this.skillInfo.skillDefinition.multinationalPublishingInfo?this.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale[a]:null},getModelDefinition:function(a){return this.modelDef[a]},setModelDefinition:function(a,b){this.modelDef[b]=a},getIntentSchema:function(a){return this.modelDef[a].models},setIntentSchema:function(a,b){this.modelDef[b].models=a},getCatalogs:function(a){return this.modelDef[a].catalogs},
setCatalogs:function(a,b){this.modelDef[b].catalogs=a},setCatalogInfo:function(a,b){this.catalogInfo[b]=a},getCatalogType:function(a){return this.catalogInfo[a].catalogType},setCatalogType:function(a,b){this.catalogInfo[b].catalogType=a},deleteCatalogType:function(a){delete this.catalogInfo[a].catalogType},getCatalogFileName:function(a){return this.catalogInfo[a].catalogFileName},setCatalogFileName:function(a,b){this.catalogInfo[b].catalogFileName=a},deleteCatalogFileName:function(a){delete this.catalogInfo[a].catalogFileName},
getCatalogSupplyMethod:function(a){return this.catalogInfo[a].catalogSupplyMethod},setCatalogSupplyMethod:function(a,b){this.catalogInfo[b].catalogSupplyMethod=a},deleteCatalogSupplyMethod:function(a){delete this.catalogInfo[a].catalogSupplyMethod},getSampleUtterances:function(a){return this.modelDef[a].testCases},getDeveloperPreferences:function(){return"object"===typeof this.preferences?this.preferences:{}},setDeveloperPreferences:function(a){this.preferences||(this.preferences={});Object.assign(this.preferences,
a)},getExamplePhrases:function(a){return(this.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale[a].examplePhrases||[]).filter(function(a){return!!a})},setExamplePhrases:function(a,b){this.getLocalizedPublishingInfo(a)&&b&&0<b.length&&(this.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale[a].examplePhrases=b.filter(function(a){return!!a}))},getGlobalPublishingInfo:function(){return this.skillInfo.skillDefinition.multinationalPublishingInfo||{}},
getAccountLinkingInfo:function(){return this.skillInfo.skillDefinition.accountLinkingInfo},getPartnerEntity:function(){return this.skillInfo.partnerEntity},getCustomInteractionModelInfo:function(){return this.skillInfo.skillDefinition.customInteractionModelInfo},getInvocationName:function(a){return this.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a]},getSSLCertificateTypes:function(){var a=this,b={},c={};Object.keys(v).forEach(function(d){b[d]=a.getEndpointByRegion(d);
b[d]?c[d]=b[d]&&b[d].sslCertificateType:delete b[d]});return c},initializeEndpointByRegion:function(a){var b;this.containsSmartHomeType()?b="smartHomeInfo":this.containsMusicType()?b="musicInfo":this.containsCustomType()&&(b="customInteractionModelInfo");this.skillInfo.skillDefinition[b].endpointsByRegion||(this.skillInfo.skillDefinition[b].endpointsByRegion={});this.skillInfo.skillDefinition[b].endpointsByRegion[a]={};return this.skillInfo.skillDefinition[b].endpointsByRegion[a]},resetEndpointByRegion:function(a){var b;
this.containsSmartHomeType()?b=this.skillInfo.skillDefinition.smartHomeInfo.endpointsByRegion:this.containsMusicType()?b=this.skillInfo.skillDefinition.musicInfo.endpointsByRegion:this.containsCustomType()&&(b=this.skillInfo.skillDefinition.customInteractionModelInfo.endpointsByRegion);b&&b[a]&&delete b[a]},resetCategoryItemTypeKeyword:function(){this.getGlobalPublishingInfo().categoryItemTypeKeyword=null},getEndpointByRegion:function(a){var b;this.containsSmartHomeType()?b=this.skillInfo.skillDefinition.smartHomeInfo.endpointsByRegion:
this.containsMusicType()?b=this.skillInfo.skillDefinition.musicInfo.endpointsByRegion:this.containsCustomType()&&(b=this.skillInfo.skillDefinition.customInteractionModelInfo.endpointsByRegion);return b&&b[a]?b[a]:null},getDefaultEndpoint:function(){var a,b=this.skillInfo.skillDefinition.customInteractionModelInfo.endpointsByRegion;for(a in b)if(b.hasOwnProperty(a)&&b[a].isDefaultRegion)return b[a];return null},hasValidEndpoint:function(){return this.getEndpointByRegion(v.NA)&&this.getEndpointByRegion(v.NA).type&&
this.getEndpointByRegion(v.NA).url&&this.getEndpointByRegion(v.NA).isDefaultRegion||this.getEndpointByRegion(v.EU)&&this.getEndpointByRegion(v.EU).type&&this.getEndpointByRegion(v.EU).url&&this.getEndpointByRegion(v.EU).isDefaultRegion},getSmartHomeInfo:function(){return this.skillInfo.skillDefinition.smartHomeInfo},getMusicInfo:function(){return this.skillInfo.skillDefinition.musicInfo},getContentSkillInfoByLocale:function(a){return this.skillInfo.skillDefinition.contentSkillInfo&&this.skillInfo.skillDefinition.contentSkillInfo.contentSkillInfoByLocale?
this.skillInfo.skillDefinition.contentSkillInfo.contentSkillInfoByLocale[a]:null},getContentSkillInfo:function(){return this.skillInfo.skillDefinition.contentSkillInfo?this.skillInfo.skillDefinition.contentSkillInfo:null},isAccountLinkingMandatory:function(){return this.containsSmartHomeType()},isAccountLinkingSupported:function(){return this.containsMusicType()||this.containsSmartHomeType()||this.containsCustomType()},isPermissionsSupported:function(){return this.containsCustomType()},getAppKey:function(){return this.skillInfo.skillId+
this.skillInfo.stage},isEnabled:function(a){var b=this.getAppKey();return this.containsFlashBriefingType()?!!I[b]:this.containsSmartHomeType()||this.containsMusicType()?I[b]&&this.hasValidEndpoint():I[b]&&this.hasValidEndpoint()&&this.getModelDefinition(a)&&this.getIntentSchema(a)&&this.getSampleUtterances(a)&&this.getModelBuildStatus(a)===this.modelBuildStatusValues.succeeded},enableAsync:function(b){var c=this;return g(function(d,e){a.enableApplicationAsync({applicationId:c.skillInfo.skillId,stage:c.skillInfo.stage,
amsVersion:c.skillInfo.amsVersion,locale:b}).then(function(){I[c.getAppKey()]=c.skillInfo.amsVersion;d(c)},function(a){e(a)})})},disableAsync:function(b){var c=this;return g(function(d,e){a.disableApplicationAsync({applicationId:c.skillInfo.skillId,locale:b}).then(function(){I[c.getAppKey()]=void 0;d(c)},function(a){e(a)})})},uploadAppIconAsync:function(a,c){return this.uploadImageAsync(a,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,c)},getAppIconUrl:function(a){a=this.getImageUrl(b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,
a);return null===a?y:a},setImageUrl:function(a,b,c){c=c||A;"undefined"!==typeof a&&(this._imageUrls[c][b]=a)},getImageUrl:function(a,b){b||(b=A);return this._imageUrls[b][a]},isImageValid:function(a,b){var c=this.getImageUrl(a,b);return c&&c!==y},uploadImageAsync:function(d,e,f){var k=this;return g(function(g,h){if(e===b.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE)c.uploadAppIconAsync(k,d,f).then(function(a){k.setImageUrl(a.url,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,f);g({skill:k,newImageAssetId:a.newImageAssetId})},
function(a){h(a)});else{var l={sizeLimit:"100kb",dimensionLimit:"108 x 108"},m,n={applicationId:k.skillInfo.skillId,stage:k.skillInfo.stage,locale:f,fileName:d.name,contentSize:d.size,imageType:e};if(e===b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE||e===b.MULTIMEDIA_TAB.APP_IMAGE_MASKED_LARGE.TYPE)l.sizeLimit="1MB",l.dimensionLimit="512 x 512";a.getImageUploadUrlAsync(n).then(function(b){var c={uploadURL:b.uploadUrl,file:d};m=b.imageAssetId;return a.uploadImageAsync(c,l)}).then(function(){return a.getImageRetrievalUrlAsync(m,
e)}).then(function(a){e===b.MULTIMEDIA_TAB.APP_IMAGE_MASKED_LARGE.TYPE?k.setImageUrl(a.retrievalUrl,b.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,n.locale):k.setImageUrl(a.retrievalUrl,e,n.locale);g({skill:k,newImageAssetId:m})},function(a){h(a)})}})},saveAppInfoAsync:function(b){var c=this,d={skillInfo:c.skillInfo,locale:b};return g(function(e,f){a.updateAppAsync(d).then(function(a){c.skillInfo=a.skillInfo;if(c.containsFlashBriefingType()){var d=c.getContentSkillInfoByLocale(b).feeds;if(d)for(var f=
0;f<d.length;f++)d[f].feedId=a.feedIds[f]}a.modelBuildStatus===E.pending&&r(c,b,a.modelBuildStatus);a.skillEnabled&&(I[c.getAppKey()]=a.skillInfo.amsVersion);e({skill:c,feedWarnings:a.feedWarnings})},function(a){f(a)})})},saveIntentSchemaAsync:function(c){var d=this;return g(function(e,f){if(d.modelDef[c].models)try{d.modelDef[c].models=l.cleanJSON(d.modelDef[c].models),CodeMirror.lint.json(d.modelDef[c].models)}catch(g){f(b.INTERACTION_MODEL_TAB.AUDIO_PLAYER_MESSAGE.INVALID_INTENT_SCHEMA_JSON);return}if(!q.isRawTextSlotEnabled){var k=
d.modelDef[c].models,k=k.replace(/\s/g,"");if(k.includes(b.INTERACTION_MODEL_TAB.RAW_TEXT_SLOT)){f("There was a problem with your request: Unknown slot type 'AMAZON.1315766020'");return}}var k=d.getCatalogFileName(c),h=d.getCatalogSupplyMethod(c),m=d.getCatalogType(c),n={applicationId:d.skillInfo.skillId,stage:d.skillInfo.stage,locale:c,modelDef:d.modelDef[c],amsVersion:d.skillInfo.amsVersion};k&&(n.catalogFileName=k);h&&(n.catalogSupplyMethod=h);m&&(n.catalogType=m);a.updateIntentSchemaAsync(n).then(function(a){I[d.getAppKey()]=
a.skillInfo.amsVersion;d.skillInfo.lastUpdatedTime=a.skillInfo.lastUpdatedTime;d.skillInfo.amsVersion=a.skillInfo.amsVersion;d.skillInfo.skillDefinition=a.skillInfo.skillDefinition;r(d,c,a.modelBuildStatus);e(d)},function(a){f(a)})})},getModelBuildStatus:function(a){return this.skillInfo.stage!==w.dev?E.succeeded:K[this.skillInfo.skillId+a]},saveSslCertAsync:function(b){var c=this,d={};return g(function(e,f){var g=!1;d.appInfo=c.skillInfo;Object.keys(v).forEach(function(a){"SelfSigned"===b.types[a]&&
(b.text[a]&&0!==b.text[a].length?g="string"===typeof b.text[a]:f("Please provide a self-signed certificate."))});g&&(d.sslCertificateText=b.text);a.updateSSLCertAsync(d).then(function(a){c.skillInfo.amsVersion=a.skillInfo.amsVersion;c.skillInfo.lastUpdatedTime=a.skillInfo.lastUpdatedTime;e(c)},function(a){f(a)})})}};p.prototype={clear:function(){this._map={};this._list=[];this._sortedList=[]},add:function(a){var b,c;b=a.skillInfo.skillId;c=this._map[b];c||(c={_skillId:b,_lastUpdatedTime:a.skillInfo.lastUpdatedTime},
this._map[b]=c,this._list.push(c));c[a.skillInfo.stage]=a},remove:function(a){var b;a=a.skillInfo.skillId;if(b=this._map[a])b=this._list.indexOf(b),this._map[a]=void 0,this._list.splice(b,1)},change:function(a,b){var c;c=this._map[a.skillInfo.skillId];c[b]=void 0;c[a.skillInfo.stage]=a},sort:function(){var a;a=this._sortedList=[];this._list=D(this._list,function(a){var b;a[w.cert]&&(b=a[w.cert].skillInfo.lastUpdatedTime);!b&&a[w.dev]&&(b=a[w.dev].skillInfo.lastUpdatedTime);a[w.live]&&(!b||b<a[w.live].skillInfo.lastUpdatedTime)&&
(b=a[w.live].skillInfo.lastUpdatedTime);return b},!0);h.forEach(this._list,function(b){b[w.dev]&&!b[w.cert]&&a.push(b[w.dev]);b[w.cert]&&a.push(b[w.cert]);b[w.live]&&a.push(b[w.live])});return this._sortedList},get:function(){return this._sortedList}};G=new p;c.addCacheUpdateEventHandler(this,function(a,c,d){C[a]&&C[a].setImageUrl(d,b.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,c)});return{getCreatorRedirectionPath:function(a,b){return"/alexacreator/"+a+"/"+b},refreshAppInfosEventDone:"AlexaAppManagementStorage.refreshAppInfosDone",
noImage:y,edwImagesPath:"/edw/res/images/",modelBuildStatusValues:E,appStages:w,storeStages:{enablement:"ENABLEMENT",entitlement:"ENTITLEMENT"},entityGrantTypes:{implicit:"IMPLICIT",authCode:"AUTH_CODE"},endpointTypes:{https:"HTTPS",lambda:"LAMBDA"},examplePhraseParts:{wakeWord:"wakeWord",launchWord:"launchWord",invocationName:"invocationName",sampleUtterance:"sampleUtterance"},regions:v,locales:x,activeTab:function(){var a={};h.forEach(b.LOCALE_MAP,function(b,c){a[c]=!1});a.en_US=!0;a.newTab=!1;
return a}(),skillTypes:B,skillDisplayTypes:{Default:"Custom",Custom:"Custom",SmartHome:"SmartHome",Content:"Flash Briefing",Music:"Music"},skillTypeItems:e,localeMap:function(){var a=[];h.forEach(b.LOCALE_MAP,function(b,c){a.push({val:c,label:b})});return a}(),confirmationStates:F,properties:z,defaultLocale:A,voiceInputTypes:{plainText:"PlainText",SSML:"SSML"},edwInputTypes:{text:"text"},validationResultTypes:{undef:"UNDEFINED",pass:"PASS",error:"ERROR",warning:"WARNING"},intentSchemaMaxLength:1E5,
sampleUtteranceMaxLength:2E5,minimumExamplePhrases:3,allowedExamplePhrases:9,customSlotModes:{fileUpload:"NEW_FILE",typeIn:"TYPE_IN",stored:"STORAGE"},customSlotInputMethods:{json:"json",plainText:"plaintext"},customSlotInputTypes:{catalog:"CATALOG",entityResolution:"ENTITY_RESOLUTION"},entitityResolutionTemplate:'[{\n    "name": "",\n    "entities": []\n}]',skillUnderMigration:function(a){return C[a+b.MIGRATION_STAGE]},clearConfirmationState:function(){z.confirmationState=void 0},alexaConstantReplace:function(a,
b){Object.keys(b).forEach(function(c){a=a.replace("{{"+c+"}}",b[c])});return a},provisionSkill:function(){var a={},b={};a[A]={};b[A]="";a=new n({skillDefinition:{multinationalPublishingInfo:{publishingInfoByLocale:a,distributionCountries:[]},customInteractionModelInfo:{invocationNameByLocale:b},permissionInfo:{permissions:{}}},skillTypes:[B.Default]},!0);a.isInitializing=!0;return a},createApplicationVersionAsync:function(b){return g(function(c,d){a.createApplicationVersionAsync({applicationId:b.skillInfo.skillId,
amsVersion:b.skillInfo.amsVersion}).then(function(a){a=new n(a,!0,app);C[a.getAppKey()]=a;G.add(a);z.skills=G.sort();z.confirmationState=F.createAppVersionSucceeded;c()},function(a){d(a)})})},withdrawApplicationAsync:function(b,c,d,e){return g(function(f,g){a.withdrawApplicationAsync({applicationId:b.skillInfo.skillId,amsVersion:b.skillInfo.amsVersion,feedback:d,feedbackType:e,locale:c}).then(function(a){var c=b.getAppKey();C[c]=void 0;b.skillInfo.amsVersion=a.skillInfo.amsVersion;b.skillInfo.lastUpdatedTime=
a.skillInfo.lastUpdatedTime;b.skillInfo.stage=w.dev;b.skillInfo.skillDefinition=a.skillInfo.skillDefinition;C[b.getAppKey()]=b;G.change(b,w.cert);z.skills=G.sort();z.confirmationState=F.withdrawSucceeded;f()},function(a){g(a)})})},submitApplicationAsync:function(b,c){return g(function(d,e){a.submitApplicationAsync({applicationId:b.skillInfo.skillId,amsVersion:b.skillInfo.amsVersion,locale:c}).then(function(a){var c=b.getAppKey();C[c]=void 0;b.skillInfo.stage=w.cert;b.skillInfo.amsVersion=a.skillInfo.amsVersion;
b.skillInfo.lastUpdatedTime=a.skillInfo.lastUpdatedTime;b.skillInfo.skillDefinition=a.skillInfo.skillDefinition;C[b.getAppKey()]=b;G.change(b,w.dev);z.skills=G.sort();z.confirmationState=F.submitSucceeded;d()},function(a){e(a)})})},fetchAppConfigurationsAsync:function(){return g(function(b,c){L?b(L):a.fetchAppConfigurationsAsync().then(function(a){L=a;b(L)},function(a){c(a)})})},isApplicationStageExist:function(a,b,c){return(a=C[a+b])&&a.getLocalizedPublishingInfo(c)},getSkillByIdAndStage:function(a,
b){var c=a+b;return C.hasOwnProperty(c)?C[c]:void 0},hasAccountLinkingInLive:function(a){return(a=C[a+w.live])&&a.isAccountLinkingEnabled},fetchApplicationByIdAsync:function(b,c){"undefined"===typeof c&&(c=w.dev);var d=b+c;return g(function(b,c){if(C[d])t(C[d]).then(b,c);else{var e=f.$on("AlexaAppManagementStorage.refreshAppInfosDone",function(){e();C[d]?t(C[d]).then(b,c):a.properties.exception?c(a.properties.exception):c("Invalid application!")});u({forceRefreshing:!0,skipAppIconRefreshing:!0})}})},
createApplicationAsync:function(b){return g(function(c,d){a.createApplicationAsync(b).then(function(a){a=new n(a,!0);C[a.getAppKey()]=a;G.add(a);z.skills=G.sort();a.skillInfo.skillDefinition.multinationalPublishingInfo.availableWorldwide=!0;c(a)},function(a){d(a)})})},refreshAppInfos:u,deleteApplicationAsync:function(b,c){return g(function(d,e){a.deleteApplicationAsync({applicationId:b.skillInfo.skillId,amsVersion:b.skillInfo.amsVersion,locale:c}).then(function(){C[b.getAppKey()]=void 0;G.remove(b);
z.skills=G.sort();d()},function(a){e(a)})})}}}])})(window.angular);define("AlexaSkill/AppManagement/AlexaAppManagementStorage",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillAnalyticsController",["$rootScope","$scope","$state","$window","CommonService","ASK_AnalyticsConfig","ASK_AnalyticsChartConfig","ASK_LocalesBySkillType","ASK_LocaleMap","ASK_ROUTE_STATE","AlexaAppManagementAjax","AlexaAppManagementStorage","MomentService","Utils","skillId","stageName","tabName",function(a,c,b,g,f,e,k,d,l,q,n,m,r,t,p,u,y){function D(a){return c.selectedSkills.map(function(a){return a.skillInfo.skillId}).filter(function(b){return m.getSkillByIdAndStage(b,
a)})}function v(){var a=h.copy(U);1===c.selectedSkills.length&&delete a[c.selectedSkills[0].skillInfo.skillId];return t.chocolateSelectDataFromObjectProperties(a)}function x(){var a=m.appStages.dev;c.selectedSkills.some(function(a){return a.skillInfo.stage===m.appStages.live})&&(a=m.appStages.live);return a}function A(){if(0<c.selectedSkills.length)return t.convertArrayToChocolateSelect(e.ANALYTICS_SKILL_STAGE_VALUES.filter(function(a){return m.getSkillByIdAndStage(c.selectedSkills[0].skillInfo.skillId,
a)}))}function B(){if(0<c.selectedSkills.length)return t.chocolateSelectDataFromObjectProperties(l).filter(function(a){return-1!==d.Custom.indexOf(a.value)&&c.selectedSkills[0].getLocalizedPublishingInfo(a.value)})}function w(a){var b=c.activeMetricsCategory.CHARTS.filter(function(b){return b.TYPE===e.ANALYTICS_CHART_TYPES.SUMMARY||(a||!1)===(b.SINGLE_DIMENSION||!1)});return Object.keys(b.reduce(function(a,b){return b.SERIES.map(function(a){return a.REPORT}).reduce(function(a,b){a[b]=!0;return a},
a)},{}))}function E(){return e.ANALYTICS_HEADER_TITLE(c.selectedSkills.map(function(a){return a.getName()}))}function F(a){c.selectedSkills=[a];c.analyticsTitle=E();c.skillStageDataSource=A();c.selectedStageName=x();c.ChocolateLocaleArray=B();c.reportsRequestResponse.request.skillIDs=D(c.selectedStageName);c.reportsRequestResponse.request.stage=c.selectedStageName.toUpperCase();c.updateEngagementMetrics()}function z(a){a&&a.destroy()}function C(a){return 0<a?Math.round(10*a)/10:Math.ceil(10*a)/10}
function I(a,b){return a.SERIES.map(function(c,d){return G("series-"+d,c,b,a.SORT_KEY)}).reduce(function(a,b){return a.concat(b)},[])}function L(a,b){var d,f,g=c.reportsRequestResponse.request.startTimestamp,k=c.reportsRequestResponse.request.endTimestamp,h=I(a,b),l=e.ANALYTICS_AGGREGATION_PERIOD_VALUES[c.reportsRequestResponse.request.aggregationPeriod].SUMMARY_TEXT,m=e.ANALYTICS_AGGREGATION_PERIOD_VALUES[c.reportsRequestResponse.request.aggregationPeriod].MINUTES_IN_PERIOD,n=e.ANALYTICS_AGGREGATION_PERIOD_VALUES[c.reportsRequestResponse.request.aggregationPeriod].SUMMARY_MAX_SUBTEXT,
p=c.selectedTimeInterval,v;v=p in O?c.selectedTimeInterval:c.selectedStartTimeInterval+"\u2013"+c.selectedEndTimeInterval;if(0===h.length)return a.SERIES.map(function(a){return{name:a.NAME,width:a.WIDTH,report:a.REPORT,aggregate:l,interval:p,intervalText:v,maximum:0,average:0}});for(var q=0;q<h.length;q++)f=h[q],d=f.data.reduce(function(a,b){var c=b.y||0;c>a.max&&(a.maxAtTime=b.x,a.max=c);a.total+=c;return a},{max:0,total:0,maxAtTime:null}),f.aggregate=l,f.interval=p,f.intervalText=v,f.maximum=d.max,
f.maximumAtTime=n(d.maxAtTime,r),f.average=C(d.total/((k-g)/6E4/m));return h}function N(a,b){return a.SERIES.reduce(function(a,c){seriesData=b[c.REPORT].data;a[c.REPORT]=0===seriesData.length?0:seriesData[0].data[0];return a},{})}function G(a,b,c,d){var e=[],f=c[b.REPORT],g={id:a,name:b.NAME,data:[],report:b.REPORT,turboThreshold:0};b.TYPE&&(g.type=b.TYPE);b.WIDTH&&(g.width=b.WIDTH);a=function(a,b){var c=a.keys[d]?a.keys[d].toLowerCase():"",e=b.keys[d]?b.keys[d].toLowerCase():"";return c<e?-1:c>e?
1:0};d&&f.data.sort(a);if(null===f.dimensionSeries){if(0===f.data.length)return e;e=[f.data.reduce(function(a,c){var d=c.keys,e=d.Intent?d.Intent:d.Device?d.Device:b.NAME,d=c.data.map(function(a,b){return{name:e,y:a||0}});a.data=a.data.concat(d);return a},g)];e[0].data.sort(function(a,b){return b.y-a.y})}else e=f.data.map(function(a){var c=a.keys,c=c.Intent?c.Intent:c.Device?c.Device:b.NAME;a=a.data.map(function(a,b){return{x:f.dimensionSeries[b],y:a||0}});var d=h.copy(g);d.name=c;d.data=a;return d});
return e}function K(a,b,d){var f={};if(a.TYPE===e.ANALYTICS_CHART_TYPES.SUMMARY){if(d)return N(a,b);f=L(a,b)}else{f=a.HOVER_LABEL_DECIMALS?a.HOVER_LABEL_DECIMALS:0;d={chart:{zoomType:"x"},colors:e.ANALYTICS_CHART_COLORS,title:{text:""},xAxis:{type:"datetime",min:c.reportsRequestResponse.request.startTimestamp,max:c.reportsRequestResponse.request.endTimestamp},yAxis:{min:0,title:{text:a.YAXIS_TITLE?a.YAXIS_TITLE:"Values"},allowDecimals:!1},credits:{enabled:!1},legend:{align:"center",verticalAlign:"bottom",
borderWidth:0,enabled:a.SHOW_LEGEND},plotOptions:{series:{marker:{radius:3},states:{hover:{lineWidth:2}}}},tooltip:{headerFormat:'<b class="highcharts-tooltip-text">{point.x:%e %b %Y %H:%M}</b><table>',pointFormat:'<tr><td><span style="color: {series.color}"> &bull; </span>{series.name}:</td><td><b>{point.y:.'+f+"f}</b></td></tr>",footerFormat:"</table>",backgroundColor:"rgba(255,255,255,0.8)",shared:!0,useHTML:!0},series:[]};f='<tr><td><span style="color: {series.color}"> &bull; </span>{series.name}:</td><td><b>{point.y:.0f}</b></td><td><b>({point.percentage:.'+
f+"f}%)</b></td></tr>";a.SINGLE_DIMENSION&&(delete d.xAxis,d.tooltip={headerFormat:"<b>{point.key}</b><br>",pointFormat:d.yAxis.title.text+": {point.y:.0f} ({point.percentage:.1f}%)"});switch(a.TYPE){case e.ANALYTICS_CHART_TYPES.AREA:d.chart.type="area";break;case e.ANALYTICS_CHART_TYPES.STACKED_AREA:d.chart.type="area";d.plotOptions.area={stacking:"normal"};break;case e.ANALYTICS_CHART_TYPES.STACKED_PERCENT_AREA:d.chart.type="area";d.tooltip.pointFormat=f;d.plotOptions.area={stacking:"percent"};
break;case e.ANALYTICS_CHART_TYPES.STACKED_BAR:d.chart.type="column";d.plotOptions.column={stacking:"normal"};break;case e.ANALYTICS_CHART_TYPES.STACKED_PERCENT_BAR:d.chart.type="column",d.tooltip.pointFormat=f,d.plotOptions.column={stacking:"percent"}}d.series=I(a,b);f=d}return{chartConfig:f,chartTitle:a.TITLE,chartTooltip:a.TOOLTIP,chartType:a.TYPE,chartWidth:a.WIDTH?a.WIDTH:e.ANALYTICS_CHART_DEFAULT_WIDTH}}function J(a){return a.valueOf()}function R(){M=!0;c.jumpToSkillDropdownItems=v();c.jumpToSkillDropdownSelection=
"";c.loading=!1}function S(){if(0===H.list[H.list.length-1]){var a;c.reportsRequestResponse.response=[];for(var b=0;b<c.activeMetricsCategory.CHARTS.length;b++)if(a=c.activeMetricsCategory.CHARTS[b],a.TYPE===e.ANALYTICS_CHART_TYPES.SUMMARY){for(var d=c.reportsRequestResponse.response2D.shift(),f=c.reportsRequestResponse.response1D.shift(),g=c.reportsRequestResponse.responseSummaryDiffs.shift(),k=0;k<d.chartConfig.length;k++)a=d.chartConfig[k],a.total=f[a.report],a.diff=C(100*a.total/g[a.report]-100);
c.reportsRequestResponse.response.push(d)}else a.SINGLE_DIMENSION?c.reportsRequestResponse.response.push(c.reportsRequestResponse.response1D.shift()):c.reportsRequestResponse.response.push(c.reportsRequestResponse.response2D.shift());R()}}function P(a,b,d,e,g){var k=H.list.length-1;if(0!==b.reports.length)if(b.startTimestamp===b.endTimestamp){var h={};for(a=0;a<b.reports.length;a++)h[b.reports[a]]={data:[]};c.reportsRequestResponse[e]=d.map(function(a){return K(a,h,g)})}else H.count++,H.list[k]++,
a(b).then(function(a){H.count--;H.list[k]--;k===H.list.length-1&&(c.reportsRequestResponse[e]=d.map(function(b){return K(b,a.reportData,g)}),S())},function(a){H.count--;H.list[k]--;k===H.list.length-1&&(a.exception?f.setStatus(a.sessionExpired?f.statusType.sessionExpired:f.statusType.error,"Error: "+a.message,a.stackTrace):f.setStatus(f.statusType.error,"Error: "+a),c.reportsRequestResponse[e]=[],R())})["finally"](function(){0===H.count&&(H.list=[])})}function T(){M&&c.updateEngagementMetrics()}var U=
{},M=!1;c.AlexaAppManagementStorage=m;c.AnalyticsConfig=e;c.analyticsTitle="";c.selectedSkills=[];c.categories=k.map(function(a){a.HEADING===y?(a.active=!0,c.activeMetricsCategory=a):a.active=!1;return a});"undefined"===typeof c.activeMetricsCategory&&(c.activeMetricsCategory=c.categories[0],b.go(".",{skillId:p,stageName:u.toLowerCase(),tabName:c.activeMetricsCategory.HEADING.toLowerCase()},{notify:!1}));c.jumpToSkillDropdownItems=[];c.jumpToSkillDropdownSelection="";c.goToSkillsList=function(){b.go(q.Home)};
c.zoomChartOpen=!1;c.zoomChartTitle="";var Q=null;c.localeAll={text:e.ANALYTICS_LOCALES_ALL,value:[]};c.$on("$destroy",function(){$(".daterangepicker").remove()});c.$on("$viewContentLoaded",function(){$(".daterangepicker").hide();var b=a.$on(m.refreshAppInfosEventDone,function(){var a=m.getSkillByIdAndStage(p,u);b();for(var d={},e="",f,g,k=0;k<m.properties.skills.length;k++)f=m.properties.skills[k],f.containsCustomType()&&(g=f.skillInfo.skillId,g!==e&&(e=g,d[g]=f.getName()));U=d;c.jumpToSkillDropdownItems=
v();c.reportsRequestResponse.reports1D=w(!0);c.reportsRequestResponse.reports2D=w(!1);"undefined"===typeof a?c.goToSkillsList():F(a)});m.refreshAppInfos()});c.openChartInModal=function(a,b){var d=h.copy(a.options),e=g.innerHeight||0;d.chart.renderTo=document.querySelector("#modal-chart-view .awsui-modal-body");d.chart.height=Math.max(e-300,300);Q=new Highcharts.Chart(d);c.zoomChartTitle=b;c.zoomChartOpen=!0};c.closeChartModal=function(){c.zoomChartOpen=!1;z(Q);Q=null};var O=e.ANALYTICS_TIME_INTERVALS.reduce(function(a,
b){b.custom||(a[b.name]=b.range);return a},{});k=O[e.ANALYTICS_DEFAULT_TIME_INTERVAL](r);c.selectedStartTimeInterval=k.start.format(e.ANALYTICS_TIME_INTERVAL_CUSTOM_RANGE_FORMAT);c.selectedEndTimeInterval=k.end.format(e.ANALYTICS_TIME_INTERVAL_CUSTOM_RANGE_FORMAT);c.selectedTimeInterval=e.ANALYTICS_DEFAULT_TIME_INTERVAL;c.reportsRequestResponse={request:{aggregationPeriod:"BY_HOUR",startTimestamp:J(k.start),endTimestamp:J(k.end),locales:[],reports:[],skillIDs:[],stage:x().toUpperCase()},reports1D:[],
reports2D:[],response:[],response1D:[],response2D:[],responseSummaryDiffs:[]};c.aggregationPeriodDataSource={};h.forEach(e.ANALYTICS_AGGREGATION_PERIOD_VALUES,function(a,b){c.aggregationPeriodDataSource[b]=a.DROPDOWN_TEXT;a.DROPDOWN_DEFAULT&&(c.defaultPeriod=b)});c.aggregationPeriodDataSource=t.chocolateSelectDataFromObjectProperties(c.aggregationPeriodDataSource);var V=e.ANALYTICS_TIME_INTERVALS.reduce(function(a,b){a[b.name]=b.SUMMARY_COMPARISON_TEXT;return a},{});c.getTimeIntervalSummaryLabel=
function(a,b,c,d){return b==Number.POSITIVE_INFINITY||b==Number.NEGATIVE_INFINITY?e.ANALYTICS_TIME_INTERVAL_ZERO_SUMMARY_COMPARISON_TEXT(1+r(d).diff(c,"days")):a in O?V[a]:V[a](1+r(d).diff(c,"days"))};c.loading=!0;c.getTimeIntervalLabel=function(a,b){return a.custom&&b===a.name?c.selectedStartTimeInterval+"\u2013"+c.selectedEndTimeInterval:a.name};c.handleTabSelected=function(a){!c.loading&&M&&(c.activeMetricsCategory=a,b.go(".",{skillId:c.selectedSkills[0].skillInfo.skillId,stageName:c.selectedStageName.toLowerCase(),
tabName:c.activeMetricsCategory.HEADING.toLowerCase()},{notify:!1}),c.reportsRequestResponse.reports1D=w(!0),c.reportsRequestResponse.reports2D=w(!1),Highcharts&&Highcharts.charts.map(z),c.updateEngagementMetrics())};c.handleJumpToSkillDropdownSelection=function(){var a=m.getSkillByIdAndStage(c.jumpToSkillDropdownSelection,m.appStages.live);a||(a=m.getSkillByIdAndStage(c.jumpToSkillDropdownSelection,m.appStages.dev));F(a);b.go(".",{skillId:a.skillInfo.skillId,stageName:c.selectedStageName.toLowerCase(),
tabName:c.activeMetricsCategory.HEADING.toLowerCase()},{notify:!1})};c.handleTimeIntervalSelection=function(a,b,d){c.loading||"DIV"===d.target.tagName.toUpperCase()||(c.selectedTimeInterval=a,b?g.setTimeout(function(){document.getElementById("ask-analytics-time-interval-input").click()},0):(a=O[a](r),c.reportsRequestResponse.request.startTimestamp=J(a.start),c.reportsRequestResponse.request.endTimestamp=J(a.end),c.updateEngagementMetrics()))};c.dateTimeRangePickerProperties={startDate:k.start,endDate:k.end,
opens:"left",parentEl:".ask-analytics-view",locale:{format:e.ANALYTICS_TIME_INTERVAL_CUSTOM_RANGE_FORMAT},isInvalidDate:function(a){return a.isAfter(r.utc())||a.isBefore(e.ANALYTICS_MIN_DATE_AVAILABLE)}};c.onDateTimeRangeChange=function(a,b){c.selectedStartTimeInterval=a.format(e.ANALYTICS_TIME_INTERVAL_CUSTOM_RANGE_FORMAT);c.selectedEndTimeInterval=b.format(e.ANALYTICS_TIME_INTERVAL_CUSTOM_RANGE_FORMAT);c.reportsRequestResponse.request.startTimestamp=J(a);c.reportsRequestResponse.request.endTimestamp=
J(b);c.$apply(c.updateEngagementMetrics)};var H={count:0,list:[]};c.updateEngagementMetrics=function(){f.clearStatus();if(0===c.reportsRequestResponse.request.skillIDs.length)c.loading=!1,c.reportsRequestResponse.response=[],f.setStatus(f.statusType.error,"Error: This skill does not have a "+c.selectedStageName+" stage.");else{c.loading=!0;H.list.push(0);var a=c.activeMetricsCategory.CHARTS,b=h.copy(c.reportsRequestResponse.request),d=r().valueOf()-e.ANALYTICS_METRICS_LATENCY_OFFSET,g=Math.min(b.endTimestamp,
d)+1;b.startTimestamp=Math.min(b.startTimestamp,d);d=g-b.startTimestamp;g=d-d%(6E4*e.ANALYTICS_AGGREGATION_PERIOD_VALUES[b.aggregationPeriod].MINUTES_IN_PERIOD);b.endTimestamp=b.startTimestamp+g-(0===g?0:1);P(n.getAnalyticsDataAsync,h.extend(b,{reports:c.reportsRequestResponse.reports2D}),a.filter(function(a){return!a.SINGLE_DIMENSION||a.TYPE===e.ANALYTICS_CHART_TYPES.SUMMARY}),"response2D",!1,!1);P(n.getAnalyticsDataSingleAsync,h.extend(b,{reports:c.reportsRequestResponse.reports1D}),a.filter(function(a){return a.SINGLE_DIMENSION||
a.TYPE===e.ANALYTICS_CHART_TYPES.SUMMARY}),"response1D",!0,!1);P(n.getAnalyticsDataSingleAsync,h.extend(b,{reports:c.reportsRequestResponse.reports1D,startTimestamp:J(r(b.startTimestamp).subtract(d,"milliseconds")),endTimestamp:J(r(b.endTimestamp).subtract(d,"milliseconds"))}),a.filter(function(a){return a.TYPE===e.ANALYTICS_CHART_TYPES.SUMMARY}),"responseSummaryDiffs",!0,!0);b.startTimestamp===b.endTimestamp&&S()}};c.$watch("selectedLocale",function(){c.selectedLocale&&M&&(c.reportsRequestResponse.request.locales=
c.selectedLocale,c.updateEngagementMetrics())});c.$watch("selectedStageName",function(){M&&(c.selectedStageName&&(c.reportsRequestResponse.request.stage=c.selectedStageName.toUpperCase()),c.reportsRequestResponse.request.skillIDs=D(c.selectedStageName),c.updateEngagementMetrics())});c.$watch("reportsRequestResponse.request.aggregationPeriod",T);c.$watch("reportsRequestResponse.request.locales",T,!0)}])})(window.angular);define("AlexaSkill/Analytics/AlexaSkillAnalyticsController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillListController",["$rootScope","$scope","$state","$window","AlexaAppManagementAjax","AlexaAppManagementStorage","AlexaAppIconCache","CommonService","MomentService","Utils","ASK_AppListingConfig","ASK_ROUTE_STATE",function(a,c,b,g,f,e,k,d,h,q,n,m){function r(a){a?d.setLoadingMessage(n.LOADING_TEXT):(d.clearLoadingMessage(),e.properties.exception?d.setStatus(d.statusType.error,"Error: "+e.properties.exception.message,e.properties.exception.stackTrace):
d.clearStatus())}c.EDW_CONFIG=window.EDW_CONFIG;c.AppListingConfig=n;c.createNewApplication=function(){b.go(m.CreateSkill+".newSkill")};c.getStageTooltip=function(a){switch(a.skillInfo.stage){case e.appStages.live:return n.LIVE_STAGE_TOOLTIP;case e.appStages.cert:return n.CERT_STAGE_TOOLTIP;case e.appStages.dev:return n.DEV_STAGE_TOOLTIP;default:return n.DEV_STAGE_TOOLTIP}};c.visibleListItems=[];var t=a.$on(e.refreshAppInfosEventDone,function(){var a;t();r(e.properties.isRefreshingAppInfos);a=q.combineSkillData(e.properties.skills);
Object.keys(a).forEach(function(b){function d(a,b){var g=a.getAssignedLocales(),k=g[0];return{expandable:!b&&1<f.length,primary:!b||!1,skill:a,locale:1<g.length?g:k,skillId:a.skillInfo.skillId,stage:a.skillInfo.stage,id:a.skillInfo.skillId+a.skillInfo.stage,iconSrc:a.getAppIconUrl(k),name:a.getName(),type:e.skillDisplayTypes[a.getSkillType()],lastUpdatedTime:a.skillInfo.lastUpdatedTime,showSubItems:!1,stageText:a.getStageText(),stageToolTip:c.getStageTooltip(a),readOnly:a.skillInfo.readOnly,metricValue:null,
metricTrend:null,metricDiff:null}}b=a[b];var f=Object.keys(b).sort(function(a){return a===e.appStages.live?-1:1}),g=b[f[0]],k=d(g);f[1]&&(g=b[f[1]],k.subListItem=d(g,!0));c.visibleListItems.push(k)})});e.clearConfirmationState();e.refreshAppInfos({skipAppIconRefreshing:!0});r(e.properties.isRefreshingAppInfos);c.toggleAppStages=function(a,b){b.stopPropagation();a.expandable&&(a.showSubItems=!a.showSubItems)};c.parseLocales=function(a){return"string"===typeof a?c.AppListingConfig.LOCALE_MAP[a]:a.map(function(a){return c.AppListingConfig.LOCALE_MAP[a]}).join(", ")};
c.editApp=function(a,d){var f="string"!==typeof a.locale?a.locale[0]:a.locale,g=m.EditSkill;d.stopPropagation();c.setActiveTab(f);a.stage===e.appStages.live&&(g=m.LiveSkill);a.stage===e.appStages.cert&&(g=m.CertSkill);return b.go(g+".info",{appId:a.skillId,locale:f})};c.viewMetrics=function(a,c){c.stopPropagation();b.go(m.Analytics,{skillId:a.skillId,stageName:a.stageText.toLowerCase()})};c.hasLiveVersion=function(a){return e.isApplicationStageExist(a.skillId,e.appStages.live,"string"!==typeof a.locale?
a.locale[0]:a.locale)};c.showDeleteButton=function(a){return a.stage===a.skill.appStages.dev&&a.primary&&!c.hasLiveVersion(a)&&!a.readOnly};c.setActiveTab=function(a){var b;if(a){a="string"!==typeof a?a[0]:a;for(b in e.activeTab)e.activeTab.hasOwnProperty(b)&&(e.activeTab[b]=!1);e.activeTab.hasOwnProperty(a)&&(e.activeTab[a]=!0)}};c.$on("$routeChangeError",function(){g.location.reload()});c.getAppIconUrl=function(a){k.fetchApplicationIcon(a,e.defaultLocale);return a.getAppIconUrl(e.defaultLocale)};
c.showDeleteConfirmation=function(a,b){function f(){d.clearLoadingMessage();d.clearStatus()}var g="string"!==typeof a.locale?a.locale[0]:a.locale;b.stopPropagation();d.showConfirmationBox(n.CONFIRMATION_MESSAGE_BOX.TITLE,n.CONFIRMATION_MESSAGE_BOX.MESSAGE(a.name),[{optionName:n.MESSAGE_BOX_BUTTONS.DELETE,eventHandler:function(){f();d.setLoadingMessage(n.DELETING_TEXT);c.disableActionButtons=!0;e.deleteApplicationAsync(a.skill,g).then(function(){c.visibleListItems.forEach(function(b,d){a.id===b.id&&
c.visibleListItems.splice(d,1)});f();d.setStatus(d.statusType.success,"Successfully deleted");c.disableActionButtons=!1},function(a){f();d.showError(a);c.disableActionButtons=!1})}},{optionName:n.MESSAGE_BOX_BUTTONS.CANCEL}])}}])})(window.angular);define("AlexaSkill/List/AlexaSkillListController",function(){});
(function(h){function a(a,b){var c=a._imageUrls,e=b._imageUrls,f;a.skillInfo.lastUpdatedTime=b.skillInfo.lastUpdatedTime;a.skillInfo.amsVersion=b.skillInfo.amsVersion;a._imageUrls=null;b._imageUrls=null;f=h.equals(a,b);a._imageUrls=c;b._imageUrls=e;return f}function c(a,b,c,e,f){function g(a,b){if(!b||!e.locales[b])return!1;if(a.containsFlashBriefingType()){var c=a.getContentSkillInfoByLocale(b);if(c&&c.customErrorMessage&&c.feeds&&0<c.feeds.length){var c=c.feeds,d=!0,f;for(f=0;f<c.length;f++)c[f].publishingInfo.largeIconId||
(d=!1);return d}return!1}if(!a.hasValidEndpoint())return!1;c=a.getAccountLinkingInfo();if(a.containsSmartHomeType()&&(!c||!c.partnerId))return!1;d=a.getLocalizedPublishingInfo(b);return!(c&&c.partnerId&&!d.privacyPolicyUrl)}function k(a,b){var d=a.getLocalizedPublishingInfo(b),e=a.getGlobalPublishingInfo(),f=[];void 0!==d&&d.examplePhrases&&(f=d.examplePhrases.filter(function(a){return null!==a&&0!==a.length}));return d&&d.description&&d.summary&&h(a)&&e.testingInstructions&&(e.availableWorldwide||
e.distributionCountries&&0<e.distributionCountries.length)&&0<f.length?a.isImageValid(c.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,b)&&a.isImageValid(c.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,b):!1}function h(b){var c=b.skillInfo.rootCategoryItemTypeKeyword;return c?0<a.configurations.subCategoryOptionsByRootITK[c].length?b.getGlobalPublishingInfo().categoryItemTypeKeyword:!0:!1}function u(b){var c=b.getSSLCertificateTypes(),e=!1;Object.keys(c).forEach(function(b){e=c[b]&&c[b]!==a.httpCertificateTypes.selfSigned});
return e}return function(h){var p=a.originalApp.modelDef[h],v=a.tabStatus;if(a.originalApp.skillInfo.stage!==e.appStages.dev)return v[h][b.Tabs.applicationInfo]=a.stateEnum.VALID,v[h][b.Tabs.intentSchema]=a.stateEnum.VALID,v[h][b.Tabs.updateSSLCert]=a.stateEnum.VALID,v[h][b.Tabs.testing]=a.stateEnum.VALID,v[h][b.Tabs.configuration]=a.stateEnum.VALID,v[h][b.Tabs.publishingInfo]=a.stateEnum.VALID,v[h][b.Tabs.privacyCompliance]=a.stateEnum.VALID,v;e.locales[h]&&(v[h][b.Tabs.applicationInfo]=a.stateEnum.VALID);
a.originalApp.setImageUrl(a.skill.getImageUrl(c.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,h),c.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE,h);a.originalApp.setImageUrl(a.skill.getImageUrl(c.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,h),c.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE,h);k(a.originalApp,h)?v[h][b.Tabs.publishingInfo]=a.stateEnum.VALID:v[h][b.Tabs.publishingInfo]=a.stateEnum.NOT_VALID;g(a.originalApp,h)?v[h][b.Tabs.configuration]=a.stateEnum.VALID:v[h][b.Tabs.configuration]=a.stateEnum.NOT_VALID;var x;
var A=a.originalApp;x=A.getGlobalPublishingInfo();x=(A=A.getLocalizedPublishingInfo(h))&&x.exportCompliance&&"boolean"===typeof x.isChildDirected?null!==x.allowPurchases&&null!==x.usePersonalInfo?!(x.usePersonalInfo&&!A.privacyPolicyUrl):!1:!1;v[h][b.Tabs.privacyCompliance]=x?a.stateEnum.VALID:a.stateEnum.NOT_VALID;if(a.skill.containsCustomType()){if(p=p&&p.models)a:if(p=a.skill,f.getAudioPlayerStatus(p)){x=a.selectedLocale;if(p.modelDef[x]&&p.modelDef[x].models&&p.modelDef[x].testCases&&(p=f.validateAudioInterface(x,
p.modelDef[x].models,p.modelDef[x].testCases),!p.error&&0===p.missingIntents.length)){p=!0;break a}p=!1}else p=!0;p?a.skill.getModelBuildStatus(h)===a.skill.modelBuildStatusValues.pending?v[h][b.Tabs.intentSchema]=a.stateEnum.PENDING:a.skill.getModelBuildStatus(h)===a.skill.modelBuildStatusValues.failed?v[h][b.Tabs.intentSchema]=a.stateEnum.FAILED:v[h][b.Tabs.intentSchema]=a.stateEnum.VALID:v[h][b.Tabs.intentSchema]=a.stateEnum.NOT_VALID}else v[h][b.Tabs.intentSchema]=a.stateEnum.VALID;v[h][b.Tabs.testing]=
a.stateEnum.VALID;!a.skill.containsCustomType()||v[h][b.Tabs.intentSchema]===a.stateEnum.VALID&&a.skill.hasValidEndpoint()||(v[h][b.Tabs.testing]=a.stateEnum.NOT_VALID);!a.skill.containsMusicType()&&!a.skill.containsSmartHomeType()||a.skill.isEnabled()||(v[h][b.Tabs.testing]=a.stateEnum.NOT_VALID);!a.skill.containsFlashBriefingType()||e.locales[h]&&a.skill.getContentSkillInfoByLocale(h).customErrorMessage&&a.skill.getContentSkillInfoByLocale(h).feeds&&0!==a.skill.getContentSkillInfoByLocale(h).feeds.length||
(v[h][b.Tabs.testing]=a.stateEnum.NOT_VALID);u(a.skill)?v[h][b.Tabs.updateSSLCert]=a.stateEnum.VALID:v[h][b.Tabs.updateSSLCert]=a.stateEnum.NOT_VALID;return v}}function b(a,b,c,e,f){return function(g){if(g&&a.selectedMenuStep!==g)if(c.clearConfirmationState(),a.skillTab.clearMessage(),"home"===g)b.go(e.Home);else{g!==a.menuSteps.updateSSLCert||a.showSSLCert||(g=a.menuSteps.applicationInfo);var k=f;k===e.CreateSkill&&(k=e.EditSkill);b.go(k+"."+g,{appId:a.skill.skillInfo.skillId,locale:a.selectedLocale})}}}
function g(a,b,c,e){function f(a){b.clearLoadingMessage();a&&(a.exception?b.setStatus(a.sessionExpired?b.statusType.sessionExpired:b.statusType.error,"Error: "+a.message,a.stackTrace):b.setStatus(b.statusType.error,"Error: "+a))}a.skillTab={rootStorage:{},config:function(b){a.enableSubmit=b.enableSubmit;a.selectedMenuStep=b.selectedMenuStep;k=b},updateShowSSLCert:function(){a.showSSLCert=!1;a.skill.containsCustomType()&&h.forEach(e.regions,function(b){(b=a.skill.getEndpointByRegion(b))&&b.type===
a.AppEditingConfig.ENDPOINT_TYPE.HTTPS&&(a.showSSLCert=!0)})},updateImagePath:function(b,c){a.appImagePath[c]=b},disableEditing:function(){a.enableInput=!1;a.enableSubmit=!1;a.enableNavigation=!1},enableEditing:function(){a.enableInput=!0;a.enableNavigation=!0},enableEditingAfterFailure:function(b){a.enableInput=!0;a.enableSubmit=!0;a.enableNavigation=!b},clearMessage:function(){b.clearStatus();b.clearLoadingMessage()},setLoadingMessage:function(a){b.clearStatus();b.setLoadingMessage(a)},setSuccessMessage:function(a){b.clearLoadingMessage();
b.setStatus(b.statusType.success,a)},setWarningMessage:function(a){b.clearLoadingMessage();b.setStatus(b.statusType.warning,a)},setCurrentApp:function(b){a.skill=b;a.skill.setDeveloperPreferences({alexaCreator:!1})},handleError:f,handleErrorAndFocus:function(a){f(a)},updateTabStatus:c}}function f(a,b){a.menuSteps=b.Tabs;a.httpCertificateTypes={trusted:"Trusted",wildcard:"Wildcard",selfSigned:"SelfSigned"};a.stateEnum={FAILED:"failedTab",PENDING:"pendingTab",VALID:"validTab",NOT_VALID:"invalidTab"}}
function e(a,b,c,e){function f(b){b?a.skillTab.setSuccessMessage(k.saveAction.successMessage):a.skillTab.clearMessage()}function g(){return k.saveAction?(a.skillTab.setLoadingMessage(k.saveAction.loadingMessage),a.skillTab.disableEditing(),b(function(b,g){k.saveAction.actionAsync().then(function(g){a.selectedMenuStep!==a.menuSteps.createApplication&&e.locales[a.selectedLocale]&&(a.updatePageTitle=a.skill.getLocalizedPublishingInfo(a.selectedLocale).name);a.originalApp&&(h.copy(a.skill,a.originalApp),
a.skill.getAssignedLocales().forEach(function(a){c(a)}));a.skillTab.enableEditing();g&&g.feedWarnings?a.skillTab.setWarningMessage(g.feedWarnings):"function"===typeof k.saveAction.successMessage?(g=k.saveAction.successMessage(),"undefined"!==typeof g&&f(g)):f(k.saveAction.successMessage);b()},function(b){a.skillTab.enableEditingAfterFailure(a.selectedMenuStep===a.menuSteps.createApplication);a.skillTab.handleError(b);g()})})):!1}return function(){return b(function(a,b){g().then(a,b)})}}var k={};h.module("AlexaSkillModule").controller("AlexaSkillController",
["$scope","$state","$stateParams","$q","AlexaAppManagementStorage","AlexaInterfaceService","CommonService","ASK_AppEditingConfig","ASK_ROUTE_STATE","stage","readOnly","rootState","EDW_CONFIG","$window",function(d,l,q,n,m,r,t,p,u,y,D,v,x,A){function B(){k.saveAction&&d.skillTab.setLoadingMessage(k.saveAction.loadingMessage);d.skillTab.disableEditing();return n(function(a,b){d.skill.saveAppInfoAsync(d.selectedLocale).then(function(){d.originalApp&&(h.copy(d.skill,d.originalApp),w(d.selectedLocale));
d.skillTab.enableEditing();d.skillTab.setSuccessMessage(d.AppEditingConfig.ACTION_MESSAGES.DELETE_LOCALE.SUCCESS);a()},function(a){b(a)})})}d.newTab="newTab";d.AlexaAppManagementStorage=m;d.selectedMenuStep=(l.current.data||{}).selectedMenuStep||"";d.selectedLocale=q.locale||d.newTab;d.setActiveTab=function(a){if(a){for(var b in m.activeTab)m.activeTab.hasOwnProperty(b)&&(m.activeTab[b]=!1);m.activeTab.hasOwnProperty(a)&&(m.activeTab[a]=!0)}};d.setActiveTab(d.selectedLocale);d.activeTab=m.activeTab;
var w=c(d,u,p,m,r),E=b(d,l,m,u,v),F=e(d,n,w,m);f(d,u);g(d,t,w,m);d.EDW_CONFIG=x;d.getLocaleStatusIcon=function(a){return d.isLocaleReadyForCertification(a)?"complete":"incomplete"};d.isSubmitButtonEnabled=function(){return d.enableSubmit||!d.enableInput?d.saveValidationPassed?d.enableSubmit:!1:d.saveValidationPassed?d.tabStatus[d.selectedMenuStep]===d.stateEnum.FAILED:!1};d.isNextButtonEnabled=function(){return d.saveValidationPassed?d.selectedMenuStep===d.menuSteps.createApplication?d.enableSubmit:
d.enableNavigation:!1};d.skillTab.clearMessage();d.AppEditingConfig=p;d.getVoiceName=function(){return p.VOICE_NAME[d.selectedLocale]?p.VOICE_NAME[d.selectedLocale]:p.VOICE_NAME.en_US};d.removeLocale=function(b){a(d.originalApp,d.skill)?t.showConfirmationBox(p.DELETE_MESSAGE_BOX.TITLE,p.DELETE_MESSAGE_BOX.TEXT(p.LOCALE_MAP[b.locale]),[{optionName:p.MESSAGE_BOX_BUTTONS.DELETE,highlight:!0,eventHandler:function(){var a=d.skill.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale;
delete a[b.locale];d.skill.containsCustomType()&&(delete d.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[b.locale],d.skill.setModelDefinition({},b.locale),d.skill.setCatalogInfo({},b.locale));d.skill.containsFlashBriefingType()&&delete d.skill.skillInfo.skillDefinition.contentSkillInfo.contentSkillInfoByLocale[b.locale];d.tabList=[];for(var c in a)a.hasOwnProperty(c)&&a[c]&&(null!==a[c].name?d.tabList.push(a[c]):delete a[c]);d.setActiveTab(d.selectedLocale);B()}},
{optionName:p.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){d.setActiveTab(d.selectedLocale);h.copy(d.originalApp,d.skill);d.enableSubmit=!1}}]):d.enableSubmit&&t.showConfirmationBox(p.SAVE_MESSAGE_BOX.TITLE,p.SAVE_MESSAGE_BOX.TEXT,[{optionName:p.MESSAGE_BOX_BUTTONS.SAVE,highlight:!0,eventHandler:function(){d.setActiveTab(d.selectedLocale);F()}},{optionName:p.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){d.setActiveTab(d.selectedLocale);h.copy(d.originalApp,d.skill);d.enableSubmit=!1}},
{optionName:p.MESSAGE_BOX_BUTTONS.CANCEL,eventHandler:function(){d.setActiveTab(d.selectedLocale)}}])};d.publishingInfoLocaleLength=function(){return Object.keys(d.skill.getAssignedLocals()).length};d.goToLocale=function(b,c,e){function f(a){d.selectedLocale=a;d.skill.skillInfo.stage===m.appStages.live?l.go(u.LiveSkill+".info",{appId:d.skill.skillInfo.skillId,locale:a}):d.skill.skillInfo.stage===m.appStages.cert?l.go(u.CertSkill+".info",{appId:d.skill.skillInfo.skillId,locale:a}):l.go(u.EditSkill+
"."+e,{appId:d.skill.skillInfo.skillId,locale:a});d.setActiveTab(a)}if((!b.target||-1===b.target.className.indexOf("edw-delete-button"))&&c){var g=d.selectedLocale;d.readOnlyMode?f(c.locale):a(d.originalApp,d.skill)?f(c.locale):t.showConfirmationBox(p.SAVE_MESSAGE_BOX.TITLE,p.SAVE_MESSAGE_BOX.TEXT,[{optionName:p.MESSAGE_BOX_BUTTONS.SAVE,highlight:!0,eventHandler:function(){F().then(function(){f(c.locale);d.enableSubmit=!1},function(){d.setActiveTab(g)})}},{optionName:p.MESSAGE_BOX_BUTTONS.DISCARD,
eventHandler:function(){f(c.locale);h.copy(d.originalApp,d.skill);d.skillTab.updateShowSSLCert();d.enableSubmit=!1}},{optionName:p.MESSAGE_BOX_BUTTONS.CANCEL,eventHandler:function(){m.locales[g]?f(g):(d.setActiveTab("newTab"),d.goToAddNewLanguageTab())}}])}};d.goToAddNewLanguageTab=function(){l.go(u.EditSkill+".create",{appId:d.skill.skillInfo.skillId,locale:null})};d.tabStatus={};h.forEach(m.locales,function(a){d.tabStatus[a]={};d.tabStatus[a][u.Tabs.applicationInfo]=d.stateEnum.NOT_VALID;d.tabStatus[a][u.Tabs.intentSchema]=
d.stateEnum.NOT_VALID;d.tabStatus[a][u.Tabs.updateSSLCert]=d.stateEnum.NOT_VALID;d.tabStatus[a][u.Tabs.configuration]=d.stateEnum.NOT_VALID;d.tabStatus[a][u.Tabs.testing]=d.stateEnum.NOT_VALID;d.tabStatus[a][u.Tabs.publishingInfo]=d.stateEnum.NOT_VALID;d.tabStatus[a][u.Tabs.privacyCompliance]=d.stateEnum.NOT_VALID});d.enableNavigation=!1;d.skillId=q.appId;d.skill=m.provisionSkill();d.SkillTypes=m.skillTypes;d.saveValidationPassed=!0;d.setValidationResult=function(a){d.saveValidationPassed=a};d.createBubbleModel=
function(a){for(var b=[],c=0;c<a;c++)b[c]={showRedBorder:!1,empty:!0,validationPassed:!0,message:[],result:[],recommendation:[],recResult:[],containerClass:""};return b};d.edwInlineValidation=function(a,b,c,e){b=a.bubbleInfo[b];var f=0,g=0,k;for(k=0;k<e.length;k++){var h=e[k].getStatus(),l=e[k].getTestMetaInfo().getSeverity();h===m.validationResultTypes.undef?(b.empty=!0,b.validationPassed=!0):(b.empty=!1,h===m.validationResultTypes.pass?l===m.validationResultTypes.error?(b.result[f]=!0,f++):l===
m.validationResultTypes.warning&&(b.recResult[g]=!0,g++):l===m.validationResultTypes.error?(b.result[f]=!1,f++):l===m.validationResultTypes.warning&&(b.recResult[g]=!1,g++))}for(k=0;k<e.length;k++)if(f=e[k].getStatus(),g=e[k].getTestMetaInfo().getSeverity(),f!==m.validationResultTypes.undef&&g===m.validationResultTypes.error){if(f!==m.validationResultTypes.pass){b.validationPassed=!1;break}b.validationPassed=!0}d.setValidationResult(!0);a=a.bubbleInfo;for(k=0;k<a.length;k++)a[k].validationPassed||
d.setValidationResult(!1);for(k=g=f=0;k<c.length;k++)a=e[k].getTestMetaInfo().getSeverity(),h=c[k].getTestMetaInfo().getMessage(),a===m.validationResultTypes.error?(b.message[f]=h,f++):a===m.validationResultTypes.warning&&(b.recommendation[g]=h,g++)};d.handleRedBorder=function(a,b,c){a=a.bubbleInfo[b];for(b=0;b<c.length;b++){var d=c[b].getStatus();a.empty=!0;a.showRedBorder=!1;if(d!==m.validationResultTypes.undef&&(a.empty=!1,c[b].getTestMetaInfo().getSeverity()===m.validationResultTypes.error&&d!==
m.validationResultTypes.pass)){a.showRedBorder=!0;break}}};d.hasLiveVersion=function(a){return m.isApplicationStageExist(d.skill.skillInfo.skillId,m.appStages.live,a)};d.hasAccountLinkingInLive=function(){return m.hasAccountLinkingInLive(d.skill.skillInfo.skillId)};d.initVideoPlayer=function(){d.videoPlayerSelection=r.hasVideoPlayerInterface(d.skill)};d.initAudioPlayer=function(){d.audioPlayerSelection=r.getAudioPlayerStatus(d.skill)};d.initDisplay=function(){d.displaySelection=r.getRenderTemplateStatus(d.skill)};
d.audioInterfaceChange=function(a,b){d.skill=r.handleAudioInterfaceChange(d.skill,a,b);d.handleInputChange()};d.videoInterfaceChange=function(a,b){d.skill=r.handleVideoInterfaceChange(d.skill,a);d.handleInputChange()};d.displayInterfaceChange=function(a,b){d.skill=r.handleDisplayInterfaceChange(d.skill,a,b);d.handleInputChange()};d.handleInputChange=function(){d.originalApp&&(a(d.originalApp,d.skill)?d.enableSubmit=!1:d.enableSubmit=d.enableInput)};d.hasSkillChanged=function(){return!a(d.originalApp,
d.skill)};d.isModelDefinitionChanged=function(){return!h.equals(d.originalApp.modelDef[d.selectedLocale],d.skill.modelDef[d.selectedLocale])};d.areExamplePhrasesChanged=function(){var a=d.originalApp.getExamplePhrases(d.selectedLocale),b=d.skill.getExamplePhrases(d.selectedLocale);return!h.equals(a,b)};d.showActionSucceededConfirmation=function(){return"undefined"!==typeof m.properties.confirmationState};d.getActionSucceededConfirmationContent=function(){return m.properties.confirmationState===m.confirmationStates.submitSucceeded?
{title:p.ACTION_MESSAGES.APP_SUBMIT.SUCCESS.TITLE,details:p.ACTION_MESSAGES.APP_SUBMIT.SUCCESS.MESSAGE}:m.properties.confirmationState===m.confirmationStates.withdrawSucceeded?{title:p.ACTION_MESSAGES.APP_WITHDRAW.SUCCESS.TITLE,details:p.ACTION_MESSAGES.APP_WITHDRAW.SUCCESS.MESSAGE}:m.properties.confirmationState===m.confirmationStates.createAppVersionSucceeded?{title:p.ACTION_MESSAGES.APP_COPY.SUCCESS.TITLE,details:p.ACTION_MESSAGES.APP_COPY.SUCCESS.MESSAGE}:{title:"Undefined",details:"Undefined"}};
d.isLocaleReadyForCertification=function(){return function(a){return d.tabStatus[a][u.Tabs.applicationInfo]===d.stateEnum.VALID&&d.tabStatus[a][u.Tabs.configuration]===d.stateEnum.VALID&&d.tabStatus[a][u.Tabs.intentSchema]===d.stateEnum.VALID&&d.tabStatus[a][u.Tabs.publishingInfo]===d.stateEnum.VALID&&d.tabStatus[a][u.Tabs.privacyCompliance]===d.stateEnum.VALID&&(!d.showSSLCert||d.showSSLCert&&d.tabStatus[a][u.Tabs.updateSSLCert]===d.stateEnum.VALID)&&d.saveValidationPassed}}();d.isSkillReadyForCertification=
function(){var a=!0,b=d.skill.getAssignedLocales();if(b.indexOf("en_IN")!==b.indexOf("ja_JP"))return!1;h.forEach(b,function(b){a&&!d.isLocaleReadyForCertification(b)&&(a=!1)});return a};d.skillTabClicked=function(){function b(){return n(function(b,e){d.enableNavigation?d.readOnlyMode?b():a(d.originalApp,d.skill)?b():d.saveValidationPassed?t.showConfirmationBox(p.SAVE_MESSAGE_BOX.TITLE,p.SAVE_MESSAGE_BOX.TEXT,[{optionName:p.MESSAGE_BOX_BUTTONS.SAVE,highlight:!0,eventHandler:function(){F().then(b,e)}},
{optionName:p.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){c();b()}},{optionName:p.MESSAGE_BOX_BUTTONS.CANCEL,eventHandler:e}]):t.showConfirmationBox(p.DISCARD_MESSAGE_BOX.TITLE,p.DISCARD_MESSAGE_BOX.TEXT,[{optionName:p.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){c();b()}},{optionName:p.MESSAGE_BOX_BUTTONS.CANCEL,eventHandler:e}]):e()})}function c(){h.copy(d.originalApp,d.skill);d.skillTab.updateShowSSLCert();d.enableSubmit=!1}d.$on("$stateChangeStart",function(c,e,f){0===e.name.indexOf(v+
"."+d.selectedMenuStep)||!d.originalApp||d.enableNavigation&&(D||a(d.originalApp,d.skill))||(c.preventDefault(),b().then(function(){l.go(e.name,f)}))});return function(a){var c=d.skill.getDeveloperPreferences();a===d.menuSteps.intentSchema&&c.alexaCreator&&(A.location.href=m.getCreatorRedirectionPath(d.skillId,d.selectedLocale));d.selectedMenuStep===d.menuSteps.createApplication&&"home"===a&&d.enableSubmit?(m.clearConfirmationState(),d.enableSubmit=!1,E(a)):b().then(function(){m.clearConfirmationState();
d.skillTab.clearMessage();d.enableSubmit=!1;E(a)})}}();d.$on("AlexaAppManagementStorage.ModelBuildStatusChanged",function(a,b){d.skill===b&&d.selectedLocale&&w(d.selectedLocale)});d.gotoHome=function(){d.enableNavigation=!0;d.skillTabClicked("home")};d.gotoNextTab=function(){function a(){h.isFunction(k.nextTab)?E(k.nextTab()):E(k.nextTab)}return function(){d.enableSubmit?F().then(a):a();t.recordMetrics(null,null,{SaveButtonClicked:0,NextButtonClicked:1})}}();d.saveApplicationChanges=function(){return n(function(a,
b){var c={};d.selectedMenuStep===d.menuSteps.intentSchema&&d.$broadcast("globalSaveButton");F().then(function(b){a(b);d.selectedMenuStep===d.menuSteps.createApplication&&(d.selectedLocale=d.skill.getAssignedLocales()[0],E(d.menuSteps.applicationInfo))},b);c.SaveButtonClicked=1;c.NextButtonClicked=0;t.recordMetrics(null,null,c)})};d.handleLiveActionButtonClicked=function(a){m.isApplicationStageExist(d.skill.skillInfo.skillId,m.appStages.dev,a)?l.go(u.EditSkill+".info",{appId:d.skill.skillInfo.skillId,
locale:a}):m.isApplicationStageExist(d.skill.skillInfo.skillId,m.appStages.cert,a)?l.go(u.CertSkill+".info",{appId:d.skill.skillInfo.skillId,locale:a}):t.showConfirmationBox(p.COPY_MESSAGE_BOX.TITLE,p.COPY_MESSAGE_BOX.TEXT,[{optionName:p.MESSAGE_BOX_BUTTONS.CREATE,highlight:!0,eventHandler:function(){d.enableNavigation=!1;d.skillTab.setLoadingMessage(p.ACTION_MESSAGES.APP_COPY.LOADING);m.createApplicationVersionAsync(d.skill).then(function(){t.clearLoadingMessage();d.enableNavigation=!0;l.go(u.EditSkill+
".info",{appId:d.skill.skillInfo.skillId,locale:a})},function(a){d.enableNavigation=!0;d.skillTab.handleError(a)})}},{optionName:p.MESSAGE_BOX_BUTTONS.CANCEL}])};d.getLiveActionText=function(a){return m.isApplicationStageExist(d.skill.skillInfo.skillId,m.appStages.dev,a)?p.GOTO_DEVELOPMENT_STAGE_BUTTON:m.isApplicationStageExist(d.skill.skillInfo.skillId,m.appStages.cert,a)?p.GOTO_CERTIFICATION_STAGE_BUTTON:p.CREATE_NEW_VERSION_BUTTON};d.submitApplication=function(){function a(){d.enableInput=!1;d.enableNavigation=
!1;d.skillTab.setLoadingMessage(p.ACTION_MESSAGES.APP_SUBMIT.LOADING);m.submitApplicationAsync(d.skill,d.selectedLocale).then(function(){var a=d.selectedMenuStep;a===d.menuSteps.testing&&(a=d.menuSteps.publishingInfo);d.skillTab.clearMessage();d.enableNavigation=!0;d.originalApp=null;l.go(u.CertSkill+"."+a,{appId:d.skill.skillInfo.skillId,locale:d.selectedLocale})},function(a){d.enableInput=!0;d.enableNavigation=!0;d.skillTab.handleError(a)})}return function(){t.showConfirmationBox(p.SUBMIT_MESSAGE_BOX.TITLE,
p.SUBMIT_MESSAGE_BOX.TEXT,[{optionName:p.MESSAGE_BOX_BUTTONS.YES,highlight:!0,eventHandler:function(){d.enableSubmit?F().then(a):a()}},{optionName:p.MESSAGE_BOX_BUTTONS.NO}])}}();d.withdrawApplication=function(){t.showConfirmationBox(p.WITHDRAW_MESSAGE_BOX.TITLE,p.WITHDRAW_MESSAGE_BOX.TEXT,[{optionName:p.MESSAGE_BOX_BUTTONS.WITHDRAW,highlight:!0,checkSelect:!0,eventHandler:function(){d.enableNavigation=!1;d.skillTab.setLoadingMessage(p.ACTION_MESSAGES.APP_WITHDRAW.LOADING);m.withdrawApplicationAsync(d.skill,
d.selectedLocale,t.getMessageBoxSelectOption(),t.getMessageBoxSelectOptionType()).then(function(){t.clearLoadingMessage();d.enableNavigation=!0;d.originalApp=null;l.go(u.EditSkill+".info",{appId:d.skill.skillInfo.skillId,locale:d.selectedLocale})},function(a){d.enableNavigation=!0;d.skillTab.handleError(a)})}},{optionName:p.MESSAGE_BOX_BUTTONS.CANCEL}],[p.WITHDRAW_MESSAGE_BOX_SELECT.TEST_SKILL,p.WITHDRAW_MESSAGE_BOX_SELECT.MORE_FEATURES,p.WITHDRAW_MESSAGE_BOX_SELECT.DISCOVERED_ISSUE,p.WITHDRAW_MESSAGE_BOX_SELECT.NOT_RECEIVED_CERTIFICTION_FEEDBACK,
p.WITHDRAW_MESSAGE_BOX_SELECT.NOT_INTEND_TO_PUBLISH,p.WITHDRAW_MESSAGE_BOX_SELECT.OTHER])};d.skillId?(p.ACTION_MESSAGES&&d.skillTab.setLoadingMessage(p.ACTION_MESSAGES.APP_RETRIEVE.LOADING),m.fetchApplicationByIdAsync(d.skillId,y).then(function(a){var b=a.skillInfo.rootCategoryItemTypeKeyword,c=a.getGlobalPublishingInfo().categoryItemTypeKeyword;(a.containsSmartHomeType()?0:b&&0<d.configurations.subCategoryOptionsByRootITK[b].length)&&b===c&&a.resetCategoryItemTypeKeyword();d.skill=a;"undefined"!==
typeof m.locales[d.selectedLocale]?(d.updatePageTitle=a.getLocalizedPublishingInfo(d.selectedLocale).name,d.enableNavigation=!0):(d.updatePageTitle=p.ADD_NEW_LANGUAGE_TEXT,d.enableNavigation=!1);d.readOnlyMode=y!==m.appStages.dev||d.skill.skillInfo.readOnly;d.enableInput=y===m.appStages.dev&&!d.skill.skillInfo.readOnly;d.skillTab.updateShowSSLCert();d.originalApp=h.copy(a);d.tabList=[];d.isMigration=m.skillUnderMigration(d.skillId);if(d.skill){var b=d.skill.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale,
e;for(e in b)b.hasOwnProperty(e)&&b[e]&&(null!==b[e].name?d.tabList.push(b[e]):delete b[e])}d.appImagePath={};d.skillType=m.skillDisplayTypes[d.skill.getSkillType()];e=a.getAssignedLocales();h.forEach(e,function(b){d.appImagePath[b]=a.getAppIconUrl(b);w(b)});t.clearLoadingMessage();if(k.onAppLoaded)k.onAppLoaded()},function(a){d.appImagePath=m.noImage;d.skill.isInitializing=!1;d.skillTab.handleError(a);if(k.onAppLoadFailed)k.onAppLoadFailed()}),d.configurations={},m.fetchAppConfigurationsAsync().then(function(a){d.configurations=
a})):d.readOnlyMode=!1}])})(window.angular);define("AlexaSkill/AlexaSkillController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillCreateController",["$scope","$q","AlexaAppManagementStorage","ASK_AppEditingConfig","InlineService",function(a,c,b,g,f){function e(){var b=g.LOCALES_BY_SKILL_TYPE[a.skill.getSkillType()],c,e=[];for(c=0;c<b.length;c++)e.push({val:b[c],label:g.LOCALE_MAP[b[c]]});a.localeMap=e}a.skillTypeItems=b.skillTypeItems;a.localesList=b.locales;a.skillTypes=b.skillTypes;a.tempLocale=b.locales.en_US;a.skillTab.config({selectedMenuStep:a.menuSteps.createApplication,
nextTab:a.menuSteps.intentSchema,enableSubmit:!0,saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.APP_CREATE.LOADING,actionAsync:function(){return c(function(c,d){if(!a.skill.containsCustomType())a.skill.skillInfo.skillDefinition.customInteractionModelInfo=null;else if("undefined"===typeof a.audioPlayerSelection)return d(g.ALEXA_APPSTORE_INFO_TAB.AUDIO_PLAYER_FLAG_INPUT.ERROR);return b.createApplicationAsync({edwSkillInfo:a.skill.skillInfo}).then(function(b){a.skillTab.setCurrentApp(b);
c()},function(a){d(a)})})}}});a.edwInvocationNameBubble={bubbleInfo:a.createBubbleModel(1)};a.handleCreateEdwFocus=function(){if(a.selectedLocale===b.locales.en_US){var c=a.edwInvocationNameBubble,d=a.skill.getCustomInteractionModelInfo().invocationNameByLocale[a.tempLocale],d=f.validateInvocationName(d).getTestResult(),e=f.getTestInfo(f.validateInvocationName).getTestResult();a.edwInlineValidation(c,0,e,d);c.bubbleInfo[0].showRedBorder=!1;c.bubbleInfo[0].containerClass="edw_example_invocation"}};
a.handleCreateBubbleChange=function(){if(a.selectedLocale===b.locales.en_US){var c=a.edwInvocationNameBubble,d=a.skill.getCustomInteractionModelInfo().invocationNameByLocale[a.tempLocale],d=f.validateInvocationName(d).getTestResult(),e=f.getTestInfo(f.validateInvocationName).getTestResult();a.edwInlineValidation(c,0,e,d)}};a.handleCreateEdwBlur=function(){if(a.selectedLocale===b.locales.en_US){var c=a.edwInvocationNameBubble,d=a.skill.getCustomInteractionModelInfo().invocationNameByLocale[a.tempLocale],
d=f.validateInvocationName(d).getTestResult();a.handleRedBorder(c,0,d)}};a.handleSkillTypeChange=function(){e();var b=g.LOCALES_BY_SKILL_TYPE[a.skill.getSkillType()];-1===b.indexOf(a.tempLocale)&&a.handleLocaleChange(b[0])};a.handleLocaleChange=function(b){var c=f.validateInvocationName(a.skill.getCustomInteractionModelInfo().invocationNameByLocale[a.tempLocale]).getTestResult();a.tempLocale=b;a.selectedLocale=b;b={};var e={};b[a.tempLocale]={locale:a.tempLocale};e[a.tempLocale]="";a.skill.skillInfo.skillDefinition=
{multinationalPublishingInfo:{publishingInfoByLocale:b},customInteractionModelInfo:{invocationNameByLocale:e}};a.handleRedBorder(a.edwInvocationNameBubble,0,c);a.edwInlineValidation(a.edwInvocationNameBubble,0,f.getTestInfo(f.validateInvocationName).getTestResult(),c)};e()}])})(window.angular);define("AlexaSkill/Tabs/AlexaSkillCreateController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillCreateLanguageController",["$scope","$state","$q","AlexaAppManagementStorage","ASK_AppEditingConfig","InlineService",function(a,c,b,g,f,e){a.tempName="";a.localesList=g.locales;a.skillDisplayTypes=g.skillDisplayTypes;a.tempInvocationName="";a.locales=a.skill.getUnassignedLocales();a.skillTab.config({selectedMenuStep:a.menuSteps.applicationInfo,nextTab:a.menuSteps.intentSchema,saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,
actionAsync:function(){return b(function(b,d){if(a.tempLocale){var e=a.skill.getGlobalPublishingInfo();e.publishingInfoByLocale[a.tempLocale]={locale:a.tempLocale,name:a.tempName};if(a.skill.containsFlashBriefingType()){var g=[];g.push(f.CREATE_LANGUAGE_TAB.FLASH_BRIEFING.SAMPLE_EXAMPLE_PHRASES.WHATS_MY_FLASH_BRIEFING);g.push(f.CREATE_LANGUAGE_TAB.FLASH_BRIEFING.SAMPLE_EXAMPLE_PHRASES.WHATS_MY_FLASH_BRIEFING);e.publishingInfoByLocale[a.tempLocale].examplePhrases=g}e=a.skill.getCustomInteractionModelInfo();
a.skill.containsCustomType()&&(e.invocationNameByLocale[a.tempLocale]=a.tempInvocationName);e=a.skill.getContentSkillInfo();a.skill.containsFlashBriefingType()&&!e.contentSkillInfoByLocale[a.tempLocale]&&(e.contentSkillInfoByLocale[a.tempLocale]={locale:a.tempLocale});a.skill.saveAppInfoAsync(a.tempLocale).then(function(){c.go("editSkill.info",{appId:a.skill.skillInfo.skillId,locale:a.tempLocale});b()},function(b){a.skillTab.enableEditingAfterFailure(!0);d(b)})}})}}});a.localeChange=function(){a.skill.getGlobalPublishingInfo().publishingInfoByLocale[a.tempLocale]||
(a.skill.getGlobalPublishingInfo().publishingInfoByLocale[a.tempLocale]={locale:a.tempLocale});a.handleInputChange()};a.skillTypeItems=g.skillTypeItems;a.edwInvocationNameBubble={bubbleInfo:a.createBubbleModel(1)};a.handleEdwFocus=function(){if(a.tempLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,c=e.validateInvocationName(a.tempInvocationName).getTestResult(),f=e.getTestInfo(e.validateInvocationName).getTestResult();a.edwInlineValidation(b,0,f,c);b.bubbleInfo[0].showRedBorder=!1;b.bubbleInfo[0].containerClass=
"edw_example_invocation"}};a.handleBubbleChange=function(){if(a.tempLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,c=e.validateInvocationName(a.tempInvocationName).getTestResult(),f=e.getTestInfo(e.validateInvocationName).getTestResult();a.edwInlineValidation(b,0,f,c)}};a.handleEdwBlur=function(){if(a.tempLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,c=e.validateInvocationName(a.tempInvocationName).getTestResult();a.handleRedBorder(b,0,c)}}}])})(window.angular);
define("AlexaSkill/Tabs/AlexaSkillCreateLanguageController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillInfoController",["$scope","$state","rootState","$q","AlexaAppManagementStorage","AlexaInterfaceService","CommonService","ASK_AppEditingConfig","AlexaAppManagementStorage","InlineService","EDW_CONFIG",function(a,c,b,g,f,e,k,d,h,q,n){function m(b){a.skill.getModelBuildStatus&&(a.skill.getModelBuildStatus(a.selectedLocale)===a.skill.modelBuildStatusValues.pending?(a.skillTab.setLoadingMessage(a.AppEditingConfig.ACTION_MESSAGES.MODEL_SAVE.BUILDING),
a.enableInput=!1):a.skill.getModelBuildStatus(a.selectedLocale)===a.skill.modelBuildStatusValues.failed?(a.skillTab.clearMessage(),a.skillTab.handleErrorAndFocus({exception:!0,message:a.AppEditingConfig.ACTION_MESSAGES.MODEL_SAVE.FAILURE}),a.enableInput=!0):b&&(a.skillTab.clearMessage(),a.skillTab.setSuccessMessage(a.AppEditingConfig.ACTION_MESSAGES.APP_INFO_SAVE.SUCCESS),a.enableInput=!0))}m();a.localesList=f.locales;a.alexaInterfaceService=e;a.skillDisplayTypes=h.skillDisplayTypes;a.devPreferences=
a.skill.getDeveloperPreferences();a.skillTab.config({selectedMenuStep:a.menuSteps.applicationInfo,nextTab:n.isOptInCreatorEnabled&&a.devPreferences.alexaCreator?a.menuSteps.configuration:a.menuSteps.intentSchema,saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,actionAsync:function(){return g(function(b,c){a.skill.saveAppInfoAsync(a.selectedLocale).then(b,c)})},successMessage:function(){m(!0)}},onAppLoaded:function(){m()}});a.containsSkillType=function(b){return a.skill.containsSkillType(b)};
a.$on("AlexaAppManagementStorage.ModelBuildStatusChanged",function(b,c){a.skill===c&&m(!0)});a.skillTypeItems=f.skillTypeItems;a.edwInvocationNameBubble={bubbleInfo:a.createBubbleModel(1)};a.handleEdwFocus=function(){if(a.selectedLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,c=q.validateInvocationName(a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale]).getTestResult(),d=q.getTestInfo(q.validateInvocationName).getTestResult();a.edwInlineValidation(b,
0,d,c);b.bubbleInfo[0].showRedBorder=!1;b.bubbleInfo[0].containerClass="edw_example_invocation"}};a.handleBubbleChange=function(){if(a.selectedLocale===a.localesList.en_US){var b=a.edwInvocationNameBubble,c=q.validateInvocationName(a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale]).getTestResult(),d=q.getTestInfo(q.validateInvocationName).getTestResult();a.edwInlineValidation(b,0,d,c)}};a.handleEdwBlur=function(){if(a.selectedLocale===a.localesList.en_US){var b=
a.edwInvocationNameBubble,c=q.validateInvocationName(a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale]).getTestResult();a.handleRedBorder(b,0,c)}}}])})(window.angular);define("AlexaSkill/Tabs/AlexaSkillInfoController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillPublishingInfoController",["$scope","ASK_AppEditingConfig","InlineService","$timeout","$q","$location","CommonService","ImageMaskingService","AlexaAppManagementStorage","EDW_CONFIG","AlexaAppManagementAjax",function(a,c,b,g,f,e,k,d,h,q,n){function m(b,d){return f(function(e,f){n.validatePhrasesAsync({endpointRegion:a.skill.getDefaultEndpoint().region,examplePhrase:b,applicationId:a.skill.skillInfo.skillId,locale:a.selectedLocale}).then(function(b){a.examplePhrasesValidationInfo[d].validPhrase=
!0;a.examplePhrasesValidationInfo[d].invalidPhrase=!1;a.examplePhrasesValidationInfo[d].running=!1;var f=0===d&&!b.launchAppIntent;if(!b.validResponse||b.validResponse&&f)a.examplePhrasesValidationInfo[d].errorMsg=f?c.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.VALIDATION_INVALID_LAUNCH_PHRASE_TEXT:b.errorMessage,a.examplePhrasesValidationInfo[d].validPhrase=!1,a.examplePhrasesValidationInfo[d].invalidPhrase=!0,a.examplePhrasesValidationInfo[d].running=!1,a.showExamplePhrasesValidationWarning=!0;e(a.examplePhrasesValidationInfo[d])},
function(b){a.skillTab.handleErrorAndFocus(b);f(b)})})}function r(){a.appImages[a.selectedLocale]={};a.appImages[a.selectedLocale][a.smallIcon]=a.skill.getImageUrl(a.smallIcon,a.selectedLocale);a.appImages[a.selectedLocale][a.largeIcon]=a.skill.getImageUrl(a.largeIcon,a.selectedLocale)}function t(b,e){var f,g,h,k,m,n,l;e===a.smallIcon?(f=c.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE,g=h=108,k=m=77,n=16,l=6,a.emptyMaskIconSrc=p):e===a.largeIcon&&(f=c.MULTIMEDIA_TAB.APP_IMAGE_MASKED_LARGE.TYPE,g=h=512,k=m=
362,n=77,l=30,a.emptyMaskIconSrc=u);D.onload=function(){var r;a.skill.uploadImageAsync(b,e,a.selectedLocale).then(function(c){r=c.newImageAssetId;c=d.getMaskedImageFile({originalImage:D,emptyMaskImage:document.getElementById("emptyMaskIcon"),imageType:b.type,imageWidth:g,imageHeight:h,compressedImageHeight:k,compressedImageWidth:m,xOffset:n,yOffset:l});c.name="masked_appIcon.png";return a.skill.uploadImageAsync(c,f,a.selectedLocale)}).then(function(b){a.appImages[a.selectedLocale][e]=a.skill.getImageUrl(e,
a.selectedLocale);f===c.MULTIMEDIA_TAB.APP_IMAGE_MASKED.TYPE&&a.skillTab.updateImagePath(a.appImages[a.selectedLocale][e],a.selectedLocale);var d=a.skill.getLocalizedPublishingInfo(a.selectedLocale);e===a.smallIcon?(d.smallIconId=r,d.smallMaskedIconId=b.newImageAssetId):e===a.largeIcon&&(d.largeIconId=r,d.largeMaskedIconId=b.newImageAssetId);a.skillTab.setSuccessMessage("Image matches the criteria, please click save to update the skill.");a.handleInputChange()},function(b){a.appImages[a.selectedLocale][e]=
a.skill.getImageUrl(e,a.selectedLocale);a.skillTab.handleErrorAndFocus(b)})};D.src=URL.createObjectURL(b)}e=h.edwImagesPath;var p=e+"iconMask_trans_108_nobg.png",u=e+"iconMask_trans_512_nobg.png";a.edwConfig=q;a.smallIcon=c.MULTIMEDIA_TAB.APP_IMAGE_INPUT.TYPE;a.largeIcon=c.MULTIMEDIA_TAB.APP_IMAGE_LARGE_INPUT.TYPE;a.appImages={};a.globalPublishingInfo=a.skill.getGlobalPublishingInfo();a.examplePhraseToggle={open:!1,text:c.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.SEE_ALL,className:"fa-angle-double-down",
limit:h.minimumExamplePhrases};a.isExamplePhrasesEditable=!0;a.examplePhraseList=Array(h.minimumExamplePhrases);if(a.skill.containsFlashBriefingType()||(a.skill.containsSmartHomeType()||a.skill.containsMusicType())&&q.isExamplePhraseBuilderEnabled)a.isExamplePhrasesEditable=!1,a.examplePhraseList=a.skill.getExamplePhrases(a.selectedLocale),a.showMoreVisible=a.examplePhraseList.length>h.minimumExamplePhrases;var y=g(function(){},0);a.scrollTo101=function(){var a=0,b=document.getElementById("examplePhraseAnchor");
do a+=b.offsetTop,b=b.offsetParent;while(b);window.scroll(0,a)};a.showSampleUtterances=function(){var b=a.$parent.skill.modelDef[a.selectedLocale].testCases;if("undefined"===typeof b||""===b)b="No sample utterances found. Please complete the sample utterances field on the Interaction Model tab.";k.setMessageBoxClass("edw-messagebox-sampleutterances");k.showConfirmationBox("Sample Utterances",b,[{optionName:"OK",highlight:!0}])};a.validateExamplePhrases=function(){var b=a.examplePhraseList,c=[],d;
a.examplePhrasesValidationInfo=[];a.showExamplePhrasesValidationWarning=!1;a.validationDone=!1;for(d=0;d<b.length;d++)a.examplePhrasesValidationInfo.push({validPhrase:!1,invalidPhrase:!1,running:!1,errorMsg:""}),b[d]&&0!==b[d].length&&(a.examplePhrasesValidationInfo[d].running=!0,c.push(m(b[d],d)));f.all(c).then(function(b){a.validationDone=!0})};a.handleKeywordsChange=function(b){var c=a.skill.getLocalizedPublishingInfo(a.selectedLocale);c&&b&&(c.keywords=b.split(RegExp(" |,","g")));a.handleInputChange()};
a.skill.isInitializing||r();a.copyLocalPubInfoFields=function(b){(b=a.skill.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale[b])&&b.keywords&&(a.localKeywords=b.keywords);b&&b.examplePhrases&&(Object.assign(a.examplePhraseList,b.examplePhrases),a.skill.containsFlashBriefingType()&&2<a.examplePhraseList.length&&a.examplePhraseList.splice(0,2))};a.localKeywords=[];a.localesList=h.locales;a.copyLocalPubInfoFields(a.selectedLocale);a.skillTab.config({selectedMenuStep:a.menuSteps.publishingInfo,
nextTab:a.menuSteps.privacyCompliance,onAppLoaded:function(){a.copyLocalPubInfoFields(a.selectedLocale);r()},onAppLoadFailed:function(){r()},saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,actionAsync:function(){return f(function(b,c){a.skill.saveAppInfoAsync(a.selectedLocale).then(function(){a.skillTab.updateImagePath(a.appImages[a.smallIcon]);b()},c)})},successMessage:a.AppEditingConfig.ACTION_MESSAGES.PRESENTATION_SAVE.SUCCESS}});a.handleImageSelected=function(b,c){a.skillTab.clearMessage();
a.appImages[a.selectedLocale][c]="/edw/res/images/loader.gif";t(b.file,c)};a.isSelectedLocaleEn=a.selectedLocale===a.localesList.en_US||a.selectedLocale===a.localesList.en_GB||a.selectedLocale===a.localesList.en_IN;a.isLocaleEPValidatorEnabled=a.selectedLocale===a.localesList.en_US||a.isSelectedLocaleEn&&a.edwConfig.isEPValidationInlineWithButtonEnabled;var D=new Image;a.edwExamplePhraseBubble={bubbleInfo:a.createBubbleModel(3)};a.handleEdwExampleFocus=function(c){if(a.skill.containsCustomType()&&
a.isLocaleEPValidatorEnabled){var d=a.edwExamplePhraseBubble,e=a.examplePhraseList[c],f=a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale],g=b.getTestInfo(b.validateExamplePhrase,c).getTestResult(),e=b.validateExamplePhrase(c,e,f).getTestResult();a.edwInlineValidation(d,c,g,e);d.bubbleInfo[c].showRedBorder=!1}};a.handleEdwExamplePhraseInputChangeForBubble=function(c){if(a.skill.containsCustomType()&&a.isLocaleEPValidatorEnabled){a.setValidationResult(!1);
g.cancel(y);var d=a.edwExamplePhraseBubble,e=a.examplePhraseList[c],f=a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale],h=b.getTestInfo(b.validateExamplePhrase,c).getTestResult(),k=b.validateExamplePhrase(c,e,f).getTestResult();y=g(function(){a.edwInlineValidation(d,c,h,k)},200)}};a.handleEdwExamplePhraseInputChange=function(b){var c=a.skill.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale[a.selectedLocale];c&&(c.examplePhrases||
(c.examplePhrases=Array(h.minimumExamplePhrases)),c.examplePhrases[b]=a.examplePhraseList[b])};a.handleEdwExampleBlur=function(c){if(a.skill.containsCustomType()&&a.isLocaleEPValidatorEnabled){var d=a.edwExamplePhraseBubble,e=b.validateExamplePhrase(c,a.examplePhraseList[c],a.skill.skillInfo.skillDefinition.customInteractionModelInfo.invocationNameByLocale[a.selectedLocale]).getTestResult();a.handleRedBorder(d,c,e)}};a.getExamplePhrasesDescription=function(){return a.skill.containsSmartHomeType()?
c.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.SMART_HOME_DESCRIPTION:a.skill.containsMusicType()?c.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.MUSIC_DESCRIPTION:a.skill.containsFlashBriefingType()?c.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.FLASH_BRIEFING_DESCRIPTION:q.isExamplePhraseBuilderEnabled?c.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.DESCRIPTION:q.isEPValidatorEnabled||a.isSelectedLocaleEn&&a.edwConfig.isEPValidationInlineWithButtonEnabled?c.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.CUSTOM_DESCRIPTION_WITH_VALIDATOR:
c.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.CUSTOM_DESCRIPTION};a.handleRootCategoryInputChange=function(){var b=a.skill.skillInfo.rootCategoryItemTypeKeyword;a.skill.getGlobalPublishingInfo().categoryItemTypeKeyword=null;a.configurations.subCategoryOptionsByRootITK[b]&&0!==a.configurations.subCategoryOptionsByRootITK[b].length||(a.skill.getGlobalPublishingInfo().categoryItemTypeKeyword=b,a.handleInputChange())};a.setExamplePhraseToggle=function(){var b=a.examplePhraseToggle;b.open=!b.open;b.text=b.open?
c.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.SEE_LESS:c.PRESENTATION_TAB.EXAMPLE_PHRASES_INPUT.SEE_ALL;b.className=b.open?"fa-angle-double-up":"fa-angle-double-down";b.limit=b.open?a.examplePhraseList.length:h.minimumExamplePhrases};a.testingInstructionsInputHelp=function(){return a.edwConfig.isPermissionsEnabled?a.AppEditingConfig.RELEASE_INFO_TAB.TESTING_INSTRUCTIONS_INPUT.HELP_PERMISSIONS:a.AppEditingConfig.RELEASE_INFO_TAB.TESTING_INSTRUCTIONS_INPUT.HELP}}])})(window.angular);
define("AlexaSkill/Tabs/AlexaSkillPublishingInfoController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillSSLCertController",["$scope","AlexaAppManagementStorage",function(a,c){function b(){a.supportedRegions.forEach(function(b){a.endpoints[b]=a.skill.getEndpointByRegion(c.regions[b]);a.endpoints[b]||delete a.endpoints[b]});a.sslCertificateTypes=a.skill.getSSLCertificateTypes()}a.endpoints={};a.sslCertificateTypes={};a.sslCertificateText={};a.supportedRegions=Object.keys(c.regions);a.skillTab.config({selectedMenuStep:a.menuSteps.updateSSLCert,
nextTab:a.menuSteps.testing,onAppLoaded:function(){b();a.sslRadioButtonChange()},saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,actionAsync:function(){return a.skill.saveSslCertAsync({text:a.sslCertificateText,types:a.sslCertificateTypes})},successMessage:a.AppEditingConfig.ACTION_MESSAGES.CERT_SAVE.SUCCESS}});b();a.sslRadioButtonChange=function(){var b={};a.supportedRegions.forEach(function(c){b[c]=a.endpoints[c];b[c]?(b[c].sslCertificateType=a.sslCertificateTypes[c],a.sslCertificateTypes[c]===
a.httpCertificateTypes.selfSigned&&(b[c].sslCertificateText=a.sslCertificateText[c])):delete b[c]});a.handleInputChange()}}])})(window.angular);define("AlexaSkill/Tabs/AlexaSkillSSLCertController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillPrivacyComplianceController",["$scope","CommonService",function(a,c){a.skillTab.config({selectedMenuStep:a.menuSteps.privacyCompliance,saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,actionAsync:function(){return a.skill.saveAppInfoAsync(a.selectedLocale)},successMessage:a.AppEditingConfig.ACTION_MESSAGES.APPSTORE_INFO_SAVE.SUCCESS}});a.showChildrenAppDialog=function(){c.setMessageBoxClass("edw-messagebox-coppa");
c.showConfirmationBox(a.AppEditingConfig.ALEXA_APPSTORE_INFO_TAB.CHILDREN_APP_INPUT.DIALOG_TITLE,a.AppEditingConfig.ALEXA_APPSTORE_INFO_TAB.CHILDREN_APP_INPUT.DIALOG_CONTENT,[{optionName:"Close",highlight:!0}])}}])})(window.angular);define("AlexaSkill/Tabs/AlexaSkillPrivacyComplianceController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillConfigurationController",["$scope","$q","ContentSkillConfiguration","AlexaAppManagementAjax","AlexaAppManagementStorage","ASK_AppEditingConfig","EDW_CONFIG",function(a,c,b,g,f,e,k){function d(){if(a.skill.containsMusicType()||a.skill.containsSmartHomeType())a.endpoints.type=f.endpointTypes.lambda;a.defaultEndpointOptions.forEach(function(b){a.endpoints[b]=a.skill.getEndpointByRegion(b);a.endpoints[b]?(a.endpoints.type=h.copy(a.endpoints[b].type),
a.endpoints[b].isDefaultRegion&&(a.endpoints.defaultRegion=b)):delete a.endpoints[b]});a.$evalAsync()}function l(){if(!h.equals(a.skill.getPartnerEntity(),a.originalApp.getPartnerEntity())||a.skill.isAccountLinkingEnabled&&!a.originalApp.isAccountLinkingEnabled){a.skill.containsSmartHomeType()&&(a.skill.isAccountLinkingEnabled=!0);var b=a.skill.getPartnerEntity()||{},d={isAccountLinkingEnabled:a.skill.isAccountLinkingEnabled,skillId:a.skill.skillInfo.skillId,isImplicitGrant:b.implicitGrant,authorizationUri:b.authorizationUri,
clientId:b.clientId,scopes:b.scopes};d.isImplicitGrant||(b=b.authGrantInfo,d.authGrantInfo={accessTokenURI:b.accessTokenURI,clientSecret:b.clientSecret,clientHttpBasicAuthorizationRequired:b.clientHttpBasicAuthorizationRequired});return g.createPartnerAsync(d)}return c.when()}a.contentSkillConfiguration=b;a.edwConfig=k;a.endpoints={};a.clientSecret={value:e.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.CLIENT_SECRET_HIDDEN_TEXT,button:e.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.SHOW_BUTTON_TEXT};
a.defaultEndpointOptions=Object.keys(f.regions);a.isClientSecretHidden=!0;a.handleAccountLinkingInputChange=function(){!1===a.skill.isAccountLinkingEnabled&&(a.originalApp.skillInfo.skillDefinition&&a.originalApp.skillInfo.skillDefinition.accountLinkingInfo?h.copy(a.originalApp.skillInfo.skillDefinition.accountLinkingInfo,a.skill.skillInfo.skillDefinition.accountLinkingInfo):a.skill.skillInfo.skillDefinition&&a.skill.skillInfo.skillDefinition.accountLinkingInfo&&delete a.skill.skillInfo.skillDefinition.accountLinkingInfo,
a.originalApp.skillInfo.partnerEntity?h.copy(a.originalApp.skillInfo.partnerEntity,a.skill.skillInfo.partnerEntity):a.skill.skillInfo.partnerEntity&&delete a.skill.skillInfo.partnerEntity,a.originalApp.skillInfo.accountLinkingImplicitGrantRedirectUrls?h.copy(a.originalApp.skillInfo.accountLinkingImplicitGrantRedirectUrls,a.skill.skillInfo.accountLinkingImplicitGrantRedirectUrls):a.skill.skillInfo.accountLinkingImplicitGrantRedirectUrls&&delete a.skill.skillInfo.accountLinkingImplicitGrantRedirectUrls,
a.originalApp.skillInfo.accountLinkingAuthGrantRedirectUrls?h.copy(a.originalApp.skillInfo.accountLinkingAuthGrantRedirectUrls,a.skill.skillInfo.accountLinkingAuthGrantRedirectUrls):a.skill.skillInfo.accountLinkingAuthGrantRedirectUrls&&delete a.skill.skillInfo.accountLinkingAuthGrantRedirectUrls,a.handleInputChange())};a.handleEndpointChange=function(){a.defaultEndpointOptions.forEach(function(b){var c=a.skill.getEndpointByRegion(b)||a.skill.initializeEndpointByRegion(b);a.endpoints[b]?(c.type=a.endpoints.type,
c.region=a.endpoints[b].region||f.regions.NA,c.isDefaultRegion=a.endpoints.defaultRegion===f.regions[b],a.endpoints[b].url&&(c.url=a.endpoints[b].url)):a.skill.resetEndpointByRegion(b)});a.skillTab.updateShowSSLCert();a.handleInputChange()};d();a.updatePermission=function(b){a.skill.skillInfo.skillDefinition.permissionInfo?a.skill.skillInfo.skillDefinition.permissionInfo.permissions||(a.skill.skillInfo.skillDefinition.permissionInfo.permissions={}):a.skill.skillInfo.skillDefinition.permissionInfo=
{permissions:{}};a.checkPermissionIsUndefined(b)?a.skill.skillInfo.skillDefinition.permissionInfo.permissions[b]="":(delete a.skill.skillInfo.skillDefinition.permissionInfo.permissions[b],a.clientSecret={value:e.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.CLIENT_SECRET_HIDDEN_TEXT,button:e.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.SHOW_BUTTON_TEXT},a.isClientSecretHidden=!0)};a.checkPermissionIsUndefined=function(b){return a.skill.skillInfo.skillDefinition.permissionInfo?
"undefined"===typeof a.skill.skillInfo.skillDefinition.permissionInfo.permissions[b]:!0};a.deviceAddress={constants:{fullAddressScope:e.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.LWA_SCOPE.DEVICE_ADDRESS_READ,countryAndCodeScope:e.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.LWA_SCOPE.DEVICE_COUNTRY_AND_POSTAL_CODE_READ},selected:!1,type:{fullAddressScope:!1,countryAndCodeScope:!1},onDeviceAddressChange:function(){this.selected||(this.type.fullAddressScope=!1,this.type.countryAndCodeScope=!1,delete a.skill.skillInfo.skillDefinition.permissionInfo.permissions[this.constants.fullAddressScope],
delete a.skill.skillInfo.skillDefinition.permissionInfo.permissions[this.constants.countryAndCodeScope],a.handleInputChange())},onDeviceAddressTypeChange:function(b){this.type.fullAddressScope&&b===this.constants.fullAddressScope?(this.type.countryAndCodeScope=!1,b=this.constants.fullAddressScope,a.skill.skillInfo.skillDefinition.permissionInfo.permissions[b]="",delete a.skill.skillInfo.skillDefinition.permissionInfo.permissions[this.constants.countryAndCodeScope]):(this.type.fullAddressScope=!1,
b=this.constants.countryAndCodeScope,a.skill.skillInfo.skillDefinition.permissionInfo.permissions[b]="",delete a.skill.skillInfo.skillDefinition.permissionInfo.permissions[this.constants.fullAddressScope]);a.handleInputChange()},onLoad:function(){a.skill.skillInfo.skillDefinition.permissionInfo?"undefined"!==typeof a.skill.skillInfo.skillDefinition.permissionInfo.permissions[this.constants.fullAddressScope]?(this.selected=!0,this.type.fullAddressScope=!0):"undefined"!==typeof a.skill.skillInfo.skillDefinition.permissionInfo.permissions[this.constants.countryAndCodeScope]&&
(this.selected=!0,this.type.countryAndCodeScope=!0):this.selected=!1}};var q=!1;a.LoadImage=function(){return q};a.setLoadImageStatus=function(){q=!0};a.clearLoadImageStatus=function(){q=!1};a.handleClientSecretView=function(){a.isClientSecretHidden=!a.isClientSecretHidden;if(a.isClientSecretHidden)a.clientSecret={value:e.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.CLIENT_SECRET_HIDDEN_TEXT,button:e.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.SHOW_BUTTON_TEXT};else{var b=
a.skill.skillInfo.skillId,c=a.skill.skillInfo.skillDefinition.securityProfile.profileId;a.setLoadImageStatus();g.getPermissionsClientSecretAsync(b,c).then(function(b){a.clientSecret={value:b,button:e.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.HIDE_BUTTON_TEXT};a.clearLoadImageStatus()},function(){a.isClientSecretHidden=!0;a.clearLoadImageStatus()})}};a.skillTab.config({selectedMenuStep:a.menuSteps.configuration,nextTab:function(){return a.showSSLCert?a.menuSteps.updateSSLCert:a.menuSteps.testing},
saveAction:{loadingMessage:a.AppEditingConfig.ACTION_MESSAGES.LOADING,actionAsync:function(){return c(function(b,c){l().then(function(d){if("undefined"!==typeof d)if(""===d)a.skill.accountLinkingInfo=null,a.skill.isAccountLinkingEnabled=!1;else{var e=a.skill.skillInfo.skillDefinition.accountLinkingInfo=a.skill.getAccountLinkingInfo()||{};e.supportsLinking=!0;e.partnerId=d.partnerId;e.type=a.skill.skillInfo.partnerEntity.implicitGrant?f.entityGrantTypes.implicit:f.entityGrantTypes.authCode}a.skill.isAccountLinkingEnabled||
(a.skill.skillInfo.skillDefinition.accountLinkingInfo=null);a.skill.saveAppInfoAsync(a.selectedLocale).then(function(c){b(c);a.$emit("skill_saved")},function(a){c(a)})},function(a){c(a)})})},successMessage:a.AppEditingConfig.ACTION_MESSAGES.APPSTORE_INFO_SAVE.SUCCESS},onAppLoaded:function(){d();a.skill.containsFlashBriefingType()&&a.contentSkillConfiguration(a)}});a.skill.isInitializing||a.skill.containsFlashBriefingType()&&a.contentSkillConfiguration(a);a.getClientSecretPlaceholder=function(){return a.skill.getPartnerEntity()&&
a.skill.getPartnerEntity().authGrantInfo&&"undefined"!==typeof a.skill.getPartnerEntity().authGrantInfo.clientSecret&&h.equals(a.skill.getPartnerEntity(),a.originalApp.getPartnerEntity())?e.ALEXA_APPSTORE_INFO_TAB.PERMISSIONS.ALEXA_SKILL_MESSAGING.CLIENT_SECRET_HIDDEN_TEXT:""}}])})(window.angular);define("AlexaSkill/Tabs/Configuration/AlexaSkillConfigurationController",function(){});
(function(h){h.module("AlexaSkillModule").factory("ContentSkillConfiguration",["$q","AlexaAppManagementStorage","AlexaAppManagementAjax","ASK_AppEditingConfig","CommonService","NoImage",function(a,c,b,g,f,e){return function(a){function c(b){q=h.copy(a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds);b&&(n=h.copy(b))}function l(){var b=h.copy(a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds),c=a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds.indexOf(a.currentFeed);-1!=
c&&a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds.splice(c,1);a.saveApplicationChanges().then(function(){a.currentFeed=null},function(){a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds=b})}a.contentConfigurationEnabled=!0;a.isEditingFeed=function(){return a.currentFeed};a.contentUpdateFrequencyKeys=Object.keys(a.configurations.contentUpdateFrequencyValues);a.selectedContentUpdateFrequency={};a.selectedContentUpdateFrequency.text=a.contentUpdateFrequencyKeys[0];a.handleSelectedContentUpdateFrequencyChange=
function(b){a.selectedContentUpdateFrequency.text=b;a.currentFeed.updateFrequencyInMillis=a.configurations.contentUpdateFrequencyValues[b];a.handleInputChange()};a.isAddingFeed=!1;var q,n;a.showImageTooltip=function(a){return!a.publishingInfo.largeIconId};a.handleAddNewFeed=function(){a.isAddingFeed=!0;c();a.currentFeed={};a.currentFeed.publishingInfo={};a.currentFeed.updateFrequencyInMillis=a.configurations.contentUpdateFrequencyValues[a.contentUpdateFrequencyKeys[0]];a.currentFeedIconUrl=e;a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds||
(a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds=[]);1>a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds.length?a.currentFeed.isDefaultFeed=!0:a.currentFeed.isDefaultFeed=!1;a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds.push(a.currentFeed);a.handleInputChange()};a.isFeedDirty=function(){return a.isAddingFeed?!0:!h.equals(a.currentFeed,n)};a.handleEditFeed=function(b){a.isAddingFeed=!1;c(b);a.currentFeed=b;a.currentFeedIconUrl=a.getFeedIconUrl(b);if(b.updateFrequencyInMillis)for(var e in a.configurations.contentUpdateFrequencyValues)if(a.configurations.contentUpdateFrequencyValues[e]===
b.updateFrequencyInMillis){a.selectedContentUpdateFrequency.text=e;break}};a.cancelEditingFeed=function(){a.currentFeed=null;a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds=q;a.handleInputChange()};a.saveEditedFeed=function(){a.isFeedDirty()?a.saveApplicationChanges().then(function(b){a.currentFeed=null}):a.currentFeed=null};a.$on("skill_saved",function(){a.isAddingFeed=!1;a.currentFeed&&c(a.currentFeed)});a.deleteEditingFeed=function(){!0===a.currentFeed.isDefaultFeed&&f.showConfirmationBox(g.CONFIGURATION_TAB.CONTENT.FEED_BOX.CANCEL,
g.CONFIGURATION_TAB.CONTENT.FEED_BOX.DEFAULT_FEED_MSG,[{optionName:g.CONFIGURATION_TAB.CONTENT.FEED_BOX.CANCEL}]);f.showConfirmationBox(g.CONFIGURATION_TAB.CONTENT.FEED_BOX.TITLE,g.CONFIGURATION_TAB.CONTENT.FEED_BOX.MSG,[{optionName:g.CONFIGURATION_TAB.CONTENT.FEED_BOX.DELETE,eventHandler:l},{optionName:g.MESSAGE_BOX_BUTTONS.CANCEL}])};a.getEditTitle=function(){return a.isAddingFeed?g.CONFIGURATION_TAB.CONTENT.FEED_EDIT.ADD_TITLE:g.CONFIGURATION_TAB.CONTENT.FEED_EDIT.EDIT_TITLE};a.skillTab.rootStorage.feedIconUrls=
{};a.currentFeedIconUrl=e;a.getFeedIconUrl=function(b){return(b=a.skillTab.rootStorage.feedIconUrls[b.publishingInfo.largeIconId])?b:e};a.handleDefaultFeedChange=function(b){for(var c=a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds,d=0;d<c.length;d++){var e=c[d];e.isDefaultFeed=b.name===e.name&&b.feedId===e.feedId?!0:!1}a.handleInputChange()};(function(){var c=a.skill.getContentSkillInfoByLocale(a.selectedLocale).feeds;if(c){for(var d="",f=0;f<c.length;f++){var g=c[f];g.publishingInfo.largeIconId&&
a.skillTab.rootStorage.feedIconUrls[g.publishingInfo.largeIconId]!==e&&(d&&(d+="|"),d+=g.publishingInfo.largeIconId)}d&&b.batchGetImageResourceRetrievalUrlAsync(d).then(function(b){for(var c=0;c<b.images.length;c++){var d=b.images[c].retrievalUrl;d||(d=e);a.skillTab.rootStorage.feedIconUrls[b.images[c].imageId]=d}})}})();a.handleImageSelected=function(c){var d=a.currentFeed.publishingInfo.largeIconId;a.currentFeedIconUrl="/edw/res/images/loader.gif";a.skillTab.clearMessage();a.skillTab.disableEditing();
b.getImageResourceUploadUrlAsync("FEED_ICON",a.currentFeed.publishingInfo.largeIconId,c.file.name,c.file.size).then(function(d){a.currentFeed.publishingInfo.largeIconId=d.imageId;var e={};e.uploadURL=d.uploadUrl;e.file=c.file;return b.uploadImageAsync(e,{sizeLimit:"1MB",dimensionLimit:"512 x 512"})}).then(function(c){return b.getImageResourceRetrievalUrlAsync(a.currentFeed.publishingInfo.largeIconId)}).then(function(b){a.currentFeedIconUrl=a.skillTab.rootStorage.feedIconUrls[a.currentFeed.publishingInfo.largeIconId]=
b.retrievalUrl;a.skillTab.setSuccessMessage(g.CONFIGURATION_TAB.CONTENT.FEED_EDIT.IMAGE_UPLOAD.SUCCESS);a.skillTab.enableEditing();a.handleInputChange()},function(b){a.currentFeed.publishingInfo.largeIconId=d;a.currentFeedIconUrl=a.getFeedIconUrl(a.currentFeed);a.skillTab.handleErrorAndFocus(b);a.skillTab.enableEditing();a.handleInputChange()})}}}])})(window.angular);define("AlexaSkill/Tabs/Configuration/Content/ContentSkillConfiguration",function(){});
(function(h){h.module("AlexaSkillModule").directive("askEndpointInput",["ASK_AppEditingConfig","$interval",function(a){return{replace:!0,restrict:"E",templateUrl:"/edw/res/js/Views/AlexaSkill/Tabs/Controls/AlexaSkillEndpointInput.view",scope:{edwDisabled:"=",edwDefaultEndpointOptions:"=",edwEndpoint:"=",edwEndpointModel:"=",edwEndpointChange:"=",edwGlobal:"=",edwFixedType:"="},link:function(c){c.AppEditingConfig=a}}}])})(window.angular);define("AlexaSkill/Tabs/Controls/AlexaSkillEndpointInput",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillInteractionModelController",["$scope","$state","rootState","$q","$timeout","$location","CodeMirrorExtensions","ASK_AppEditingConfig","AlexaInterfaceService","CommonService","EDW_CONFIG","Utils","AlexaAppManagementStorage","AlexaAppManagementAjax","$window",function(a,c,b,g,f,e,h,d,l,q,n,m,r,t,p){function u(b){a.audioIntentsButtonEnabled=b;a.audioIntentsMessage={}}function y(){var b=a.selectedLocale,c=a.skill.getIntentSchema(b);if(l.getAudioPlayerStatus(a.skill)&&
c){b=l.validateAudioInterface(b,c,a.skill.getSampleUtterances(b));if(b.error)return b.message;if(0<b.missingIntents.length)return a.audioIntentsButtonEnabled=!0,a.audioIntentsMessage={error:!0,message:b.message},b.message}return!1}function D(a){z&&z.setOption("readOnly",!a);F&&F.setOption("readOnly",!a)}function v(){D(a.isModelInputEnabled())}function x(b){a.skill.getModelBuildStatus&&((v(),a.skill.getModelBuildStatus(a.selectedLocale)===a.skill.modelBuildStatusValues.pending)?a.skillTab.setLoadingMessage(d.ACTION_MESSAGES.MODEL_SAVE.BUILDING):
a.skill.getModelBuildStatus(a.selectedLocale)===a.skill.modelBuildStatusValues.failed?(a.skillTab.clearMessage(),a.skillTab.handleErrorAndFocus({exception:!0,message:d.ACTION_MESSAGES.MODEL_SAVE.FAILURE})):b&&(a.skillTab.clearMessage(),a.skillTab.setSuccessMessage(d.ACTION_MESSAGES.MODEL_SAVE.SUCCESS),E&&(b=a.fileUploadObj.getCustomSlotMode(),b===r.customSlotModes.fileUpload||b===r.customSlotModes.stored))&&(a.fileUploadObj.setHasFileSelected(!1),a.fileUploadObj.setHasFileUploaded(!0)))}function A(a){var b=
!1;"undefined"!==typeof a&&(a=B(a))&&a.wakeWord&&a.launchWord&&a.invocationName&&!a.sampleUtterance&&(b=!0);return b}function B(b){var c,e={},f=b,g=d.EXAMPLE_PHRASE_FORMAT(a.locale),h={wakeWord:d.WAKE_WORDS,launchWord:d.LAUNCH_VERBS,invocationName:[a.skill.getCustomInteractionModelInfo().invocationNameByLocale[a.locale]]};g.forEach(function(a){if(a!==r.examplePhraseParts.sampleUtterance)for(c=0;c<h[a].length;c++){var d=h[a][c],g=new RegExp(d,"i");if(b&&b.match(g)){e[a]=d;f=f.replace(g,"");break}}else a===
r.examplePhraseParts.sampleUtterance&&(e[a]={},e[a].template=f.trim(),""===e[a].template&&delete e[a])});return e}var w;a.edwConfig=n;a.devPreferences=a.skill.getDeveloperPreferences();a.locale=a.selectedLocale;a.containsInvocationPhrase=A;a.convertPhraseToParts=B;a.phrase101ModalVisible=!1;a.showNotification=function(){return!a.skill.containsCustomType()};var E=n.isFileUploadEnabled;n.isOptInCreatorEnabled&&a.devPreferences.alexaCreator&&(p.location.href=r.getCreatorRedirectionPath(a.skillId,a.selectedLocale));
a.getNotificationTitle=function(){var b="";a.skill.containsSmartHomeType()?b=d.INTERACTION_MODEL_TAB.NOTIFICATION_TITLE.SMART_HOME:a.skill.containsMusicType()?b=d.INTERACTION_MODEL_TAB.NOTIFICATION_TITLE.MUSIC[a.selectedLocale]:a.skill.containsFlashBriefingType()&&(b=d.INTERACTION_MODEL_TAB.NOTIFICATION_TITLE.CONTENT_SKILL);return b};a.getNotificationText=function(){return a.skill.containsSmartHomeType()?d.INTERACTION_MODEL_TAB.DESCRIPTION.SMART_HOME:a.skill.containsMusicType()?d.INTERACTION_MODEL_TAB.DESCRIPTION.MUSIC:
a.skill.containsFlashBriefingType()?d.INTERACTION_MODEL_TAB.DESCRIPTION.CONTENT_SKILL[a.selectedLocale]:"<place holder>"};a.catalogDescriptionText=n.isEREnabled?d.INTERACTION_MODEL_TAB.CUSTOM_SLOT_TYPES.ENTITY_RESOLUTION_DESCRIPTION:d.INTERACTION_MODEL_TAB.CATALOG_INPUT.DESCRIPTION;a.initAudioPlayer();a.audioIntentsButtonEnabled=!0;a.audioIntentsMessage={};a.hasAudioPlayerIntent=function(){if(l.getAudioPlayerStatus(a.skill)){var b=a.locale;if(a.skill.modelDef[b].models&&0<a.skill.modelDef[b].models.length&&
(b=l.validateAudioInterface(b,a.skill.modelDef[b].models,a.skill.modelDef[b].testCases),1>b.missingIntents.length))return u(!1),b.error&&q.setStatus(q.statusType.error,"Error: "+b.message),!0;u(!0)}return!1};a.addAudioPlayerIntents=function(){u(!1);var b=d.INTERACTION_MODEL_TAB.AUDIO_PLAYER_MESSAGE,c=a.locale,e=l.validateAudioInterface(c,a.skill.modelDef[c].models);e.error?(a.audioIntentsButtonEnabled=!0,a.audioIntentsMessage={error:!0,message:e.message}):(a.skill.modelDef[c].models=JSON.stringify(e.intentSchemaJson||
{},null,4),a.audioIntentsButtonEnabled=!1,a.audioIntentsMessage={success:!0,message:b.SUCCESS_ALERT},a.handleInputChange())};var F,z;a.jsonEditorOptions={mode:{name:"javascript",json:!0},lint:!0,gutters:["CodeMirror-lint-markers"],lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,highlightSelectionMatches:!0,styleActiveLine:!0};a.utteranceEditorOptions={gutters:["selection"],lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,highlightSelectionMatches:!0,styleActiveLine:!0,
maxHighlightLength:0};a.slotTypeEditorOptions={lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,highlightSelectionMatches:!0,styleActiveLine:!0,maxHighlightLength:0};a.onJsonEditorLoad=function(b){var c=b.getDoc(),d=a.skill.getIntentSchema(a.selectedLocale);F=b;d&&m.isValidJSON(d)&&(a.interactionModelVM.models.intentSchema=JSON.stringify(JSON.parse(d),null,2));b.setSize("100%",200);b.setOption("maxLength",1E5);b.on("beforeChange",a.enforceMaxLength);a.readOnlyMode&&b.setOption("readOnly",
!0);c.markClean();v()};a.onUtteranceEditorLoad=function(b){function c(){var a=document.createElement("div");a.classList.add("selection-checkbox");return a}function e(){var a=document.createElement("div"),b=document.createElement("i");b.classList.add("selection-check","fa","fa-check");a.classList.add("selection-checkbox");a.appendChild(b);return a}function g(){var a=h.size,d;if(((h.children||[])[0].lines||[])[0].text)for(d=0;d<a;d++)b.setGutterMarker(d,"selection",c())}var h=b.getDoc();z=b;b.setSize("100%",
200);b.setOption("maxLength",2E5);b.on("beforeChange",a.enforceMaxLength);a.readOnlyMode&&b.setOption("readOnly",!0);h.markClean();v();n.isExamplePhraseBuilderEnabled&&(a.existingExamplePhrases=a.skill.getExamplePhrases(a.selectedLocale)||[],a.examplePhraseTotalLength=a.existingExamplePhrases.length,(w=A(a.existingExamplePhrases[0]))&&a.examplePhraseTotalLength--,a.setSelectUtteranceDescriptionText(),f(g()),b.on("change",function(){g()}),b.on("gutterClick",function(b,c){var f=b.lineInfo(c);if(f.gutterMarkers&&
f.gutterMarkers.selection){var g=1>f.gutterMarkers.selection.childElementCount,h={sampleUtteranceInfo:f},k;a.selectedSampleUtterances=a.selectedSampleUtterances||[];a.examplePhraseTotalLength=a.existingExamplePhrases.length+a.selectedSampleUtterances.length;w&&a.examplePhraseTotalLength--;k=a.examplePhraseTotalLength===d.ALLOWED_EXAMPLE_PHRASES;g&&!k?(b.setGutterMarker(c,"selection",e()),a.selectedSampleUtterances.push({lineNumber:c,lineText:f.text}),a.examplePhraseTotalLength++,a.setSelectUtteranceDescriptionText(),
h.selectedSampleUtterances=a.selectedSampleUtterances,h.examplePhraseTotalLength=a.examplePhraseTotalLength,a.$broadcast("sampleUtteranceChecked",h)):g||(h.selectedSampleUtterances=a.selectedSampleUtterances,h.examplePhraseTotalLength=a.examplePhraseTotalLength,a.$broadcast("sampleUtteranceUnchecked",h));a.$apply()}}),a.$on("examplePhraseRemoved",function(d,e){var f=m.get(e,"sampleUtterance.selectedPhraseLineNum",!1);if("undefined"!==typeof f){var g=a.selectedSampleUtterances.findIndex(function(a){return a.lineNumber===
f});a.selectedSampleUtterances.splice(g,1);b.setGutterMarker(f,"selection",c());a.examplePhraseTotalLength--;a.setSelectUtteranceDescriptionText()}}))};a.onSlotTypeEditorLoad=function(b){var c=b.getDoc();b.setSize("100%",200);b.setOption("maxLength",6E5);b.on("beforeChange",a.enforceMaxLength);a.readOnlyMode&&b.setOption("readOnly",!0);c.markClean()};a.enforceMaxLength=function(a,b){var c=a.getOption("maxLength");if(c&&b.update){var d=b.text.join("\n"),e=d.length-(a.indexFromPos(b.to)-a.indexFromPos(b.from));
if(0>=e)return!0;e=a.getValue().length+e-c;0<e&&(d=d.substr(0,d.length-e),b.update(b.from,b.to,d.split("\n")))}return!0};a.skillTab.config({selectedMenuStep:a.menuSteps.intentSchema,nextTab:a.menuSteps.configuration,saveAction:{loadingMessage:d.ACTION_MESSAGES.LOADING,actionAsync:function(){var b=a.skill.saveAppInfoAsync.bind(a.skill),c=a.skill.saveIntentSchemaAsync.bind(a.skill),d=E&&a.skill.getCatalogSupplyMethod(a.selectedLocale)===r.customSlotModes.fileUpload;u(!1);v();return g(function(e,f){function g(){return c(a.selectedLocale).then(l,
m)}function h(b,c){return a.fileUploadObj.getFileUploadUrl().then(function(d){return a.fileUploadObj.uploadFile(d).then(b,c||r)},r)}function k(){a.isModelDefinitionChanged()&&a.areExamplePhrasesChanged()?b(a.selectedLocale).then(g,r):a.areExamplePhrasesChanged()?b(a.selectedLocale).then(n,r):(a.isModelDefinitionChanged()||a.hasSkillChanged())&&g()}function l(b){b&&a.hasAudioPlayerIntent();e(b)}function m(b){b&&(D(!0),a.hasAudioPlayerIntent());f(b)}function n(a){e(a)}function r(a){f(a)}var q=y();q?
(f(q),D(!0)):d?h(function(){k()}):k()})},successMessage:function(){x(!0)}},onAppLoaded:function(){a.initAudioPlayer();x()}});a.$on("AlexaAppManagementStorage.ModelBuildStatusChanged",function(b,c){a.skill===c&&x(!0)});a.isModelInputEnabled=function(){return a.skill.getModelBuildStatus?a.skill.modelDef[a.selectedLocale]?a.enableInput&&a.skill.getModelBuildStatus(a.selectedLocale)!==a.skill.modelBuildStatusValues.pending:a.enableInput:!1};a.convertCatalogEntitiesToString=function(a,b){return a&&0!==
a.length?a.map(function(a){return a.name.value}).join(b):""};a.convertStringToCatalogEntities=function(a){var b=[];return a&&a.trim()?a.split("\n").reduce(function(a,b){b.trim()&&a.push({name:{value:b}});return a},[]):b};a.handleExamplePhraseChange=function(b){a.skill.setExamplePhrases(a.selectedLocale,b.filter(function(a){return""!==a}));a.handleInputChange()};a.showModal=function(){a.phrase101ModalVisible=!a.phrase101ModalVisible};a.setSelectUtteranceDescriptionText=function(){var b=d.ALLOWED_EXAMPLE_PHRASES,
c=b-(a.examplePhraseTotalLength||0),e={middle:d.INTERACTION_MODEL_TAB.SAMPLE_UTTERANCES.SELECT_SAMPLE_UTTERANCES.MIDDLE,max:d.INTERACTION_MODEL_TAB.SAMPLE_UTTERANCES.SELECT_SAMPLE_UTTERANCES.MAX},f={middle:d.INTERACTION_MODEL_TAB.EXAMPLE_PHRASES_BUILDER.SELECT_SAMPLE_UTTERANCES.MIDDLE,max:d.INTERACTION_MODEL_TAB.EXAMPLE_PHRASES_BUILDER.SELECT_SAMPLE_UTTERANCES.MAX};1>c?(a.selectSampleUtteranceText=e.max(b),a.selectExamplePhraseText=f.max(b)):(a.selectSampleUtteranceText=e.middle(c),a.selectExamplePhraseText=
f.middle(c))};a.fileUploadObj={};E&&(a.fileUploadObj={customSlotMode:null,showCancelButton:!1,setShowCancelButton:function(a){this.showCancelButton=a},setCustomSlotMode:function(a){this.customSlotMode=a;this.setIsCustomSlotTypeInModeVisible();a||(this.setShowCancelButton(!1),this.resetSelectionButtonState())},getCustomSlotMode:function(){return this.customSlotMode},setIsCustomSlotTypeInModeVisible:function(){this.isCustomSlotTypeInModeVisible=this.getCustomSlotMode()===r.customSlotModes.typeIn},reset:function(){this.getCustomSlotMode()===
r.customSlotModes.typeIn?(a.skill.setCatalogs([],a.selectedLocale),a.skill.deleteCatalogType(a.selectedLocale)):(a.skill.deleteCatalogFileName(a.selectedLocale),this.setFileInformation({}),this.setHasFileSelected(!1),this.setHasFileUploaded(!1),this.customSlotFileModel=null,this.$input&&(this.$input[0].value=null));a.skill.deleteCatalogSupplyMethod(a.selectedLocale);this.setCustomSlotMode(null);this.setFileUploadButtonText();a.handleInputChange()},handleCatalogCancelButtonClick:function(a){a.preventDefault();
this.reset()},getFileUploadUrl:function(){var b={applicationId:a.skill.skillInfo.skillId,stage:a.skill.skillInfo.stage,locale:a.selectedLocale,fileName:this.getFileInformation("name"),contentSize:this.getFileInformation("size"),fileType:this.getFileInformation("type")};return t.getFileUploadUrlAsync(b)},uploadFile:function(a){a={uploadUrl:a.uploadUrl,file:this.getFileInformation()};return t.uploadFileAsync(a)}});a.fileUploadObj.isCustomSlotTypeInModeVisible=!E;a.interactionModelVM={isCatalogDirty:!1,
models:{intentSchema:null},setIsCatalogDirty:function(a){this.isCatalogDirty=a},getIsCatalogDirty:function(){return this.isCatalogDirty},handleIntentSchemaChange:function(){var b=m.removeSpace(this.models.intentSchema);this.models.intentSchema&&(a.skill.setIntentSchema(m.isValidJSON(b)?JSON.stringify(JSON.parse(b),null,2):this.models.intentSchema,a.selectedLocale),a.handleInputChange())}};x()}])})(window.angular);define("AlexaSkill/Tabs/InteractionModel/AlexaSkillInteractionModelController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillTestController",["$scope","AlexaAppManagementAjax","AlexaAppManagementStorage","ASK_AppEditingConfig","CommonService","audioService",function(a,c,b,g,f,e){function k(a){return a?b.storeStages.enablement:b.storeStages.entitlement}a.AppEditingConfig=g;a.getNotificationTitle=function(){var b=a.AppEditingConfig.TESTING_TAB[k(a.skill.containsCustomType())];return a.skill.containsCustomType()&&a.tabStatus.testing!==a.stateEnum.VALID?b.HEADER_NOT_READY:
b.HEADER_READY};a.getCurrentAppEnabledStatusText=function(b){var c=a.skill.isEnabled(a.selectedLocale),d=a.AppEditingConfig.TESTING_TAB[k(a.skill.containsCustomType())];return b?c?d.TOGGLED_ON_LABEL:d.TOGGLED_OFF_LABEL:c&&a.appEnabledStatus?d.TOGGLED_ON:c&&!a.appEnabledStatus?d.TOGGLED_OFF_TRANSITION:!c&&a.appEnabledStatus?d.TOGGLED_ON_TRANSITION:d.TOGGLED_OFF};a.getExampleText=function(){var b=g.TESTING_TAB.HELP[a.skill.getSkillType()][a.selectedLocale];a.skill.containsCustomType()&&(b+=a.skill.getCustomInteractionModelInfo().invocationNameByLocale[a.selectedLocale]);
return b};a.showTextSimulator=function(){return a.skill.containsCustomType()&&a.appEnabledStatus};a.jsonEditorOptions={mode:{name:"javascript",json:!0},lint:!0,gutters:["CodeMirror-lint-markers"],lineNumbers:!0,matchBrackets:!0,autoCloseBrackets:!0,highlightSelectionMatches:!0,styleActiveLine:!0};a.onRequestJsonEditorLoad=function(a){var b=a.getDoc();a.setSize("100%",300);b.markClean()};a.onRequestJsonEditorLoadReadOnly=function(a){var b=a.getDoc();a.setSize("100%",300);a.setOption("readOnly",!0);
b.markClean()};a.onResponseJsonEditorLoadReadOnly=function(a){var b=a.getDoc();a.setSize("100%",261);a.setOption("readOnly",!0);b.markClean()};a.audioPlayerForVoiceTester=e.createAudioPlayer();a.audioPlayerForTextRequest=e.createAudioPlayer();a.audioPlayerForJsonRequest=e.createAudioPlayer();a.voiceTesterUserInput="";a.clearVoiceTesterUserInput=function(){a.voiceTesterUserInput=""};a.getVoiceButtonText=function(b){return a.isAudioPlaying(b)?a.AppEditingConfig.TESTING_TAB.SIMULATOR.VOICE.STOP:a.AppEditingConfig.TESTING_TAB.SIMULATOR.VOICE.LISTEN};
a.hasVoiceInput=function(){return a.voiceTesterUserInput&&0<a.voiceTesterUserInput.length};a.getVoiceInputType=function(a){return-1===a.indexOf("<speak>")?b.voiceInputTypes.plainText:b.voiceInputTypes.SSML};var d=a.AppEditingConfig.TESTING_TAB.SIMULATOR.LOADING_STATE.STOP;a.isVoiceSimulatorAudioLoading=function(){return d};a.setVoiceSimulatorLoadingStatus=function(){d=a.AppEditingConfig.TESTING_TAB.SIMULATOR.LOADING_STATE.START};a.clearVoiceSimulatorStatus=function(){d=a.AppEditingConfig.TESTING_TAB.SIMULATOR.LOADING_STATE.STOP};
var l=a.AppEditingConfig.TESTING_TAB.SIMULATOR.LOADING_STATE.STOP;a.isTextSimulatorAudioLoading=function(){return l};a.setTextSimulatorLoadingStatus=function(){l=a.AppEditingConfig.TESTING_TAB.SIMULATOR.LOADING_STATE.START};a.clearTextSimulatorStatus=function(){l=a.AppEditingConfig.TESTING_TAB.SIMULATOR.LOADING_STATE.STOP};a.audioPlayOrPause=function(a,b,c,d,e,f){b&&!a.isPlaying()?a.playTts(b,c,d,e,f):a.pause()};a.isAudioPlaying=function(a){return a.isPlaying()};a.isAudioPaused=function(a){return!a.isPlaying()};
a.isTextSimulatorAudioEnabled=function(){return a.simulatorEnabled()&&a.textSimulatorSpeechResponseText};a.isJsonSimulatorAudioEnabled=function(){return a.simulatorEnabled()&&a.jsonSimulatorSpeechResponseText};a.appEnabledStatus=a.skill.isEnabled(a.selectedLocale);a.skillTab.config({selectedMenuStep:a.menuSteps.testing,nextTab:a.menuSteps.publishingInfo,onAppLoaded:function(){a.appEnabledStatus=a.skill.isEnabled(a.selectedLocale)}});a.textSimulatorSpeechResponseText="";a.textSimulatorSpeechResponseType=
"";a.jsonSimulatorSpeechResponseText="";a.jsonSimulatorSpeechResponseType="";a.textInput="";a.initEndpoint=function(){var b=a.$watch("skill.skillInfo.skillDefinition.customInteractionModelInfo.endpointsByRegion",function(c){c&&(a.selectedEndpoint=a.skill.getDefaultEndpoint(),b())})};a.clearTextInput=function(){a.textInput=""};a.textRequest="";a.textResponse="";a.jsonRequest="";a.jsonResponse="";a.previousSession=null;a.isLoading=!1;a.isTextTabSelected=!0;a.isJsonTabSelected=!1;a.LoadTextTab=function(){return a.isTextTabSelected};
a.LoadJsonTab=function(){return a.isJsonTabSelected};a.SetTextStatus=function(b){b.preventDefault();a.isTextTabSelected=!0;a.isJsonTabSelected=!1};a.SetJsonStatus=function(b){b.preventDefault();a.isTextTabSelected=!1;a.isJsonTabSelected=!0};a.simulatorEnabled=function(){return a.skill.isEnabled(a.selectedLocale)&&a.skill.skillInfo.stage===b.appStages.dev&&!a.isLoading};a.NullReplacer=function(a,b){return null===b?void 0:b};a.handleTextInput=function(){a.SetLoadImageStatus();a.isLoading=!0;c.invokeSkillWithTextAsync({endpointRegion:a.selectedEndpoint.region,
text:a.textInput,applicationId:a.skill.skillInfo.skillId,locale:a.selectedLocale,session:a.previousSession}).then(function(c){f.clearLoadingMessage();f.clearStatus();a.textSimulatorSpeechResponseText="";a.textSimulatorSpeechResponseType="";a.textRequest=c.invalidNLUResponse?a.AppEditingConfig.TESTING_TAB.SIMULATOR.INVALID_NLU_RESPONSE_ERROR:JSON.stringify(c.edwSkillRequestData,a.NullReplacer,"  ");if(c.remoteClientException||c.isExitRequested||c.invalidNLUResponse)a.textResponse=c.statusText;else if(a.textResponse=
JSON.stringify(c.edwSkillResponse,a.NullReplacer,"  "),c.edwSkillResponse&&c.edwSkillResponse.response&&c.edwSkillResponse.response.outputSpeech){var d=c.edwSkillResponse.response.outputSpeech;d&&(a.textSimulatorSpeechResponseType=d.type,a.textSimulatorSpeechResponseText=a.textSimulatorSpeechResponseType===b.voiceInputTypes.SSML?d.ssml:d.text)}a.clearLoadImageStatus();a.isLoading=!1;c.edwSkillResponse.response.shouldEndSession?a.previousSession=null:(a.previousSession=c.edwSkillRequestData.session,
a.previousSession.attributes=c.edwSkillResponse.sessionAttributes)},function(b){a.textRequest="";a.textResponse="";a.clearLoadImageStatus();a.isLoading=!1;a.skillTab.handleErrorAndFocus(b)})};a.handleJsonInput=function(){try{a.jsonRequest=f.cleanJSON(a.jsonRequest),h.fromJson(a.jsonRequest)}catch(d){a.jsonResponse=g.VALID_JSON;return}var e=a.jsonRequest;a.SetLoadImageStatus();a.isLoading=!0;c.invokeSkillAsync({endpointRegion:a.selectedEndpoint.region,intentRequest:JSON.stringify(JSON.parse(e)),applicationId:a.skill.skillInfo.skillId,
locale:a.selectedLocale,session:a.session}).then(function(c){f.clearLoadingMessage();f.clearStatus();a.jsonSimulatorSpeechResponseText="";a.jsonSimulatorSpeechResponseType="";if(c.remoteClientException||c.isExitRequested)a.jsonResponse=c.statusText;else if(a.jsonResponse=JSON.stringify(c.edwSkillResponse,null,"  "),c.edwSkillResponse&&c.edwSkillResponse.response&&c.edwSkillResponse.response.outputSpeech&&(c=c.edwSkillResponse.response.outputSpeech))a.jsonSimulatorSpeechResponseType=c.type,a.jsonSimulatorSpeechResponseText=
a.jsonSimulatorSpeechResponseType===b.voiceInputTypes.SSML?c.ssml:c.text;a.clearLoadImageStatus();a.isLoading=!1},function(b){a.jsonResponse="";a.clearLoadImageStatus();a.isLoading=!1;a.skillTab.handleErrorAndFocus(b)})};a.handleEnter=function(b){13===b.keyCode&&(a.isTextTabSelected?a.handleTextInput():a.handleJsonInput())};a.handleReset=function(){a.isTextTabSelected?(a.textInput="",a.textRequest="",a.textResponse="",a.previousSession=null,a.textSimulatorSpeechResponseText="",a.textSimulatorSpeechResponseType=
""):(a.jsonRequest="",a.jsonResponse="",a.jsonSimulatorSpeechResponseText="",a.jsonSimulatorSpeechResponseType="")};var q=a.AppEditingConfig.TESTING_TAB.SIMULATOR.LOADING_STATE.STOP;a.LoadImage=function(){return q};a.SetLoadImageStatus=function(){q=a.AppEditingConfig.TESTING_TAB.SIMULATOR.LOADING_STATE.START};a.clearLoadImageStatus=function(){q=a.AppEditingConfig.TESTING_TAB.SIMULATOR.LOADING_STATE.STOP};a.getEndPointText=function(){return a.skill.getEndpointByRegion(b.regions.NA)&&a.skill.getEndpointByRegion(b.regions.NA).type===
b.endpointTypes.lambda?a.AppEditingConfig.TESTING_TAB.SIMULATOR.LAMBDA_TEXT:a.AppEditingConfig.TESTING_TAB.SIMULATOR.HTTPS_TEXT};a.getRequestText=function(){return a.skill.getEndpointByRegion(b.regions.NA)&&a.skill.getEndpointByRegion(b.regions.NA).type===b.endpointTypes.lambda?a.AppEditingConfig.TESTING_TAB.SIMULATOR.REQUEST.LAMBDA_REQUEST:a.AppEditingConfig.TESTING_TAB.SIMULATOR.REQUEST.HTTP_REQUEST};a.getResponseText=function(){return a.skill.getEndpointByRegion(b.regions.NA)&&a.skill.getEndpointByRegion(b.regions.NA).type===
b.endpointTypes.lambda?a.AppEditingConfig.TESTING_TAB.SIMULATOR.RESPONSE.LAMBDA_RESPONSE:a.AppEditingConfig.TESTING_TAB.SIMULATOR.RESPONSE.HTTP_RESPONSE};a.syncApplicationEnabledStatus=function(){var b=a.skill.isEnabled(a.selectedLocale);a.appEnabledStatus&&!b?(a.skillTab.disableEditing(),a.skillTab.setLoadingMessage(a.AppEditingConfig.ACTION_MESSAGES.APP_ENABLE.LOADING),a.skill.enableAsync(a.selectedLocale).then(function(){a.skillTab.enableEditing();a.skillTab.setSuccessMessage(a.AppEditingConfig.ACTION_MESSAGES.APP_ENABLE.SUCCESS)},
function(c){a.appEnabledStatus=b;a.skillTab.enableEditing();a.skillTab.handleError(c)})):!a.appEnabledStatus&&b&&(a.skillTab.disableEditing(),a.skillTab.setLoadingMessage(a.AppEditingConfig.ACTION_MESSAGES.APP_DISABLE.LOADING),a.skill.disableAsync(a.selectedLocale).then(function(){a.skillTab.enableEditing();a.skillTab.setSuccessMessage(a.AppEditingConfig.ACTION_MESSAGES.APP_DISABLE.SUCCESS)},function(c){a.appEnabledStatus=b;a.skillTab.enableEditing();a.skillTab.handleError(c)}))}}])})(window.angular);
define("AlexaSkill/Tabs/Test/AlexaSkillTestController",function(){});(function(h){h.module("AlexaSkillModule").controller("AlexaSkillHomeControllerV1",["$scope","$state","ASK_AppListingConfig","ASK_ROUTE_STATE","$interval",function(a,c,b,g,f){a.AppListingConfig=b;a.goToSkillsList=function(){c.go(g.Home+"."+g.HomeTabs.list)};a.goToAnalytics=function(){c.go(g.Home+"."+g.HomeTabs.analytics)};a.createNewApplication=function(){c.go(g.CreateSkill+".newSkill")};f(a.goToSkillsList,0,1)}])})(window.angular);
define("AlexaSkill/metricsv1/AlexaSkillHomeController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillAnalyticsControllerV1",["$rootScope","$scope","CommonService","ASK_AnalyticsConfigV1","ASK_LocalesBySkillType","ASK_LocaleMap","AlexaAppManagementAjax","AlexaAppManagementStorage","MomentService","Utils",function(a,c,b,g,f,e,k,d,l,q){function n(a){var b=[];h.forEach(c.allAppDetails,function(c){h.equals(c.stage.toUpperCase(),a.toUpperCase())&&b.push(c.id)});return b}function m(a){if(!a)return[];for(var b=[],c=0;c<d.properties.skills.length;c++){var e=
d.properties.skills[c];if(e.containsCustomType()&&h.equals(e.skillInfo.stage.toUpperCase(),a.toUpperCase())){var f=e.skillInfo.skillId,g=r(e),k=e.skillInfo.stage,e='<img src="'+e.getAppIconUrl(d.defaultLocale)+'"/>';b.push({id:f,stage:k,name:g,icon:e,ticked:!0})}}return b}function r(a){var b=a.getLocalizedPublishingInfo(d.defaultLocale);b||(b=a.getLocalizedPublishingInfo(Object.keys(a.skillInfo.skillDefinition.multinationalPublishingInfo.publishingInfoByLocale)));return b?b.name:"Error Retrieving Name"}
function t(a,b){var d="";h.forEach(c.allAppDetails,function(b){h.equals(b.id,a)&&(d=b.name)});return b?d+' - <font color="red">No data found.</font>':d}function p(){var a="Development";h.forEach(c.allAppDetails,function(b){h.equals(b.stage.toUpperCase(),"LIVE")&&(a="Live")});return a}function u(){var a=[];h.forEach(g.ANALYTICS_AVAILABLE_REPORT_NAMES,function(b,d){var e={};e.reportName=d;e.appStageName=c.selectedStageName.toLowerCase();e.appIdList=n(c.selectedStageName);a.push(e)});return a}function y(){c.skillSelectorInputModel=
[];var a=m(c.selectedStageName);h.forEach(g.ANALYTICS_AVAILABLE_REPORT_NAMES,function(b,d){c.skillSelectorInputModel.push(h.copy(a))})}function D(){c.skillSelectorOutputModel=[];var a=n(c.selectedStageName),b=[];h.forEach(a,function(a,c){b.push({id:a})});h.forEach(g.ANALYTICS_AVAILABLE_REPORT_NAMES,function(a,d){c.skillSelectorOutputModel.push(h.copy(b))})}function v(a,b){var d=!1;h.forEach(c.skillSelectorOutputModel[b],function(b,c){b.id===a&&(d=!0)});return d}function x(a,b,c){var d={chart:{zoomType:"x"},
title:{useHTML:!0,text:g.ANALYTICS_AVAILABLE_REPORT_NAMES[b]+" "+'<div class="ToolTipBottom"><IMG class="tooltipImg" src="/edw/res/images/tooltip.png" /><span class="ToolTip_Text"> %s </span></div>'.replace("%s",g.ANALYTICS_AVAILABLE_REPORT_TOOLTIP_TEXTS[b])},subtitle:{text:g.ANALYTICS_CHART_SUBTITLE_TEXT},xAxis:{type:"datetime"},yAxis:{min:0},credits:{enabled:!1},width:"100%",legend:{align:"center",verticalAlign:"bottom",borderWidth:0,useHTML:!0},tooltip:{headerFormat:"<b>{series.name}</b><br>",
pointFormat:"{point.x:%Y-%b-%e %H:%M}, {point.y:.0f}"},series:[]};h.forEach(a.skillsAnalyticsData,function(a,b){var e=!1,f=[];0===Object.keys(a.sortedAnalyticsData).length&&(e=!0);h.forEach(a.sortedAnalyticsData,function(a,b){f.push({x:b,y:a})});e={id:b,name:t(b,e),showInLegend:!0,type:"line",data:f,visible:v(b,c),turboThreshold:0,events:{legendItemClick:function(){return!1}}};d.series.push(e)});return d}c.AnalyticsConfig=g;c.$on("$destroy",function(){$(".daterangepicker").remove()});c.$on("$viewContentLoaded",
function(){$(".daterangepicker").hide();var b=a.$on(d.refreshAppInfosEventDone,function(){if(c.$parent){b();for(var a=c.$parent,e=[],f=0;f<d.properties.skills.length;f++){var g=d.properties.skills[f];if(g.containsCustomType()){var h=g.skillInfo.skillId,k=r(g),l=g.skillInfo.stage,g='<img src="'+g.getAppIconUrl(d.defaultLocale)+'"/>';e.push({id:h,stage:l,name:k,icon:g,ticked:!0})}}a.allAppDetails=e;c.$parent.selectedStageName=p();c.$parent.previousSelectedStageName=p();c.reportsRequestResponse.request.reportMetaDataList=
u();c.updateEngagementMetrics();y();D()}});d.refreshAppInfos()});c.ChocolateLocaleArray=q.chocolateSelectDataFromObjectProperties(e).filter(function(a){return-1!=f.Custom.indexOf(a.value)});e=l().utc().subtract(g.ANALYTICS_DEFAULT_DISPLAY_HOURS_OFFSET,"hours").startOf("hour");c.selectedEndTimeInterval=e.format("YYYY-MM-DD HH:00");c.selectedStartTimeInterval=e.subtract(g.ANALYTICS_DEFAULT_HOURS_TO_DISPLAY,"hours").format("YYYY-MM-DD HH:00");c.reportsRequestResponse={request:{aggregationPeriodInMinutes:60,
startTimestamp:1E3*l.utc(c.selectedStartTimeInterval).unix(),endTimestamp:1E3*l.utc(c.selectedEndTimeInterval).unix(),locale:"",reportMetaDataList:[]},response:[]};c.dateTimeRangePickerProperties={startDate:l.unix(c.reportsRequestResponse.request.startTimestamp/1E3).utc(),endDate:l.unix(c.reportsRequestResponse.request.endTimestamp/1E3).utc(),ranges:{Today:[l().utc().startOf("day"),l().utc().startOf("hour")],Yesterday:[l().utc().subtract(1,"days").startOf("day"),l().utc().startOf("day")],"Last 7 Days":[l().utc().subtract(6,
"days").startOf("day"),l().utc().startOf("hour")],"Last 30 Days":[l().utc().subtract(29,"days").startOf("day"),l().utc().startOf("hour")],"This Month":[l().utc().startOf("month"),l().utc().startOf("hour")],"Last Month":[l().utc().subtract(1,"month").startOf("month"),l().utc().subtract(1,"month").endOf("month")]},timePicker:!0,timePickerIncrement:60,locale:{format:"YYYY-MM-DD HH:00"}};c.onDateTimeRangeChange=function(a,b){c.selectedStartTimeInterval=a;c.selectedEndTimeInterval=b;c.reportsRequestResponse.request.startTimestamp=
1E3*l(a).unix();c.reportsRequestResponse.request.endTimestamp=1E3*l(b).unix()};c.updateSkillStage=function(){h.forEach(c.reportsRequestResponse.request.reportMetaDataList,function(a,b){c.reportsRequestResponse.request.reportMetaDataList[b].appStageName=c.selectedStageName;c.reportsRequestResponse.request.reportMetaDataList[b].appIdList=n(c.selectedStageName)})};c.updateEngagementMetrics=function(){b.clearStatus();0===c.reportsRequestResponse.request.reportMetaDataList[0].appIdList.length?(c.reportsRequestResponse.response=
[],b.setStatus(b.statusType.error,"Error: You do not have any skill in "+c.selectedStageName+" stage.")):(b.setLoadingMessage(g.ANALYTICS_LOADING_TEXT),k.getAnalyticsDataV1Async(c.reportsRequestResponse.request).then(function(a){h.equals(c.previousSelectedStageName,c.selectedStageName)||(y(),D());c.previousSelectedStageName=c.selectedStageName;b.clearLoadingMessage();a=a.skillAnalyticsData;c.reportsRequestResponse.response=[];var d=0;h.forEach(a,function(a,b){c.reportsRequestResponse.response.push({chartConfig:x(a,
b,d)});d++;c.MaxDataAvailableTimestamp=l(a.maxUtteranceDateTimeUTC).utc().format("YYYY-MM-DD HH:mm z")})},function(a){b.clearLoadingMessage();a.exception?b.setStatus(a.sessionExpired?b.statusType.sessionExpired:b.statusType.error,"Error: "+a.message,a.stackTrace):b.setStatus(b.statusType.error,"Error: "+a);c.reportsRequestResponse.response=[]}))};c.updateChartSeries=function(a){var b=c.skillSelectorOutputModel[a];h.forEach(c.reportsRequestResponse.response[a].chartConfig.series,function(a,c){var d=
!1;h.forEach(b,function(b){h.equals(b.id,a.id)&&(d=!0)});a.visible=d})}}])})(window.angular);define("AlexaSkill/Analytics/metricsv1/AlexaSkillAnalyticsController",function(){});
(function(h){h.module("AlexaSkillModule").controller("AlexaSkillListControllerV1",["$rootScope","$scope","$state","$window","AlexaAppManagementStorage","AlexaAppIconCache","CommonService","Utils","ASK_AppListingConfig","ASK_ROUTE_STATE",function(a,c,b,g,f,e,h,d,l,q){function n(a){a?h.setLoadingMessage(l.LOADING_TEXT):(h.clearLoadingMessage(),f.properties.exception?h.setStatus(h.statusType.error,"Error: "+f.properties.exception.message,f.properties.exception.stackTrace):h.clearStatus())}c.EDW_CONFIG=
window.EDW_CONFIG;c.AppListingConfig=l;c.isV1=!0;c.getStageTooltip=function(a){switch(a.skillInfo.stage){case f.appStages.live:return l.LIVE_STAGE_TOOLTIP;case f.appStages.cert:return l.CERT_STAGE_TOOLTIP;case f.appStages.dev:return l.DEV_STAGE_TOOLTIP;default:return l.DEV_STAGE_TOOLTIP}};c.visibleListItems=[];var m=a.$on(f.refreshAppInfosEventDone,function(){var a;m();n(f.properties.isRefreshingAppInfos);a=d.combineSkillData(f.properties.skills);Object.keys(a).forEach(function(b){function d(a,b){var g=
a.getAssignedLocales(),h=g[0];return{expandable:!b&&1<e.length,primary:!b||!1,skill:a,locale:1<g.length?g:h,skillId:a.skillInfo.skillId,stage:a.skillInfo.stage,id:a.skillInfo.skillId+a.skillInfo.stage,iconSrc:a.getAppIconUrl(h),name:a.getLocalizedPublishingInfo(h).name,type:f.skillDisplayTypes[a.getSkillType()],lastUpdatedTime:a.skillInfo.lastUpdatedTime,showSubItems:!1,stageText:a.getStageText(),stageToolTip:c.getStageTooltip(a),readOnly:a.skillInfo.readOnly}}b=a[b];var e=Object.keys(b).sort(function(a){return a===
f.appStages.live?-1:1}),g=b[e[0]],h=d(g);e[1]&&(g=b[e[1]],h.subListItem=d(g,!0));c.visibleListItems.push(h)})});f.clearConfirmationState();f.refreshAppInfos({skipAppIconRefreshing:!0});n(f.properties.isRefreshingAppInfos);c.toggleAppStages=function(a,b){b.stopPropagation();a.expandable&&(a.showSubItems=!a.showSubItems)};c.parseLocales=function(a){return"string"===typeof a?c.AppListingConfig.LOCALE_MAP[a]:a.map(function(a){return c.AppListingConfig.LOCALE_MAP[a]}).join(", ")};c.editApp=function(a,
d){var e="string"!==typeof a.locale?a.locale[0]:a.locale,g=q.EditSkill;d.stopPropagation();c.setActiveTab(e);a.stage===f.appStages.live&&(g=q.LiveSkill);a.stage===f.appStages.cert&&(g=q.CertSkill);return b.go(g+".info",{appId:a.skillId,locale:e})};c.hasLiveVersion=function(a){return f.isApplicationStageExist(a.skillId,f.appStages.live,"string"!==typeof a.locale?a.locale[0]:a.locale)};c.showDeleteButton=function(a){return a.stage===a.skill.appStages.dev&&a.primary&&!c.hasLiveVersion(a)&&!a.readOnly};
c.setActiveTab=function(a){var b;if(a){a="string"!==typeof a?a[0]:a;for(b in f.activeTab)f.activeTab.hasOwnProperty(b)&&(f.activeTab[b]=!1);f.activeTab.hasOwnProperty(a)&&(f.activeTab[a]=!0)}};c.$on("$routeChangeError",function(){g.location.reload()});c.getAppIconUrl=function(a){e.fetchApplicationIcon(a,f.defaultLocale);return a.getAppIconUrl(f.defaultLocale)};c.showDeleteConfirmation=function(a,b){function d(){h.clearLoadingMessage();h.clearStatus()}var e="string"!==typeof a.locale?a.locale[0]:a.locale;
b.stopPropagation();h.showConfirmationBox(l.CONFIRMATION_MESSAGE_BOX.TITLE,l.CONFIRMATION_MESSAGE_BOX.MESSAGE(a.name),[{optionName:l.MESSAGE_BOX_BUTTONS.DELETE,eventHandler:function(){d();h.setLoadingMessage(l.DELETING_TEXT);c.$parent.disableActionButtons=!0;f.deleteApplicationAsync(a.skill,e).then(function(){c.visibleListItems.forEach(function(b,d){a.id===b.id&&c.visibleListItems.splice(d,1)});d();h.setStatus(h.statusType.success,"Successfully deleted");c.$parent.disableActionButtons=!1},function(a){d();
h.showError(a);c.$parent.disableActionButtons=!1})}},{optionName:l.MESSAGE_BOX_BUTTONS.CANCEL}])}}])})(window.angular);define("AlexaSkill/List/metricsv1/AlexaSkillListController",function(){});
(function(h){h.module("AlexaSkillModule").constant("ASK_AnalyticsConfigV1",{ANALYTICS_LOADING_TEXT:"Loading skills metrics data..",ANALYTICS_CHART_SUBTITLE_TEXT:"Click and drag in the plot area to zoom in",ANALYTICS_SKILL_SELECT_LABEL:"Choose Alexa Skill(s):",ANALYTICS_TIME_INTERVAL_LABEL:"Time Interval (UTC)",ANALYTICS_AGGREGATION_PERIOD_LABEL:"Aggregation Period",ANALYTICS_AGGREGATION_PERIOD_KEYS:["Hourly","Daily","Weekly"],ANALYTICS_AGGREGATION_PERIOD_VALUES:{Hourly:60,Daily:1440,Weekly:10080},
ANALYTICS_UPDATE_METRICS_BUTTON_TEXT:"Update",ANALYTICS_SKILL_STAGE_LABEL:"Skill Stage",ANALYTICS_SKILL_LOCALE_LABEL:"Language",ANALYTICS_SKILL_STAGE_VALUES:["Live","Development"],ANALYTICS_AVAILABLE_REPORT_NAMES:{TOTAL_UTTERANCE_COUNT:"Total Utterance Count",UNIQUE_CUSTOMER_COUNT:"Unique Customers Count"},ANALYTICS_AVAILABLE_REPORT_TOOLTIP_TEXTS:{TOTAL_UTTERANCE_COUNT:"Plot of total number of utterance requests sent to your service in the selected time range, aggregated on the selected period.",
UNIQUE_CUSTOMER_COUNT:"Plot of total number of unique customers using your skill in the selected time range, aggregated on the selected period."},ANALYTICS_LOCALE_PLACEHOLDER_TEXT:"Select a Language",ANALYTICS_CUSTOM_SKILL_CLARIFICATION_MESSAGE:"Skill Metrics data is only available for Custom Skills. Smart Home and Flash Briefing Skills will not appear in metrics.",ANALYTICS_CUSTOM_SKILL_AVAIL_MESSAGE:{render:function(a){return'The Skill Metrics data is available until <span class="ask-skill-metrics-date">'+
a+"</span> for Custom skills invoked via Amazon Echo device."}},ANALYTICS_DEFAULT_HOURS_TO_DISPLAY:48,ANALYTICS_DEFAULT_DISPLAY_HOURS_OFFSET:2})})(window.angular);define("AlexaSkill/Analytics/metricsv1/AlexaSkillAnalyticsConstants",function(){});(function(h){h.module("CommonModule").directive("askSkillListItemV1",function(){return{replace:!0,restrict:"E",scope:{visibleListItems:"="},templateUrl:"/edw/res/js/Views/Components/SkillListItemV1/SkillListItemV1.view"}})})(window.angular);
define("Components/SkillListItemV1/SkillListItemV1",function(){});
(function(h){var a={Home:"AVS",CreateDevice:"avsCreateDevice",EditDevice:"avsEditDevice",CreateApp:"avsCreateApp",EditApp:"avsEditApp",Tabs:{Info:"info",Details:"details",SecurityProfile:"sp",AlexaSkills:"alexaSkills"},SecurityProfileSettings:{General:"general",Web:"web",IOS:"ios",Android:"android"}},c={Device:"Device",Application:"Application"};h.module("AVSModule",["ngCookies","ui.router","CommonModule","ngSanitize"]).config(["$stateProvider",function(b){function g(a){return{isCreateMode:function(){return a.isCreateMode},
productType:function(){return a.productType},rootState:function(){return a.rootState}}}function f(c,f,d){b.state(c,{url:f,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/AVSEdit.view",controller:"AVSEditController",redirectTo:c+"."+a.Tabs.Info,resolve:d}).state(c+"."+a.Tabs.Info,{url:"/"+a.Tabs.Info,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/AVSProductInfo.view",controller:"AVSProductInfoController"}).state(c+"."+a.Tabs.Details,{url:"/"+a.Tabs.Details,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/AVSProductDetails.view",
controller:"AVSProductDetailsController"}).state(c+"."+a.Tabs.AlexaSkills,{url:"/"+a.Tabs.AlexaSkills,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/AVSAlexaSkills.view",controller:"AVSAlexaSkillsController"}).state(c+"."+a.Tabs.SecurityProfile,{url:"/"+a.Tabs.SecurityProfile,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/SecurityProfile/AVSSecurityProfile.view",redirectTo:c+"."+a.Tabs.SecurityProfile+"."+a.SecurityProfileSettings.General,controller:"AVSSecurityProfileController",
resolve:{securityProfileRootState:function(){return c+"."+a.Tabs.SecurityProfile}}}).state(c+"."+a.Tabs.SecurityProfile+"."+a.SecurityProfileSettings.General,{url:"/"+a.SecurityProfileSettings.General,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsGeneral.view",controller:"AVSSPSettingsGeneralController"}).state(c+"."+a.Tabs.SecurityProfile+"."+a.SecurityProfileSettings.Web,{url:"/"+a.SecurityProfileSettings.Web,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsWeb.view",
controller:"AVSSPSettingsWebController"}).state(c+"."+a.Tabs.SecurityProfile+"."+a.SecurityProfileSettings.Android,{url:"/"+a.SecurityProfileSettings.Android,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsAndroid.view",controller:"AVSSPSettingsAndroidController"}).state(c+"."+a.Tabs.SecurityProfile+"."+a.SecurityProfileSettings.IOS,{url:"/"+a.SecurityProfileSettings.IOS,templateUrl:"/edw/res/js/Views/AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsIOS.view",
controller:"AVSSPSettingsIOSController"})}b.state(a.Home,{url:"/avs/list",templateUrl:"/edw/res/js/Views/AlexaVoiceService/List/AVSList.view",controller:"AVSListController"});f(a.CreateDevice,"/avs/device/create",g({isCreateMode:!0,productType:c.Device,rootState:a.CreateDevice}));f(a.EditDevice,"/avs/device/:productId/edit",g({isCreateMode:!1,productType:c.Device,rootState:a.EditDevice}));f(a.CreateApp,"/avs/app/create",g({isCreateMode:!0,productType:c.Application,rootState:a.CreateApp}));f(a.EditApp,
"/avs/app/:productId/edit",g({isCreateMode:!1,productType:c.Application,rootState:a.EditApp}))}]).constant("AVS_ROUTE_STATE",a).constant("AVS_PRODUCT_TYPE",c)})(window.angular);define("AlexaVoiceService/AVSModule",function(){});
(function(h){angular.module("AVSModule").constant("AVS_ProductListingConfig",{LIST_PAGE_HEADER:"Register your product with Alexa Voice Service",ADD_NEW_PRODUCT_BUTTON_TEXT:"Register a Product Type",GETTING_STARTED_HEADER:"Getting Started",GETTING_STARTED_FIRST_LINE_TEXT:'1) Learn how to Alexa-enable your devices or application by reading our <b><a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-voice-service/getting-started-with-the-alexa-voice-service" target="_blank" class="tocLinks">Getting Started Guide.</a><b>',GETTING_STARTED_SECOND_LINE_TEXT:"2) If you are a <b>device manufacturer</b>, choose <b><i>Register a Product Type > Device</i></b>  to start enabling Alexa on your device.",
GETTING_STARTED_THIRD_LINE_TEXT:"3) If you are an <b>application developer</b>, choose <b><i>Register a Product Type > Application</i></b> to start enabling Alexa in your app.",TABLE_PRODUCT_NAME_ROW_TITLE:"Display Name",TABLE_PRODUCT_ID_ROW_TITLE:"ID",TABLE_PRODUCT_TYPE_ROW_TITLE:"Type",TABLE_PRODUCT_CATEGORY_ROW_TITLE:"Category",TABLE_ACTIONS_ROW_TITLE:"Actions",EDIT_BUTTON_TEXT:"Edit",LOADING_TEXT:"Refreshing...",PRODUCT_TYPE_DEVICE:"Device",PRODUCT_TYPE_APPLICATION:"Application",PRODUCT_LIST_HEADER:"Registered Products",
AVS_GSP:'<a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-voice-service/getting-started-with-the-alexa-voice-service" target="_blank" class="tocLinks">Getting started</a>',AVS_TOC:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Alexa Voice Service Agreement" target="_blank" class="tocLinks">AVS Agreement</a>',AVS_REQ:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Alexa Voice Service Program Requirements" target="_blank" class="tocLinks">AVS Program Requirements</a>',
AVS_CONTENT_REQ:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Additional Alexa Voice Service Content Requirements" target="_blank" class="tocLinks">AVS Content Requirements</a>'}).constant("AVS_ProductEditingConfig",{DEFAULT_IMAGE:"/edw/res/images/no-icon.png",PRODUCT_REGISTRATION_HEADER:function(a){return"Create a new "+a+" Type"},REQUIRED_FIELDS_TEXT:" Fields required",AVS_GSP:'<a href="https://developer.amazon.com/appsandservices/solutions/alexa/alexa-voice-service/getting-started-with-the-alexa-voice-service" target="_blank" class="tocLinks">Getting started</a>',
AVS_TOC:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Alexa Voice Service Agreement" target="_blank" class="tocLinks">AVS Agreement</a>',AVS_REQ:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Alexa Voice Service Program Requirements" target="_blank" class="tocLinks">AVS Program Requirements</a>',AVS_CONTENT_REQ:'<a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/support/terms-and-agreements#Additional Alexa Voice Service Content Requirements" target="_blank" class="tocLinks">AVS Content Requirements</a>',
BACK_TO_PRODUCTS_LINK_TEXT:"< Back to the list",SAVE_BUTTON_TEXT:"Save",NEXT_BUTTON_TEXT:"Next",SUBMIT_BUTTON_TEXT:"Submit",UPDATE_PRODUCT:{LOADING_MESSAGE:function(a){return"Please wait while updating the"+a.toLowerCase()+"..."},SUCCESS_MESSAGE:function(a){return"Successfully updated the "+a.toLowerCase()+"..."}},PRODUCT_VALIDATION_ERROR:{MUST_HAVE_DESCRIPTION:"Please provide a Description.",DESCRIPTION_TOO_LONG:"Description is too long.",MUST_HAVE_CATEGORY:"Please select a Category.",MUSIC_PROVIDER_ANSWER_MISSING:"Please answer all the questions above.",
MUST_HAVE_COMMERCIALIZATION_TIMELINE:"Please select the timeline for commercialization.",MUST_HAVE_COMMERCIALIZATION_SIZE:"Please specify number of users you are targetting.",MUST_HAVE_COPPA_COMPLIANCE:"Please indicate if your product is directed to children under the age of 13."},CREATE_PRODUCT_LOADING_MESSAGE:function(a){return"Please wait while creating the new "+a.toLowerCase()+"..."},LOADING_MESSAGE:"Please wait while fetching information",SAVE_MESSAGE_BOX:{TITLE:"Save changes",TEXT:"Do you want to save changes before leaving the current tab?"},
MESSAGE_BOX_BUTTONS:{SAVE:"Save",DISCARD:"Discard",CANCEL:"Cancel"},PRODUCT_INFO_TAB:{NAME:function(a){return a+" Type Info"},COMPANY_NAME:{LABEL:"Company Name",BRIEF_DESCRIPTION:function(a){return"The name of the company you listed in your developer account profile."}},PRODUCT_ID:{LABEL:function(a){return a+" Type ID"},BRIEF_DESCRIPTION:function(a){return"Choose a unique name that identifies your "+a.toLowerCase()+". This name will not be shown to end users.  It may only contain letters, numbers and underscores."}},
DISPLAY_NAME:{LABEL:"Display Name",BRIEF_DESCRIPTION:function(a){return"Choose "+("Device"===a?"a ":"an ")+a.toLowerCase()+" name that you want shown to your end users when they register their "+a.toLowerCase()+"s with Amazon."}},VALIDATE_ID:{LOADING:function(a){return"Validating "+a+" Type ID..."},ALREADY_EXISTS:function(a){return a+" Type ID already exists, please use a different one."},SUCCESS:""}},SECURITY_PROFILE_TAB:{SAVE:{UPDATE_MESSAGE:"Please wait while updating security profile...",UPDATE_SUCCESS_MESSAGE:"Successfully updated security profile.",
CREATE_MESSAGE:"Please wait while creating security profile...",CREATE_SUCCESS_MESSAGE:"Successfully created security profile."},LOADING_MESSAGE:"Please wait while fetching security profiles...",VALIDATION_ERROR:"You must select an existing security profile or create a new one.",NAME:"Security Profile",TEXT:"To use an existing Amazon Developer security profile or create a new one, select it below.",NOTICE:function(a){return"<b>You need a security profile to identify your "+a.toLowerCase()+". Your security profile credentials - client ID and client secret - allow your "+
a.toLowerCase()+' to securely identify itself to the Alexa Voice Service.  If you are building a website, click here to <a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/docs/authorizing-your-alexa-enabled-product-from-a-website" target="_blank" class="tocLinks">Learn More</a>. If you are building an Android or iOS app, click here to <a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/docs/authorizing-your-alexa-enabled-product-from-an-android-or-ios-mobile-app" target="_blank" class="tocLinks">Learn More</a></b>.<br>'},
PROFILE:{LABEL:"Security Profile",BRIEF_DESCRIPTION:function(a){return"A security profile is how Amazon identifies your "+a.toLowerCase()+"."},TOOLTIP:function(a){return"A security profile is how Amazon identifies your "+a.toLowerCase()+". If you use the same security profile for multiple "+a.toLowerCase()+"s, they will share the same set of security permissions."}},ALLOWED_ORIGINS:{LABEL:"Allowed Origins",BRIEF_DESCRIPTION:"Your website origin, when using Login with Amazon.",TOOLTIP:"If your website will use the Login with Amazon SDK for Javascript, add your website origin here \u2013 a combination of protocol, domain name and port (for example: https://www.example.com:8443).  Origins must use the HTTPS protocol. If you are using standard port 443, you only need to include the domain name (for example: https://www.example.com)."},
ALLOWED_RETURN_URLS:{LABEL:"Allowed Return URLs",BRIEF_DESCRIPTION:"If you make HTTPs calls to Login with Amazon with redirect_uris, specify them here.",TOOLTIP:"If your website will be making HTTPS calls to Login with Amazon and specifying redirect_uri values for replies, add those URIs to this list. The Return URL must include the protocol, domain, path and query string, and the Return URL protocol must be HTTPS. An example is https://www.example.com/login.php."},GENERAL:{LABEL:"General",FIELDS:{PROFILE_NAME:{LABEL:"Security Profile Name",
BRIEF_DESCRIPTION:function(a){return"Choose a name for your security profile."}},DESCRIPTION:{LABEL:"Security Profile Description",BRIEF_DESCRIPTION:"Choose a description for your security profile for Amazon services to use in communicating with you."},PROFILE_ID:{LABEL:"Security Profile ID",BRIEF_DESCRIPTION:"This ID will identify your security profile in Amazon services."},CLIENT_ID:{LABEL:"Client ID",BRIEF_DESCRIPTION:"This is a value specific to you that is assigned to you when you register with Login with Amazon.",
TOOLTIP:"Your Client ID is assigned to you when you register with Login with Amazon. It is used in combination with your Client Secret to verify your identity then you request an authorization grant from the authorization service. Your Client ID is not secret."},CLIENT_SECRET:{LABEL:"Client Secret",BRIEF_DESCRIPTION:"This is a secret specific to you that is assigned to you when you register with Login with Amazon. Confidential.",TOOLTIP:"Your Client Secret is assigned at the same time as your Client ID and is used in combination with your client ID to verify your identity. You must keep your client secret confidential."},
CONSENT_URL:{LABEL:"Consent Privacy Notice URL",BRIEF_DESCRIPTION:"Enter a link where customers can find your Privacy Notice or Privacy Policy. Use a full URL starting with http:// or https://.",TOOLTIP:"This is a link where customers can find your Privacy Notice or Privacy Policy.  It will be displayed on the user consent screen. Use a full URL starting with http:// or https://."},CONSENT_LOGO:{LABEL:"Consent Logo Image",BRIEF_DESCRIPTION:function(a){return"Choose a logo to represent your "+a.toLowerCase()+
". Size 108 x 108 pixels, in PNG format"},TOOLTIP:function(a){return"Choose a logo in PNG format to represent your "+a.toLowerCase()+". It will be displayed on the permissions screen when the user has not yet consented."}}}},WEB:{LABEL:"Web Settings"},IOS:{LABEL:"iOS Settings",BRIEF_DESCRIPTION:"Settings for iOS development.",TEXT:'An API Key allows Amazon to verify your app\'s identity. An API key is generated based on the values you provide below. If different version of your app have different bundle IDs, such as for one or more testing versions and a production version, each version requires its own API key. <a href ="https://developer.amazon.com/public/apis/engage/login-with-amazon/docs/adding_ios_app.html" target="_blank" class="tocLinks">Learn More</a>',
FIELDS:{API_KEY_NAME:{LABEL:"API Key Name",BRIEF_DESCRIPTION:"Identifies the app you will use with this API key."},BUNDLE_ID:{LABEL:"Bundle Id",BRIEF_DESCRIPTION:"The bundle identifier of your iOS project. For example, com.mycompany.bestapp."},KEY:{LABEL:"Key"}}},ANDROID:{LABEL:"Android/Kindle Settings",BRIEF_DESCRIPTION:"Settings for Android/Kindle development.",TEXT:'An API Key allows Amazon to verify your app\'s identity. An API Key is generated based on the values you provide below. If different versions of your app have different signatures or package names, such as for one or more testing versions and a production version, each version requires its own API Key. <a href ="https://developer.amazon.com/public/apis/engage/login-with-amazon/docs/adding_android_app.html" target="_blank" class="tocLinks">Learn More</a>',
FIELDS:{API_KEY_NAME:{LABEL:"API Key Name",BRIEF_DESCRIPTION:"Identifies the app you will use with this API key."},PACKAGE:{LABEL:"Package",BRIEF_DESCRIPTION:"The package name of your Android project. For example, com.mycompany.bestapp."},SIGNATURE:{LABEL:"Signature",BRIEF_DESCRIPTION:'The signature of the certificate used to sign your app. <a href ="https://developer.amazon.com/public/apis/engage/login-with-amazon/docs/android_app_signatures.html" target="_blank" class="tocLinks">Get instructions on obtaining this value</a>.'},
KEY:{LABEL:"Key"}}}},PRODUCT_DETAILS_TAB:{NAME:function(a){return a+" Details"},IMAGE:{LABEL:"Image",BRIEF_DESCRIPTION:function(a){return'Upload an image sized 142(width)x130(height) pixels in either PNG or JPG format. This image is displayed on your customer\u2019s <a href="https://www.amazon.com/mn/dcw/myx.html" target="_blank" class="tocLinks">Manage Your Content and Devices</a> page.'},TITLE:"Click to upload an image",UPLOAD_SUCCESS_MESSAGE:"Image upload successfully.",BUTTON_TEXT:"Choose an image..."},
CATEGORY:{LABEL:"Category",BRIEF_DESCRIPTION:function(a){return"Choose the category that best describes where and how your "+a.toLowerCase()+" is used."}},DESCRIPTION:{LABEL:"Description",BRIEF_DESCRIPTION:function(a){return"Please provide a brief description of your "+a.toLowerCase()+" and its functionality."}},COMMERCIAL_PLANS:{LABEL:function(a){return"Are you planning to commercialize your "+a.toLowerCase()+"?"},BRIEF_DESCRIPTION:function(a){return"Commercialization includes sharing or distributing your "+
a.toLowerCase()+" with either paying or non-paying end users."},NOTICE:function(a){return"You will need to certify your "+a.toLowerCase()+" with Amazon before commercializing it. Get started evaluating Alexa in your "+a.toLowerCase()+' now, and we will contact you with guidance on the certification process. <a href="/edw/access/certification.html" target="_blank">Learn more.</a>'}},APPSTORE_DISTRIBUTION:{LABEL:"Are you planning to distribute your application through an app marketplace?",BRIEF_DESCRIPTION:"Some Alexa content and domains may not be available on some app marketplaces.",
LINK_TEXT:"Learn more."},COMMERCIALIZATION_VOLUME:{LABEL:function(a){return"How many "+a.toLowerCase()+"s are you planning to commercialize?"},BRIEF_DESCRIPTION:function(a){return"Device"===a?'If you select "Enable Amazon Music" on the "Amazon Music" tab and get approved, you will need to certify your device with Amazon before commercializing it. Get started evaluating Alexa (including Amazon Music) in your device now, and we will contact you with guidance on the certification process. <a href="/edw/additional_avs_content_requirements.html" target="_blank"  class="tocLinks">Learn more.</a>':
'If you would like to continue to have Audible enabled in your commercialized application, you will need to certify your application with Amazon before commercializing it. Get started evaluating Alexa (including Audible) in your application now, and we will contact you with guidance on the certification process. <a href="/edw/additional_avs_content_requirements.html" target="_blank"  class="tocLinks">Learn more.</a>'}},COMMERCIALIZATION_TIMELINE:{LABEL:function(a){return"What is your expected timeline for commercialization?"}},
CHILDREN_APP_INPUT:{TEXT:function(a){return"Application"===a?"Is your application directed to or does it target children under the age of 13?":"Is your device a children's product or is it otherwise directed to children under the age of 13?"},NOT_SURE:"Not sure? ",LEARN_MORE:"Learn More",DIALOG_TITLE:function(a){return"Application"===a?"More about COPPA":"More about CPSIA"},DIALOG_PREVIEW1:function(a){return"Application"===a?"Please indicate if your application is directed to children under the age of 13, as determined under the ":
""},DIALOG_PREVIEW2:"Children's Online Privacy Protection Act (COPPA)",DIALOG_CONTENT:function(a){return"Application"===a?'<p>Please indicate if your application is directed to children under the age of 13, as determined under the <a target="_blank" href="https://www.ftc.gov/tips-advice/business-center/privacy-and-security/children%27s-privacy">Children\'s Online Privacy Protection Act (COPPA)</a>.</p><p>Factors to consider in determining if your application is directed to children include:</p><ul><li>subject matter of the application</li><li>presence of child-oriented activities and incentives</li><li>type of language used in the application</li><li>music and other audio content in the application</li><li>how the application is described and marketed</li><li>intended audience for the application</li></ul><p></p><p>Please see the <a target="_blank" href="https://www.ftc.gov/tips-advice/business-center/guidance/complying-coppa-frequently-asked-questions">FTC\'s COPPA Guidance and FAQ</a> for more information.</p><p>Failure to provide accurate information about if your application is child-directed may result in termination of your developer account.</p>':
'<p>Please indicate if your device is a children\u2019s product, as determined under the <a target="_blank" href="https://www.cpsc.gov/Regulations-Laws--Standards/Statutes/The-Consumer-Product-Safety-Improvement-Act">Consumer Product Safety Improvement Act of 2008 (CPSIA)</a>, or is otherwise directed to children under the age of 13.<p>Factors to consider include:</p><ul><li>intended audience for the device</li><li>whether the device will be represented in its packaging, display, promotion, or advertising as appropriate for use by children under the age of 13</li><li>whether the type of device is commonly recognized by consumers as being intended for use by a child under the age of 13</li><li>whether the device has features, like cartoons, which do not necessarily enhance the device\u2019s utility but contribute to its attractiveness to children under the age of 13</li><li>play value (i.e., features primarily attractive to children under the age of 13 that promote interactive exploration and imagination for fanciful purposes)</li><li>whether the device includes music and other audio content attractive to children under the age of 13</li></ul><p></p><p>Failure to provide accurate information about if your device is a children\u2019s product or is otherwise directed to children under the age of 13 may result in termination of your developer account.</p>'}},
TOC:'By submitting this form, you agree to <a href="/edw/avs_agreement.html" target="_blank" class="tocLinks">Alexa Voice Service Agreement</a>.'},ALEXA_SKILLS_TAB:{NAME:"Amazon Music",AMAZON_MUSIC:{LABEL:"Apply for access to Amazon Music?",STATUS_LABEL:"Approval Status:",BRIEF_DESCRIPTION:"Amazon Music is currently limited to Alexa-enabled products approved for commercial distribution and use. If you wish to apply, please answer the questions below and submit your request.</a>.<br>",SURVEY_NOTICE:"Note: Amazon Music isn\u2019t required to access other Alexa skills."},
APPLICATION_NOTICE:'<b>Alexa music skills are not supported on applications. <a href="https://developer.amazon.com/public/solutions/alexa/alexa-voice-service/docs/alexa-voice-service-developer-preview" target="_blank" class="tocLinks">Learn more</a> about what skills are available to applications.</b>'}})})(window.angular);define("AlexaVoiceService/AVSConstants",function(){});
(function(h){h.module("AVSModule").factory("AVSAjax",["CommonAjax","CommonService","$q","$cookies","AVS_PRODUCT_TYPE",function(a,c,b,g,f){function e(c){return b(function(b,d){a.sendGetRequestAsync("/edw/ajax/avs/getProductLogoRetrievalUrlForAssetId?assetId="+c).then(function(a){b(a.retrievalURL)},d)})}var h,d;return{properties:a.properties,handleError:function(a){c.clearLoadingMessage();a.exception?c.setStatus(a.sessionExpired?c.statusType.sessionExpired:c.statusType.error,"Error: "+a.message,a.stackTrace):
c.setStatus(c.statusType.error,"Error: "+a)},getAVSConstants:function(){return b(function(b,c){h?b(h):a.sendGetRequestAsync("/edw/ajax/avs/getAVSConstants").then(function(a){h=a;b(h)},function(a){c(a)})})},getAVSMusicQuestions:function(){return b(function(b,c){d?b(d):a.sendGetRequestAsync("/edw/ajax/avs/getAVSMusicQuestions").then(function(a){d=a;b(d)},function(a){c(a)})})},fetchProductInfosAsync:function(){return a.sendGetRequestAsync("/edw/ajax/avs/getProducts")},getCompanyNameAsync:function(){return a.sendGetRequestAsync("/edw/ajax/avs/getCompanyName")},
checkIfProductExists:function(b,c){return a.sendGetRequestAsync("/edw/ajax/avs/doesProductExist?productId="+b+"&type="+c)},getLwaSecurityProfilesAsync:function(){return a.sendGetRequestAsync("/edw/ajax/avs/getSecurityProfiles")},getAndroidApiKeysBySecurityProfileIdAsync:function(b){return a.sendGetRequestAsync("/edw/ajax/avs/getAndroidApiKeys?securityProfileId="+b)},createAndroidApiKeyAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/avs/createAndroidApiKey",b)},updateAndroidApiKeyAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/avs/updateAndroidApiKey",
b)},getIosApiKeysBySecurityProfileIdAsync:function(b){return a.sendGetRequestAsync("/edw/ajax/avs/getiOSApiKeys?securityProfileId="+b)},createIosApiKeyAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/avs/createiOSApiKey",b)},updateIosApiKeyAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/avs/updateiOSApiKey",b)},createProductAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/avs"+(b.productType===f.Device?"/createDeviceProduct":"/createAppProduct"),{avsProductDetails:b})},
fetchProductByIdAsync:function(b){return a.sendGetRequestAsync("/edw/ajax/avs/getProductById?productId="+b)},createSecurityProfileAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/avs/createSecurityProfile",b)},updateSecurityProfileAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/avs/updateSecurityProfileById",{securityProfile:b})},updateProductAsync:function(b){return a.sendPostRequestAsync("/edw/ajax/avs/updateProductById",{avsProductDetails:b})},fetchImageUrlAsync:e,uploadImageAsync:function(c,
d){var f=c;return b(function(b,g){a.sendPostRequestAsync("/edw/ajax/avs/getProductLogoUploadUrlAndAssetId",{fileName:d.name,contentSize:d.size,assetId:c}).then(function(b){f=b.assetId;return a.uploadImageAsync({uploadURL:b.uploadURL,file:d},{sizeLimit:"1MB",dimensionLimit:"142 x 130"})}).then(function(a){return e(f)}).then(function(a){b({imageUrl:a,assetId:f})},g)})},loadProductFromCookie:function(){},deleteProductFromCookie:function(){},saveProductToCookie:function(a){}}}])})(window.angular);
define("AlexaVoiceService/AVSAjax",function(){});
(function(h){h.module("AVSModule").controller("AVSListController",["$scope","$state","$window","AVSAjax","AVS_ProductListingConfig","AVS_ROUTE_STATE","AVS_PRODUCT_TYPE","CommonService",function(a,c,b,g,f,e,h,d){a.registerMenuVisible=!1;a.ProductListingConfig=f;var l=[];d.clearStatus();d.setLoadingMessage(f.LOADING_TEXT);g.fetchProductInfosAsync().then(function(a){l=a.productInfos;d.clearLoadingMessage()},function(a){g.handleError(a)});a.getProductList=function(){return l};a.createNewDevice=function(){c.go(e.CreateDevice)};
a.createNewApplication=function(){c.go(e.CreateApp)};a.editProduct=function(a){a.productType===h.Device?c.go(e.EditDevice,{productId:a.productId}):c.go(e.EditApp,{productId:a.productId})}}])})(window.angular);define("AlexaVoiceService/List/AVSListController",function(){});
(function(h){function a(a,g){return{config:function(f){c=f;a.selectedMenuStep=f.selectedMenuStep;a.tabCommon.clearMessage()},prepareMusicSurvay:function(){a.product.musicProviderSurvey.AMAZON_MUSIC.surveyAnswers||(a.product.musicProviderSurvey.AMAZON_MUSIC.surveyAnswers=[],a.originalProduct=h.copy(a.product))},disableEditing:function(){a.enableInput=!1;a.enableSave=!1;a.enableNavigation=!1},enableEditing:function(){a.enableInput=!0;a.enableNavigation=!0},enableEditingAfterFailure:function(c){a.enableInput=
!0;a.enableSave=!0;a.enableNavigation=!c},clearMessage:function(){g.clearStatus();g.clearLoadingMessage()},setLoadingMessage:function(a){g.clearStatus();g.setLoadingMessage(a)},setSuccessMessage:function(a){g.clearLoadingMessage();g.setStatus(g.statusType.success,a)},updateImagePath:function(c){a.productImagePath=c},updateCurrentTabStatus:function(c){a.tabStatus[a.selectedMenuStep]=c}}}var c={};h.module("AVSModule").controller("AVSEditController",["$scope","$state","$stateParams","$q","isCreateMode",
"productType","rootState","AVS_ProductEditingConfig","AVS_ROUTE_STATE","AVS_PRODUCT_TYPE","CommonService","AVSAjax","CommonAjax",function(b,g,f,e,k,d,l,q,n,m,r,t,p){function u(a){b.tabCommon.disableEditing();"function"===typeof c.saveAction.loadingMessage?b.tabCommon.setLoadingMessage(c.saveAction.loadingMessage()):b.tabCommon.setLoadingMessage(c.saveAction.loadingMessage);return e(function(d,e){c.saveAction.actionAsync(a).then(function(e){h.copy(b.product,b.originalProduct);b.tabCommon.enableEditing();
"function"===typeof c.saveAction.successMessage?b.tabCommon.setSuccessMessage(c.saveAction.successMessage()):b.tabCommon.setSuccessMessage(c.saveAction.successMessage);b.tabStatus[b.selectedMenuStep]=b.tabStateEnum.VALID;k&&!a&&t.saveProductToCookie({product:b.product,tabStatus:b.tabStatus});d(e)},function(a){t.handleError(a);b.tabCommon.enableEditingAfterFailure();e(a)})})}b.isCreateMode=k;b.AvsRouteState=n;b.AvsProductType=m;b.ProductEditingConfig=q;b.tabCommon=a(b,r);b.NoImage="/edw/res/images/no-icon.png";
b.uploadImageIconPath="/edw/res/images/upload_image.png";b.productImagePath=b.NoImage;b.enableSubmit=!0;b.tabStateEnum={VALID:"validTab",NOT_VALID:"invalidTab"};b.tabStatus={};b.tabStatus[n.Tabs.Info]=b.tabStateEnum.NOT_VALID;b.tabStatus[n.Tabs.SecurityProfile]=b.tabStateEnum.NOT_VALID;b.tabStatus[n.Tabs.Details]=b.tabStateEnum.NOT_VALID;b.tabStatus[n.Tabs.AlexaSkills]=b.tabStateEnum.NOT_VALID;b.readyForSubmit=function(){return b.tabStatus[n.Tabs.Info]===b.tabStateEnum.VALID&&b.tabStatus[n.Tabs.SecurityProfile]===
b.tabStateEnum.VALID&&b.tabStatus[n.Tabs.Details]===b.tabStateEnum.VALID&&b.tabStatus[n.Tabs.AlexaSkills]===b.tabStateEnum.VALID};b.product={productType:d,isInitializing:!0};b.product.musicProviderSurvey={AMAZON_MUSIC:{submissionStatus:void 0,approvalStatus:"",surveyAnswers:[]}};b.tabCommon.setLoadingMessage(q.LOADING_MESSAGE);k?t.getCompanyNameAsync().then(function(a){b.product.companyName=a.companyName;var c=t.loadProductFromCookie();c&&c.product.companyName===a.companyName&&c.product.productType===
d?(b.product=c.product,b.tabStatus=c.tabStatus):t.deleteProductFromCookie();b.originalProduct=h.copy(b.product);return b.product.imageAssetId?t.fetchImageUrlAsync(b.product.imageAssetId):e.when()}).then(function(a){a&&(b.productImagePath=a);b.tabCommon.enableEditing();b.tabCommon.clearMessage();if(c.onProductLoaded)c.onProductLoaded()},function(a){t.handleError(a)}):t.fetchProductByIdAsync(f.productId).then(function(a){b.product=a;b.originalProduct=h.copy(b.product);return b.product.imageAssetId?
t.fetchImageUrlAsync(b.product.imageAssetId):e.when()}).then(function(a){a&&(b.productImagePath=a);b.tabCommon.enableEditing();b.tabCommon.clearMessage();b.tabStatus[n.Tabs.Info]=b.tabStateEnum.VALID;b.tabStatus[n.Tabs.SecurityProfile]=b.tabStateEnum.VALID;b.tabStatus[n.Tabs.Details]=b.tabStateEnum.VALID;b.tabStatus[n.Tabs.AlexaSkills]=b.tabStateEnum.VALID;if(c.onProductLoaded)c.onProductLoaded()},function(a){t.handleError(a)});b.getCreateNewProductText=function(){return b.product.productType===m.Device?
q.DEVICE_REGISTRATION_HEADER:q.APP_REGISTRATION_HEADER};q.CREATE_PRODUCT_LOADING_MESSAGE(d);b.getProductInfoTabText=function(){return b.product.productType===m.Device?q.DEVICE_TYPE_INFO_TAB.NAME:q.APP_TYPE_INFO_TAB.NAME};b.getProductDetailsTabText=function(){return b.product.productType===m.Device?q.DEVICE_DETAILS_TAB.NAME:q.APP_DETAILS_TAB.NAME};b.gotoNextTab=function(){h.equals(b.originalProduct,b.product)&&b.tabStatus[b.selectedMenuStep]!==b.tabStateEnum.NOT_VALID?g.go(l+"."+c.nextTab):u().then(function(a){a&&
a.stay||g.go(l+"."+c.nextTab)});p.keepAlive()};b.tabClicked=function(){function a(){return e(function(a,d){b.enableNavigation?h.equals(b.originalProduct,b.product)?a():r.showConfirmationBox(q.SAVE_MESSAGE_BOX.TITLE,q.SAVE_MESSAGE_BOX.TEXT,[{optionName:q.MESSAGE_BOX_BUTTONS.SAVE,highlight:!0,eventHandler:function(){u().then(a,d)}},{optionName:q.MESSAGE_BOX_BUTTONS.DISCARD,eventHandler:function(){h.copy(b.originalProduct,b.product);b.enableSave=!1;if(c.onChangeDiscarded)c.onChangeDiscarded();a()}},
{optionName:q.MESSAGE_BOX_BUTTONS.CANCEL,eventHandler:d}]):d()})}b.$on("$stateChangeStart",function(c,d,e){0===d.name.indexOf(l+"."+b.selectedMenuStep)||!b.originalProduct||b.enableNavigation&&h.equals(b.originalProduct,b.product)||(c.preventDefault(),a().then(function(){g.go(d.name,e)}))});return function(c){a().then(function(){var a;b.tabCommon.clearMessage();b.enableSave=!1;b.product.productId&&(a={productId:b.product.productId});g.go(l+"."+c,a);p.keepAlive()})}}();b.handleInputChange=function(){h.equals(b.originalProduct,
b.product)?b.enableSave=!1:b.enableSave=b.enableInput};b.save=function(){!k&&h.equals(b.originalProduct,b.product)||u()};b.submitProduct=function(){b.tabCommon.disableEditing();b.tabCommon.setLoadingMessage(c.saveAction.loadingMessage);u(!0).then(function(){t.deleteProductFromCookie();!1===b.product.coppaCompliance?b.enableSubmit=!1:g.go(n.Home)})};b.getUploadImageIconPath=function(){return b.productImagePath&&b.productImagePath!==b.NoImage?b.productImagePath:b.uploadImageIconPath}}])})(window.angular);
define("AlexaVoiceService/Edit/AVSEditController",function(){});
(function(h){function a(a,b){var g;!a.productId||256<a.productId.length?(b({exception:!0,message:"Invalid "+a.productType.toLowerCase()+" type Id."}),g=!1):g=!0;if(!g)return!1;!a.productDisplayName||256<a.productDisplayName.length?(b({exception:!0,message:"Invalid display name."}),g=!1):g=!0;return g?!0:!1}h.module("AVSModule").controller("AVSProductInfoController",["$scope","$q","AVS_ProductEditingConfig","AVSAjax",function(c,b,g,f){var e={selectedMenuStep:c.AvsRouteState.Tabs.Info,nextTab:c.AvsRouteState.Tabs.SecurityProfile};
e.saveAction=c.isCreateMode?{loadingMessage:g.PRODUCT_INFO_TAB.VALIDATE_ID.LOADING(c.product.productType),actionAsync:function(){return b(function(b,d){a(c.product,d)&&f.checkIfProductExists(c.product.productId,c.product.productType).then(function(a){a.doesProductExist?d({exception:!0,message:g.PRODUCT_INFO_TAB.VALIDATE_ID.ALREADY_EXISTS(c.product.productType)}):b()},d)})}}:{loadingMessage:g.UPDATE_PRODUCT.LOADING_MESSAGE(c.product.productType),actionAsync:function(){return b(function(b,d){a(c.product,
d)&&f.updateProductAsync(c.product).then(b,d)})},successMessage:g.UPDATE_PRODUCT.SUCCESS_MESSAGE(c.product.productType)};c.tabCommon.config(e)}])})(window.angular);define("AlexaVoiceService/Edit/Tabs/AVSProductInfoController",function(){});
(function(h){function a(a,c,f){return function(e,f){return e.productDescription?256<e.productDescription.length?(f({exception:!0,message:c.PRODUCT_VALIDATION_ERROR.DESCRIPTION_TOO_LONG}),!1):e.productCategory?a.isCreateMode&&!e.commercializationTimeline?(f({exception:!0,message:c.PRODUCT_VALIDATION_ERROR.MUST_HAVE_COMMERCIALIZATION_TIMELINE}),!1):a.isCreateMode&&!e.commercializationVolume?(f({exception:!0,message:c.PRODUCT_VALIDATION_ERROR.MUST_HAVE_COMMERCIALIZATION_SIZE}),!1):a.EDW_CONFIG.isCoppaLaunchEnabled&&
!h.isDefined(e.coppaCompliance)?(f({exception:!0,message:c.PRODUCT_VALIDATION_ERROR.MUST_HAVE_COPPA_COMPLIANCE}),!1):!0:(f({exception:!0,message:c.PRODUCT_VALIDATION_ERROR.MUST_HAVE_CATEGORY}),!1):(f({exception:!0,message:c.PRODUCT_VALIDATION_ERROR.MUST_HAVE_DESCRIPTION}),!1)}}function c(a){var c={};if(a){var f=a,e=a.indexOf("Amazon Appstore,");0>e?(e=a.indexOf("Amazon Appstore"),0<=e&&(f=a.substring(e+15).trim(),c.amazonAppstore=!0)):(f=a.substring(e+16).trim(),c.amazonAppstore=!0);e=a.indexOf("Apple App Store,");
0>e?(e=a.indexOf("Apple App Store"),0<=e&&(f=a.substring(e+15).trim(),c.appleAppStore=!0)):(f=a.substring(e+16).trim(),c.appleAppStore=!0);e=a.indexOf("Google Play,");0>e?(e=a.indexOf("Google Play"),0<=e&&(f=a.substring(e+11).trim(),c.googlePlay=!0)):(f=a.substring(e+12).trim(),c.googlePlay=!0);f&&(c.other=!0,c.otherAppStores=f)}return c}h.module("AVSModule").controller("AVSProductDetailsController",["$scope","$q","AVSAjax","AVS_PRODUCT_TYPE","AVS_ProductEditingConfig","CommonService",function(b,
g,f,e,h,d){function l(){b.isCreateMode||b.product.isInitializing||!b.timelineList||b.product.commercializationTimeline||(b.product.commercializationTimeline=b.timelineList[b.timelineList.length-1])}var q=a(b,h,e),n={selectedMenuStep:b.AvsRouteState.Tabs.Details,nextTab:b.AvsRouteState.Tabs.AlexaSkills};b.EDW_CONFIG=window.EDW_CONFIG;n.onProductLoaded=function(){b.product.productType===e.Application&&(b.appStore=c(b.product.distributeAppStores));b.productImageInput=b.getUploadImageIconPath();l()};
b.productImageInput=b.getUploadImageIconPath();n.saveAction=b.isCreateMode?{loadingMessage:h.CREATE_PRODUCT_LOADING_MESSAGE(b.product.productType),actionAsync:function(){return g(function(a,c){q(b.product,c)&&a()})}}:{loadingMessage:h.UPDATE_PRODUCT.LOADING_MESSAGE(b.product.productType),actionAsync:function(){return g(function(a,c){q(b.product,c)&&f.updateProductAsync(b.product).then(a,c)})},successMessage:h.UPDATE_PRODUCT.SUCCESS_MESSAGE(b.product.productType)};b.tabCommon.config(n);b.product.productType===
e.Application&&(b.appStore=c(b.product.distributeAppStores));b.handleAppStoreChange=function(){var a=b.product;var c=b.appStore,d="";c.amazonAppstore&&(d+="Amazon Appstore");c.appleAppStore&&(d&&(d+=","),d+="Apple App Store");c.googlePlay&&(d&&(d+=","),d+="Google Play");c.other&&(d&&(d+=","),d+=c.otherAppStores);a.distributeAppStores=d?d:void 0;b.handleInputChange()};b.chooseImage=function(){document.getElementById("avs-product-image-upload-input").click()};b.handleImageSelected=function(a){b.tabCommon.clearMessage();
b.productImageInput="/edw/res/images/loader.gif";f.uploadImageAsync(b.product.imageAssetId,a.file).then(function(a){b.product.imageAssetId=a.assetId;b.productImageInput=a.imageUrl;b.tabCommon.updateImagePath(b.productImageInput);b.tabCommon.setSuccessMessage(h.PRODUCT_DETAILS_TAB.IMAGE.UPLOAD_SUCCESS_MESSAGE)},function(a){b.productImageInput=b.getUploadImageIconPath();f.handleError(a)})};b.categoryList=[];f.getAVSConstants().then(function(a){b.timelineList=a.avsCommercialTimelineList;l();b.categoryList=
b.product.productType===e.Application?a.avsApplicationCategoryList:a.avsDeviceCategoryList},function(a){f.handleError(a)});b.showChildrenAppDialog=function(){d.setMessageBoxClass("edw-messagebox-coppa");d.showConfirmationBox(b.ProductEditingConfig.PRODUCT_DETAILS_TAB.CHILDREN_APP_INPUT.DIALOG_TITLE(b.product.productType),b.ProductEditingConfig.PRODUCT_DETAILS_TAB.CHILDREN_APP_INPUT.DIALOG_CONTENT(b.product.productType),[{optionName:"Close",highlight:!0}])}}])})(window.angular);
define("AlexaVoiceService/Edit/Tabs/AVSProductDetailsController",function(){});
(function(h){function a(a,b){function g(b){b&&b({exception:!0,message:a.PRODUCT_VALIDATION_ERROR.MUSIC_PROVIDER_ANSWER_MISSING});return!1}return function(a,c,h){if(a.productType===b.Device){if(void 0===a.musicProviderSurvey.AMAZON_MUSIC.submissionStatus)return g(h);if(a.musicProviderSurvey.AMAZON_MUSIC.submissionStatus&&null!==a.musicProviderSurvey.AMAZON_MUSIC.surveyAnswers){if(a.musicProviderSurvey.AMAZON_MUSIC.surveyAnswers.length<c.AMAZON_MUSIC.length)return g(h);a=a.musicProviderSurvey.AMAZON_MUSIC.surveyAnswers;
for(c=0;c<a.length;c++)if(!a[c]||"no"===a[c])return g(h)}return!0}if(a.productType===b.Application)return!0}}h.module("AVSModule").controller("AVSAlexaSkillsController",["$scope","$q","AVSAjax","AVS_PRODUCT_TYPE","AVS_ProductEditingConfig",function(c,b,g,f,e){var h=a(e,f);c.tabCommon.prepareMusicSurvay();var d={selectedMenuStep:c.AvsRouteState.Tabs.AlexaSkills,onProductLoaded:c.tabCommon.prepareMusicSurvay,onChangeDiscarded:function(){var a=h(c.product,c.musicProviderQuestions);c.tabCommon.updateCurrentTabStatus(a?
c.tabStateEnum.VALID:c.tabStateEnum.NOT_VALID)}};c.handleSurveyChange=function(){var a=h(c.product,c.musicProviderQuestions);c.tabCommon.updateCurrentTabStatus(a?c.tabStateEnum.VALID:c.tabStateEnum.NOT_VALID);c.handleInputChange()};d.saveAction=c.isCreateMode?{loadingMessage:!0===c.product.coppaCompliance?e.CREATE_PRODUCT_LOADING_MESSAGE(c.product.productType):"",actionAsync:function(a){return b(function(b,d){h(c.product,c.musicProviderQuestions,d)&&(!1===c.product.coppaCompliance&&(c.showCoppaErrorMessage=
!0),a?g.createProductAsync(c.product).then(b,d):b())})}}:{loadingMessage:e.UPDATE_PRODUCT.LOADING_MESSAGE(c.product.productType),actionAsync:function(){return b(function(a,b){h(c.product,c.musicProviderQuestions,b)&&g.updateProductAsync(c.product).then(function(b){!0===c.product.musicProviderSurvey.AMAZON_MUSIC.submissionStatus&&(c.product.musicProviderSurvey.AMAZON_MUSIC.approvalStatus="PENDING");a()},b)})},successMessage:e.UPDATE_PRODUCT.SUCCESS_MESSAGE(c.product.productType)};c.tabCommon.config(d);
c.product.productType===f.Application&&c.tabCommon.updateCurrentTabStatus(c.tabStateEnum.VALID);c.musicProviderQuestions={};c.tabCommon.disableEditing();g.getAVSMusicQuestions().then(function(a){c.tabCommon.enableEditing();c.musicProviderQuestions=a.musicProviderQuestions},function(a){g.handleError(a)});c.getApprovalStatus=function(){return"NOT_REQUESTED"===c.product.musicProviderSurvey.AMAZON_MUSIC.approvalStatus?void 0:c.product.musicProviderSurvey.AMAZON_MUSIC.approvalStatus};c.isReadOnly=function(){return c.enableInput&&
"PENDING"!==c.product.musicProviderSurvey.AMAZON_MUSIC.approvalStatus&&"APPROVED"!==c.product.musicProviderSurvey.AMAZON_MUSIC.approvalStatus?!1:!0}}])})(window.angular);define("AlexaVoiceService/Edit/Tabs/AVSAlexaSkillsController",function(){});
(function(h){function a(a,g,f){return{config:function(e){c=e;a.selectedSettingsTab=c.settingsTab},updateCurrentSecurityProfile:function(c){a.currentSecurityProfile=c.profileId?c:{profileId:"",allowedOrigins:[],allowedRedirectURIs:[]};a.noSecurityProfileSelected()&&g.go(f+"."+a.AvsRouteState.SecurityProfileSettings.General)},checkAndRedirectSettingsTab:function(){return a.noSecurityProfileSelected()?(g.go(f+"."+a.AvsRouteState.SecurityProfileSettings.General),!0):!1},gotoSettings:function(c){var h;
a.product.productId&&(h={productId:a.product.productId});g.go(f+"."+c,h)}}}var c={};h.module("AVSModule").controller("AVSSecurityProfileController",["$scope","$state","AVSAjax","$q","securityProfileRootState","AVS_ProductEditingConfig",function(b,g,f,e,k,d){function l(){b.tabCommon.setLoadingMessage(d.SECURITY_PROFILE_TAB.LOADING_MESSAGE);b.tabCommon.disableEditing();f.getLwaSecurityProfilesAsync().then(function(a){b.tabCommon.enableEditing();b.tabCommon.clearMessage();b.lwaSecurityProfiles=a;b.lwaSecurityProfiles.unshift(b.newSecurityProfileOption);
if(b.product.securityProfileId)for(a=0;a<b.lwaSecurityProfiles.length;a++)if(b.lwaSecurityProfiles[a].profileId===b.product.securityProfileId){b.currentSecurityProfile=b.lwaSecurityProfiles[a];b.selectedSecurityProfile=b.currentSecurityProfile;b.handleSecurityProfileChange();break}},function(a){f.handleError(a)})}function q(a,b){a.name||b({exception:!0,message:"Security profile name should not be empty."});a.description||b({exception:!0,message:"Security profile description should not be empty."})}
function n(a){b.tabCommon.setLoadingMessage(d.SECURITY_PROFILE_TAB.LOADING_MESSAGE);b.tabCommon.disableEditing();f.getAndroidApiKeysBySecurityProfileIdAsync(a).then(function(a){b.currentSecurityProfile.androidApiKeys=a;b.tabCommon.clearMessage()},function(a){f.handleError(a)})["finally"](function(a){b.tabCommon.enableEditing()})}function m(a){b.tabCommon.setLoadingMessage(d.SECURITY_PROFILE_TAB.LOADING_MESSAGE);b.tabCommon.disableEditing();f.getIosApiKeysBySecurityProfileIdAsync(a).then(function(a){b.currentSecurityProfile.iosApiKeys=
a;b.tabCommon.clearMessage()},function(a){f.handleError(a)})["finally"](function(a){b.tabCommon.enableEditing()})}function r(a){b.editingSecurityProfile!==a&&(b.editingSecurityProfile=a,b.editingSecurityProfile?(b.product.securityProfileId="",b.toggleEditingSecurityProfileText="Cancel",b.currentSecurityProfile=h.copy(b.selectedSecurityProfile)):(b.product.securityProfileId=b.selectedSecurityProfile.profileId,b.toggleEditingSecurityProfileText="Edit",b.currentSecurityProfile=b.selectedSecurityProfile),
b.handleInputChange())}var t={selectedMenuStep:b.AvsRouteState.Tabs.SecurityProfile,nextTab:b.AvsRouteState.Tabs.Details,onProductLoaded:l},p=!0;t.saveAction={actionAsync:function(){return e(function(a,g){b.selectedSecurityProfile&&b.selectedSecurityProfile.profileId?(p=!0,b.isEditingSecurityProfile()&&!h.equals(b.currentSecurityProfile,b.selectedSecurityProfile)?f.updateSecurityProfileAsync(b.currentSecurityProfile,function(){}).then(function(){h.copy(b.currentSecurityProfile,b.selectedSecurityProfile);
r(!1);b.product.securityProfileId=b.selectedSecurityProfile.profileId;return b.isCreateMode?e.when():f.updateProductAsync(b.product)}).then(a,g):(b.product.securityProfileId=b.selectedSecurityProfile.profileId,b.isCreateMode?a():f.updateProductAsync(b.product).then(a,g))):b.isCreatingNewSecurityProfile()?(p=!1,q(b.currentSecurityProfile,g),f.createSecurityProfileAsync(b.currentSecurityProfile).then(function(d){b.lwaSecurityProfiles.push(d);b.currentSecurityProfile=d;if(c.onCurrentSecurityProfileChange)c.onCurrentSecurityProfileChange();
b.selectedSecurityProfile=b.currentSecurityProfile;b.product.securityProfileId=d.profileId;b.isCreateMode?a({stay:!0}):f.updateProductAsync(b.product).then(function(){a({stay:!0})},g)},function(a){g(a)})):g({exception:!0,message:d.SECURITY_PROFILE_TAB.VALIDATION_ERROR})})}};t.saveAction.loadingMessage=function(){return b.isCreatingNewSecurityProfile()?d.SECURITY_PROFILE_TAB.SAVE.CREATE_MESSAGE:b.isCreateMode?"":d.SECURITY_PROFILE_TAB.SAVE.UPDATE_MESSAGE};t.saveAction.successMessage=function(){return p?
b.isCreateMode?"":d.SECURITY_PROFILE_TAB.SAVE.UPDATE_SUCCESS_MESSAGE:d.SECURITY_PROFILE_TAB.SAVE.CREATE_SUCCESS_MESSAGE};b.tabCommon.config(t);b.securityProfileCommon=a(b,g,k);b.newSecurityProfileOption={name:"Create a new profile",profileId:""};b.currentSecurityProfile={};b.isCreatingNewSecurityProfile=function(){return""===b.currentSecurityProfile.profileId};b.settingsTabClicked=function(a){b.selectedSettingsTab!==a&&(b.noSecurityProfileSelected()||g.go(k+"."+a))};b.noSecurityProfileSelected=function(){return!b.currentSecurityProfile.profileId};
b.isCurrentState=function(a){return a===b.selectedSettingsTab};b.addNewAllowedOrigin=function(){b.currentSecurityProfile.allowedOrigins.push("")};b.addNewRedirectUri=function(){b.currentSecurityProfile.allowedRedirectURIs.push("")};b.handleSecurityProfileChange=function(){b.securityProfileCommon.updateCurrentSecurityProfile(b.selectedSecurityProfile);b.product.securityProfileId=b.selectedSecurityProfile.profileId;r(!1);b.noSecurityProfileSelected()||(n(b.currentSecurityProfile.profileId),m(b.currentSecurityProfile.profileId))};
b.editingSecurityProfile=!1;b.toggleEditingSecurityProfileText="Edit";b.toggleEditingSecurityProfile=function(){r(!b.editingSecurityProfile)};b.isEditingSecurityProfile=function(){return b.editingSecurityProfile||b.isCreatingNewSecurityProfile()};void 0!==b.product.companyName&&l()}])})(window.angular);define("AlexaVoiceService/Edit/Tabs/SecurityProfile/AVSSecurityProfileController",function(){});
(function(h){h.module("AVSModule").controller("AVSSPSettingsGeneralController",["$scope","AVS_ROUTE_STATE",function(a,c){a.hideSecurityProfileConsent=!0;a.securityProfileCommon.config({settingsTab:c.SecurityProfileSettings.General})}])})(window.angular);define("AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsGeneralController",function(){});
(function(h){h.module("AVSModule").controller("AVSSPSettingsWebController",["$scope","AVS_ROUTE_STATE",function(a,c){a.securityProfileCommon.checkAndRedirectSettingsTab()||a.securityProfileCommon.config({settingsTab:c.SecurityProfileSettings.Web})}])})(window.angular);define("AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsWebController",function(){});
(function(h){h.module("AVSModule").controller("AVSSPSettingsIOSController",["$scope","AVSAjax","AVS_ROUTE_STATE","AVS_ProductEditingConfig",function(a,c,b,g){a.iosApiKeys=h.copy(a.currentSecurityProfile.iosApiKeys);a.isCreateIosApiKeyFormVisible=!1;void 0!==a.iosApiKeys&&0===a.iosApiKeys.length&&(a.isCreateIosApiKeyFormVisible=!0);a.showCreateIosApiKeyForm=function(){a.newAiKeyName="";a.newBundleId="";a.isCreateIosApiKeyFormVisible=!0};a.hideCreateIosApiKeyForm=function(){a.isCreateIosApiKeyFormVisible=
!1};a.submitCreateIosApiKeyForm=function(){var b={};b.securityProfileId=a.currentSecurityProfile.profileId;b.apiKeyName=a.newApiKeyName;b.bundleId=a.newBundleId;a.tabCommon.setLoadingMessage(g.SECURITY_PROFILE_TAB.LOADING_MESSAGE);a.tabCommon.disableEditing();c.createIosApiKeyAsync(b).then(function(b){a.iosApiKeys=b;a.currentSecurityProfile.iosApiKeys=h.copy(a.iosApiKeys);a.tabCommon.clearMessage();a.hideCreateIosApiKeyForm()},function(a){c.handleError(a)})["finally"](function(b){a.tabCommon.enableEditing()})};
var f;a.resetEditMode=function(){f=void 0};a.isKeyInEditMode=function(a){return a===f};a.putKeyInEditMode=function(a){void 0===f&&(f=a)};a.submitViewAndUpdateIosApiKeyForm=function(b){var f=a.iosApiKeys[b];if(!h.equals(a.currentSecurityProfile.iosApiKeys[b],f)){var d={};d.securityProfileId=a.currentSecurityProfile.profileId;d.apiKeyId=f.id;d.apiKeyName=f.apiKeyName;a.tabCommon.setLoadingMessage(g.SECURITY_PROFILE_TAB.LOADING_MESSAGE);a.tabCommon.disableEditing();c.updateIosApiKeyAsync(d).then(function(c){a.iosApiKeys[b]=
c;a.currentSecurityProfile.iosApiKeys=h.copy(a.iosApiKeys);a.tabCommon.clearMessage()},function(a){c.handleError(a)})["finally"](function(b){a.tabCommon.enableEditing()})}a.resetEditMode()};a.handleKeyUpEvent=function(b,c){13==b.keyCode&&a.submitViewAndUpdateIosApiKeyForm(c)};a.securityProfileCommon.checkAndRedirectSettingsTab()||a.securityProfileCommon.config({settingsTab:b.SecurityProfileSettings.IOS})}])})(window.angular);
define("AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsIOSController",function(){});
(function(h){h.module("AVSModule").controller("AVSSPSettingsAndroidController",["$scope","AVSAjax","AVS_ROUTE_STATE","AVS_ProductEditingConfig",function(a,c,b,g){a.androidApiKeys=h.copy(a.currentSecurityProfile.androidApiKeys);a.isCreateAndroidApiKeyFormVisible=!1;void 0!==a.androidApiKeys&&0===a.androidApiKeys.length&&(a.isCreateAndroidApiKeyFormVisible=!0);a.showCreateAndoirdApiKeyForm=function(){a.newApiKeyName="";a.newPackageName="";a.newSignature="";a.isCreateAndroidApiKeyFormVisible=!0};a.hideCreateAndroidApiKeyForm=
function(){a.isCreateAndroidApiKeyFormVisible=!1};a.submitCreateAndroidApiKeyForm=function(){var b={};b.securityProfileId=a.currentSecurityProfile.profileId;b.apiKeyName=a.newApiKeyName;b.packageName=a.newPackageName;b.keySignature=a.newSignature;a.tabCommon.setLoadingMessage(g.SECURITY_PROFILE_TAB.LOADING_MESSAGE);a.tabCommon.disableEditing();c.createAndroidApiKeyAsync(b).then(function(b){a.androidApiKeys=b;a.currentSecurityProfile.androidApiKeys=h.copy(a.androidApiKeys);a.tabCommon.clearMessage();
a.hideCreateAndroidApiKeyForm()},function(a){c.handleError(a)})["finally"](function(b){a.tabCommon.enableEditing()})};var f;a.resetEditMode=function(){f=void 0};a.isKeyInEditMode=function(a){return a===f};a.putKeyInEditMode=function(a){void 0===f&&(f=a)};a.submitViewAndUpdateAndroidApiKeyForm=function(b){var f=a.androidApiKeys[b];if(!h.equals(a.currentSecurityProfile.androidApiKeys[b],f)){var d={};d.securityProfileId=a.currentSecurityProfile.profileId;d.apiKeyId=f.id;d.apiKeyName=f.apiKeyName;a.tabCommon.setLoadingMessage(g.SECURITY_PROFILE_TAB.LOADING_MESSAGE);
a.tabCommon.disableEditing();c.updateAndroidApiKeyAsync(d).then(function(c){a.androidApiKeys[b]=c;a.currentSecurityProfile.androidApiKeys=h.copy(a.androidApiKeys);a.tabCommon.clearMessage()},function(a){c.handleError(a)})["finally"](function(b){a.tabCommon.enableEditing()})}a.resetEditMode()};a.handleKeyUpEvent=function(b,c){13==b.keyCode&&a.submitViewAndUpdateAndroidApiKeyForm(c)};a.securityProfileCommon.checkAndRedirectSettingsTab()||a.securityProfileCommon.config({settingsTab:b.SecurityProfileSettings.Android})}])})(window.angular);
define("AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsAndroidController",function(){});(function(h){h.module("InternalModule",["CommonModule"]).config(["$stateProvider",function(a){a.state("whitelist",{url:"/internal/whitelistDeveloper",templateUrl:"/edw/res/js/Views/internal/whitelist.view",controller:"DeveloperWhitelistController"}).state("updateLiveModel",{url:"/internal/updateLiveModel",templateUrl:"/edw/res/js/Views/internal/UpdateLiveModel.view",controller:"UpdateLiveModelController"})}])})(window.angular);
define("internal/InternalModule",function(){});
(function(h){h.module("InternalModule").constant("INTERNAL_UpdateModelConfig",{PAGE_TITLE:"Update live skill models",INPUT_LABELS:{SKILL_STAGE:"Skill Stage",SKILL_ID:"Skill Id",SLOT_TYPE:"Custom Slot Type",SLOT_VALUES:"Custom Slot Values",LOCALE:"Skill Locale"},SLOT_VALUES_TOOLTIP_TEXT:"These values will overwrite the existing custom slot values.",BUTTON_LABELS:{REBUILD_MODEL:"Rebuild Model",GET_SLOT_VALUES:"Get Slot Values",CLEAR:"Clear"},MESSAGES:{MODEL_SAVE:{SUCCEEDED:{TYPE:"success",TEXT:"Successfully updated the model."},
FAILED:{TYPE:"error",TEXT:"Failed building the model."},PENDING:{TYPE:"info",TEXT:"Please wait while model is being built..."},INFO:{TYPE:"info",TEXT:"Submitted model build request"}},VALIDATE_FIELDS:{WARNING:{TYPE:"warning",TEXT:"Field(s) cannot be empty: "}},GET_BUILD_STATUS:{ERROR:{TYPE:"error",TEXT:"Error getting model build status"}},GET_SLOT_VALUES:{ERROR:{TYPE:"error",TEXT:"Error retrieving slot values for slot type: "}}},MODEL_BUILD_STATUS_VALUES:{FAILED:"Failed",PENDING:"Pending",SUCCEEDED:"Succeeded"},
SKILL_STAGES:["Development","Live","Certification"],REQ_PREFIX:"/edw/ajax",ALERT_TYPE:{SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},LOCALES:["en_US","en_GB","de_DE"]})})(window.angular);define("internal/InternalPagesConstants",function(){});
(function(h){h.module("InternalModule").controller("DeveloperWhitelistController",["$scope","CommonAjax","CommonService",function(a,c,b){a.selectedFeatures=[];a.toggleSelectedFeature=function(b){var c=a.selectedFeatures.indexOf(b);-1<c?a.selectedFeatures.splice(c,1):a.selectedFeatures.push(b)};a.betaFeatures="RAW_TEXT_SLOT PERMISSIONS PERMISSIONS_DEVICE_ADDRESS PERMISSIONS_LIST RENDER_TEMPLATE IN_SMARTHOME_LAUNCH JP_SMARTHOME_LAUNCH REDIRECT_TO_AVS TESTMATE_SUPPORT EP_VALIDATOR FLASH_BRIEFING_IN FLASH_BRIEFING_JP CUSTOM_IN CUSTOM_JP METRICS_V2_REDESIGN smapi-v0 LARGE_CATALOG".split(" ");
a.developerStatus=[{name:"EXTERNAL",value:"EXTERNAL"},{name:"INTERNAL",value:"INTERNAL"}];a.developer={status:a.developerStatus[0].value};a.whitelistDeveloper=function(){var g={},f=[],e=a.developer.whitelist;b.clearLoadingMessage();b.clearStatus();if(e)for(var e=e.split("\n"),h=0;h<e.length;h++){var d=e[h].split(" ");if(2!==d.length){b.setStatus(b.statusType.error,"Input list of users is not correct. Incorrect entry at line number: "+(h+1),null);return}f[h]={};f[h].customerId=d[0];f[h].developerStatus=
d[1];f[h].accessibleFeatures=a.selectedFeatures}else f[0]={},f[0].customerId=a.developer.customerId,f[0].developerStatus=a.developer.status,f[0].accessibleFeatures=a.selectedFeatures;g.whitelistEntries=f;b.setLoadingMessage("Whitelisting developer...");c.sendPostRequestAsync("/edw/ajax/whitelistDeveloper",g).then(function(){b.clearLoadingMessage();b.setStatus(b.statusType.success,"Developers successfully whitelisted",null);a.developer.whitelist=""},function(c){a.enableInput=!0;a.enableSubmit=!0;b.clearLoadingMessage();
c.exception?b.setStatus(b.statusType.error,"Error: "+c.message,c.stackTrace):b.setStatus(b.statusType.error,"Error: "+c,null)})}}])})(window.angular);define("internal/DeveloperWhitelistController",function(){});
(function(h){h.module("InternalModule").controller("UpdateLiveModelController",["$scope","$interval","AlexaAppManagementStorage","INTERNAL_UpdateModelConfig","CommonAjax",function(a,c,b,g,f){function e(b){a.alert.visible=!0;a.alert.type=l.ALERT_TYPE[b.TYPE];a.alert.message=b.TEXT}function k(){var b,c=function(a){return a.replace(/([A-Z])/g,function(a){return"_"+a.toLowerCase()})};b=Object.keys(a.modelData).filter(function(b){return!a.modelData[b].trim().length}).map(function(a){return c(a).toUpperCase()});
if(b.length){b=b.map(function(a){return l.INPUT_LABELS[a]}).join(", ");var d={};h.copy(l.MESSAGES.VALIDATE_FIELDS.WARNING,d);d.TEXT=d.TEXT+" "+b;e(d);return!1}return!0}function d(){f.sendGetRequestAsync(l.REQ_PREFIX+"/getLiveModelBuildStatus?skillId="+a.modelData.skillId+"&locale="+a.locale.value).then(function(a){e(l.MESSAGES.MODEL_SAVE[a.modelBuildStatus.toUpperCase()]);a.modelBuildStatus===l.MODEL_BUILD_STATUS_VALUES.PENDING&&c(function(){d()},a.pollingWaitTime,1,!0)},function(){e(l.MESSAGES.GET_BUILD_STATUS.ERROR)})}
var l=g;a.constants=l;a.alert={type:l.ALERT_TYPE.SUCCESS,visible:!1};b=l.SKILL_STAGES;a.skillStages=b.map(function(a){return{value:a,text:a}});a.skillStage={value:b[0]};b=l.LOCALES;a.locales=b.map(function(a){return{value:a,text:a}});a.locale={value:b[0]};a.modelData={skillId:"",slotType:"",slotValues:""};a.clearFields=function(){a.alert.visible=!1;a.modelData.slotType="";a.modelData.slotValues=""};a.getSlotValuesByType=function(){var b,c={};a.alert.visible=!1;a.modelData.skillId.trim().length&&a.modelData.slotType.trim().length?
(b=l.REQ_PREFIX+"/getCustomSlotValues?skillId="+a.modelData.skillId+"&skillStage="+a.skillStage.value+"&customSlotType="+a.modelData.slotType+"&locale="+a.locale.value,f.sendGetRequestAsync(b).then(function(b){a.modelData.slotValues=b.customSlotValues.join("\n")},function(){h.copy(l.MESSAGES.GET_SLOT_VALUES,c);c.TEXT+=a.modelData.slotType;e(c)})):(h.copy(l.MESSAGES.VALIDATE_FIELDS.WARNING,c),c.TEXT=c.TEXT+" "+l.INPUT_LABELS.SKILL_ID+" and/or "+l.INPUT_LABELS.SLOT_TYPE,e(c))};a.rebuildModel=function(){var b;
a.alert.visible=!1;k()&&(b={skillId:a.modelData.skillId,customSlotType:a.modelData.slotType,customSlotValues:a.modelData.slotValues.trim().split("\n"),skillStage:a.skillStage.value.toLowerCase(),locale:a.locale.value},f.sendPostRequestAsync(l.REQ_PREFIX+"/updateModel",b).then(d,function(){e(l.MESSAGES.MODEL_SAVE.FAILED)}),e(l.MESSAGES.MODEL_SAVE.INFO))}}])})(window.angular);define("internal/UpdateLiveModelController",function(){});
(function(h){h=h.module("edwApp",["ui.router","AWS-UI-Components","InternalModule","AlexaHomeModule"]);h.config(["$urlRouterProvider",function(a){a.otherwise("/")}]);h.run(["$rootScope","$state",function(a,c){a.$on("$stateChangeStart",function(a,g,f){if(g.override){var e=g.override(g,f);if(e){a.preventDefault();c.go(e.state,e.params);return}}g.redirectTo&&(a.preventDefault(),c.go(g.redirectTo,f))})}]);window.EDW_CONFIG.isMetricsV2Enabled||window.addEventListener("hashchange",function(){""===location.hash&&
(location.hash="#/")})})(window.angular);define("edwApp",function(){});
(function(h,a){a.config({baseUrl:"/edw/res/js",shim:{"ui-codemirror":{deps:["codemirror"]}},paths:{"angular-ui-bootstrap":"lib/ui-bootstrap-tpls-0.12.0.min",daterangepicker:"lib/daterangepicker-2.0.11.min",highcharts:"lib/highcharts-4.1.8.min","isteven-multi-select":"lib/isteven-multi-select-4.0.0.min",jquery:"lib/jquery-1.11.3.min",moment:"lib/moment-2.10.6.min",jsonlint:"lib/jsonlint/lib/jsonlint.min",alexaInlineValidator:"alexa-inline-validator/alexa_inline_validator","ui-codemirror":"lib/ui-codemirror.min",
"js-beautify":"lib/js-beautify/js/lib/beautify"},packages:[{name:"codemirror",location:"lib/codemirror/",main:"lib/codemirror"}],waitSeconds:20});require("Common/CommonModule Common/CommonAjax Common/CommonService Common/CommonController Common/AudioService Common/CodeMirrorExtensions Common/Compile Common/Config Common/Filters Common/ImageMaskingService Common/Polyfills Common/RecursionHelper Common/Utils Common/Controls/EdwUserInput Common/Controls/EdwV2/EdwUserInputV2 Common/Controls/EdwV2/EdwBubbleV2 Common/Controls/EdwV2/EdwHtmlDescriptionCompile Common/Controls/EdwV2/ToolTip/EdwToolTipV2 Common/Controls/EdwFileUpload Common/Controls/EdwFileInput Common/ExternalLibraries/ExternalLibrariesModule Components/AdwBanner/AdwBanner Components/AskHeaderBar/AskHeaderBar Components/AvsHeaderBar/AvsHeaderBar Components/CountrySelector/CountrySelector Components/CustomSlotTypes/CustomSlotTypes Components/EndpointInput/EndpointInput Components/ExamplePhraseBuilder/ExamplePhraseBuilder Components/ExamplePhrases/ExamplePhrases Components/FileUploadSelector/FileUploadSelector Components/MultiSelect/MultiSelect Components/SelectedUtterance/SelectedUtterance Components/SideNav/SideNav Components/TestMate/TestMate Components/SkillListItem/SkillListItem Components/SSLCertificate/SSLCertificate Home/AlexaHomeModule Home/AlexaHomeController Home/AlexaHomeConstants AlexaSkill/AlexaSkillModule AlexaSkill/AlexaSkillConstants AlexaSkill/Analytics/AlexaSkillAnalyticsConstants AlexaSkill/Analytics/AlexaSkillAnalyticsChartConfig AlexaSkill/AlexaInterfaceService AlexaSkill/AppManagement/AlexaAppManagementAjax AlexaSkill/AppManagement/AlexaAppIconCache AlexaSkill/AppManagement/AlexaAppManagementStorage AlexaSkill/Analytics/AlexaSkillAnalyticsController AlexaSkill/List/AlexaSkillListController AlexaSkill/AlexaSkillController AlexaSkill/Tabs/AlexaSkillCreateController AlexaSkill/Tabs/AlexaSkillCreateLanguageController AlexaSkill/Tabs/AlexaSkillInfoController AlexaSkill/Tabs/AlexaSkillPublishingInfoController AlexaSkill/Tabs/AlexaSkillSSLCertController AlexaSkill/Tabs/AlexaSkillPrivacyComplianceController AlexaSkill/Tabs/Configuration/AlexaSkillConfigurationController AlexaSkill/Tabs/Configuration/Content/ContentSkillConfiguration AlexaSkill/Tabs/Controls/AlexaSkillEndpointInput AlexaSkill/Tabs/InteractionModel/AlexaSkillInteractionModelController AlexaSkill/Tabs/Test/AlexaSkillTestController AlexaSkill/metricsv1/AlexaSkillHomeController AlexaSkill/Analytics/metricsv1/AlexaSkillAnalyticsController AlexaSkill/List/metricsv1/AlexaSkillListController AlexaSkill/Analytics/metricsv1/AlexaSkillAnalyticsConstants Components/SkillListItemV1/SkillListItemV1 AlexaVoiceService/AVSModule AlexaVoiceService/AVSConstants AlexaVoiceService/AVSAjax AlexaVoiceService/List/AVSListController AlexaVoiceService/Edit/AVSEditController AlexaVoiceService/Edit/Tabs/AVSProductInfoController AlexaVoiceService/Edit/Tabs/AVSProductDetailsController AlexaVoiceService/Edit/Tabs/AVSAlexaSkillsController AlexaVoiceService/Edit/Tabs/SecurityProfile/AVSSecurityProfileController AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsGeneralController AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsWebController AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsIOSController AlexaVoiceService/Edit/Tabs/SecurityProfile/Settings/AVSSPSettingsAndroidController internal/InternalModule internal/InternalPagesConstants internal/DeveloperWhitelistController internal/UpdateLiveModelController edwApp".split(" "),
function(){require("codemirror js-beautify angular-ui-bootstrap alexaInlineValidator isteven-multi-select jquery highcharts daterangepicker moment jsonlint".split(" "),function(a,b){window.CodeMirror=a;window.jsBeautify=b.js_beautify;require("codemirror/mode/javascript/javascript codemirror/addon/edit/matchbrackets codemirror/addon/edit/closebrackets codemirror/addon/lint/lint codemirror/addon/lint/javascript-lint codemirror/addon/lint/json-lint codemirror/addon/search/match-highlighter codemirror/addon/selection/active-line ui-codemirror".split(" "),
function(){window.EDW_CONFIG||(window.EDW_CONFIG={});h.element(document).ready(function(){h.bootstrap(document,["edwApp"])})})})})})(window.angular,window.requirejs);define("edwBootstrap",function(){});
